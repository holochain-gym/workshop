import"./84f75fb6.js";import{d as e,A as t,P as n,t as r,m as i,T as a,a as o,L as s,c,h as l,E as d,N as u,B as p,n as h,b as f}from"./466c6780.js";import{d as m}from"./962426a7.js";
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const g=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?Object.assign(Object.assign({},t),{finisher(n){n.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(n){n.createProperty(t.key,e)}};function v(e){return(t,n)=>void 0!==n?((e,t,n)=>{t.constructor.createProperty(n,e)})(e,t,n):g(e,t)}function y(e){return v({attribute:!1,hasChanged:null==e?void 0:e.hasChanged})}function b(e,t){return(n,r)=>{const i={get(){return this.renderRoot.querySelector(e)},enumerable:!0,configurable:!0};if(t){const t="symbol"==typeof r?Symbol():`__${r}`;i.get=function(){return void 0===this[t]&&(this[t]=this.renderRoot.querySelector(e)),this[t]}}return void 0!==r?x(i,n,r):w(i,n)}}function _(e){return(t,n)=>{const r={async get(){return await this.updateComplete,this.renderRoot.querySelector(e)},enumerable:!0,configurable:!0};return void 0!==n?x(r,t,n):w(r,t)}}const x=(e,t,n)=>{Object.defineProperty(t,n,e)},w=(e,t)=>({kind:"method",placement:"prototype",key:t.key,descriptor:e});function k(e){return(t,n)=>void 0!==n?((e,t,n)=>{Object.assign(t[n],e)})(e,t,n):((e,t)=>Object.assign(Object.assign({},t),{finisher(n){Object.assign(n.prototype[t.key],e)}}))(e,t)}class E{constructor(e){this.classes=new Set,this.changed=!1,this.element=e;const t=(e.getAttribute("class")||"").split(/\s+/);for(const e of t)this.classes.add(e)}add(e){this.classes.add(e),this.changed=!0}remove(e){this.classes.delete(e),this.changed=!0}commit(){if(this.changed){let e="";this.classes.forEach((t=>e+=t+" ")),this.element.setAttribute("class",e)}}}const C=new WeakMap,S=e((e=>r=>{if(!(r instanceof t)||r instanceof n||"class"!==r.committer.name||r.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:i}=r,{element:a}=i;let o=C.get(r);void 0===o&&(a.setAttribute("class",i.strings.join(" ")),C.set(r,o=new Set));const s=a.classList||new E(a);o.forEach((t=>{t in e||(s.remove(t),o.delete(t))}));for(const t in e){const n=e[t];n!=o.has(t)&&(n?(s.add(t),o.add(t)):(s.remove(t),o.delete(t)))}"function"==typeof s.commit&&s.commit()})),A=new WeakMap,T=e((e=>n=>{const r=A.get(n);if(void 0===e&&n instanceof t){if(void 0!==r||!A.has(n)){const e=n.committer.name;n.committer.element.removeAttribute(e)}}else e!==r&&n.setValue(e);A.set(n,e)})),I=new WeakMap,O=e((e=>r=>{if(!(r instanceof t)||r instanceof n||"style"!==r.committer.name||r.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");const{committer:i}=r,{style:a}=i.element;let o=I.get(r);void 0===o&&(a.cssText=i.strings.join(" "),I.set(r,o=new Set)),o.forEach((t=>{t in e||(o.delete(t),-1===t.indexOf("-")?a[t]=null:a.removeProperty(t))}));for(const t in e)o.add(t),-1===t.indexOf("-")?a[t]=e[t]:a.setProperty(t,e[t])}));class R{constructor(e){this._parent=e,this._cache=new Map}has(e){return!!(this._cache.has(e)||this._parent&&this._parent._cache.has(e))}set(e,t){return this._cache.set(e,t),this}get(e){return this._cache.get(e)||this._parent&&this._parent._cache.get(e)}}let D=Math.round(1e5*Math.random());const P="-|\\.|[0-9]|[a-z]",L=new RegExp(`[a-z](${P})*-(${P})*`),N=(e,t)=>{const n=`${e}-${D+=1}`;return((e,t)=>!!t.get(e))(n,t)?N(e,t):n};function M(e,t=customElements){if(n=e,null===L.exec(n))throw new Error("tagName is invalid");var n;return N(e,t)}const F=new WeakMap,z=(e,t)=>F.set(t,e),B=(e,t,n=customElements)=>{z(e,t),n.define(e,class extends t{})},j=(e,t,n)=>{const r=customElements;if(!(e=>Object.prototype.isPrototypeOf.call(HTMLElement,e))(t))return((e,t,n)=>{const r=M(e,t);if(!n)throw new Error("Lazy scoped elements requires the use of tags cache");return n.set(e,r),r})(e,r,n);if(t===customElements.get(e))return z(e,t),e;const i=M(e,r);return B(i,t,r),i};function H(e,t,n){return(e=>F.get(e))(t)||n&&n.get(e)||j(e,t,n)}const V=new RegExp("<\\/?([a-z](-|\\.|[0-9]|[a-z])*-(-|\\.|[0-9]|[a-z])*)","g"),$=new R,U=(e,t,n,r)=>{const i=e.map((e=>{let n=e;const i=(e=>{const t=[];let n;for(;null!==(n=V.exec(e));)t.push(n);return t})(e);for(let e=i.length-1;e>=0;e-=1){const a=i[e],[o,s]=a,c=H(s,t[s],r),l=a.index+o.length-s.length,d=l+s.length,u=0===o.indexOf("</");n=n.slice(0,l)+(u?c:`${c} data-tag-name="${s}"`)+n.slice(d)}return n}));return n.set(e,i),i};let G=!0;const{ShadyCSS:q}=window;(void 0===q||void 0===q.prepareTemplateDom)&&(G=!1);const X=new WeakMap,Y=new WeakMap,K=e=>(Y.has(e)||Y.set(e,new R(Y.get(e.constructor))),Y.get(e)),W=(e,t,n,r)=>e.map((e=>e instanceof o?Z(e,t,n,r):Array.isArray(e)?W(e,t,n,r):e)),Z=(e,t,n,r)=>new o(function(e,t,n=$,r){return n.get(e)||U(e,t,n,r)}(e.strings,t,n,r),W(e.values,t,n,r),e.type,e.processor),Q=(e,t,n,o)=>s=>{const c=Z(s,t,n,o);return(e=>t=>{const n=((e,t)=>`${e}--${t}`)(t.type,e);let o=r.get(n);void 0===o&&(o={stringsArray:new WeakMap,keyString:new Map},r.set(n,o));let s=o.stringsArray.get(t.strings);if(void 0!==s)return s;const c=t.strings.join(i);if(s=o.keyString.get(c),void 0===s){const n=t.getTemplateElement();G&&q.prepareTemplateDom(n,e),s=new a(t,n),o.keyString.set(c,s)}return o.stringsArray.set(t.strings,s),s})(e)(c)},J=m((e=>class extends e{static get scopedElements(){return{}}static render(e,t,n){if(!n||"object"!=typeof n||!n.scopeName)throw new Error("The `scopeName` option is required.");const{scopeName:r,eventContext:i}=n,a=(o=i,X.has(o)||X.set(o,new R(X.get(o.constructor))),X.get(o));var o;const s=K(i),{scopedElements:c}=this;return super.render(e,t,{...n,templateFactory:Q(r,c,a,s)})}defineScopedElement(e,t){return function(e,t,n){const r=n.get(e);r?void 0===customElements.get(r)&&B(r,t,customElements):n.set(e,H(e,t,n))}(e,t,K(this))}static getScopedTagName(e){const t=this.scopedElements[e];return t?H(e,t,K(this)):K(this).get(e)}getScopedTagName(e){const t=this.constructor.scopedElements[e];return t?H(e,t,K(this)):K(this).get(e)}}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ee=function(e,t){return(ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function te(e,t){function n(){this.constructor=e}ee(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ne=function(){return(ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function re(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function ie(e,t){return(e.matches||e.webkitMatchesSelector||e.msMatchesSelector).call(e,t)}const ae=e=>e.nodeType===Node.ELEMENT_NODE;function oe(e,t){for(const n of e.assignedNodes({flatten:!0}))if(ae(n)){const e=n;if(ie(e,t))return e}return null}function se(e){return{addClass:t=>{e.classList.add(t)},removeClass:t=>{e.classList.remove(t)},hasClass:t=>e.classList.contains(t)}}const ce=()=>{},le={get passive(){return!1}};document.addEventListener("x",ce,le),document.removeEventListener("x",ce);const de=(e=window.document)=>{let t=e.activeElement;const n=[];if(!t)return n;for(;t&&(n.push(t),t.shadowRoot);)t=t.shadowRoot.activeElement;return n},ue=e=>{const t=de();if(!t.length)return!1;const n=t[t.length-1],r=new Event("check-if-focused",{bubbles:!0,composed:!0});let i=[];const a=e=>{i=e.composedPath()};return document.body.addEventListener("check-if-focused",a),n.dispatchEvent(r),document.body.removeEventListener("check-if-focused",a),-1!==i.indexOf(e)};class pe extends s{click(){if(this.mdcRoot)return this.mdcRoot.focus(),void this.mdcRoot.click();super.click()}createFoundation(){void 0!==this.mdcFoundation&&this.mdcFoundation.destroy(),this.mdcFoundationClass&&(this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init())}firstUpdated(){this.createFoundation()}}
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const he=e=>(t,n)=>{if(t.constructor._observers){if(!t.constructor.hasOwnProperty("_observers")){const e=t.constructor._observers;t.constructor._observers=new Map,e.forEach(((e,n)=>t.constructor._observers.set(n,e)))}}else{t.constructor._observers=new Map;const e=t.updated;t.updated=function(t){e.call(this,t),t.forEach(((e,t)=>{const n=this.constructor._observers.get(t);void 0!==n&&n.call(this,this[t],e)}))}}t.constructor._observers.set(n,e)}
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */;var fe=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),me={CLOSING:"mdc-snackbar--closing",OPEN:"mdc-snackbar--open",OPENING:"mdc-snackbar--opening"},ge={ACTION_SELECTOR:".mdc-snackbar__action",ARIA_LIVE_LABEL_TEXT_ATTR:"data-mdc-snackbar-label-text",CLOSED_EVENT:"MDCSnackbar:closed",CLOSING_EVENT:"MDCSnackbar:closing",DISMISS_SELECTOR:".mdc-snackbar__dismiss",LABEL_SELECTOR:".mdc-snackbar__label",OPENED_EVENT:"MDCSnackbar:opened",OPENING_EVENT:"MDCSnackbar:opening",REASON_ACTION:"action",REASON_DISMISS:"dismiss",SURFACE_SELECTOR:".mdc-snackbar__surface"},ve={DEFAULT_AUTO_DISMISS_TIMEOUT_MS:5e3,INDETERMINATE:-1,MAX_AUTO_DISMISS_TIMEOUT_MS:1e4,MIN_AUTO_DISMISS_TIMEOUT_MS:4e3,SNACKBAR_ANIMATION_CLOSE_TIME_MS:75,SNACKBAR_ANIMATION_OPEN_TIME_MS:150,ARIA_LIVE_DELAY_MS:1e3},ye=me.OPENING,be=me.OPEN,_e=me.CLOSING,xe=ge.REASON_ACTION,we=ge.REASON_DISMISS,ke=function(e){function t(n){var r=e.call(this,ne(ne({},t.defaultAdapter),n))||this;return r.isOpen_=!1,r.animationFrame_=0,r.animationTimer_=0,r.autoDismissTimer_=0,r.autoDismissTimeoutMs_=ve.DEFAULT_AUTO_DISMISS_TIMEOUT_MS,r.closeOnEscape_=!0,r}return te(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return me},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return ge},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return ve},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},announce:function(){},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},removeClass:function(){}}},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.clearAutoDismissTimer_(),cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,clearTimeout(this.animationTimer_),this.animationTimer_=0,this.adapter.removeClass(ye),this.adapter.removeClass(be),this.adapter.removeClass(_e)},t.prototype.open=function(){var e=this;this.clearAutoDismissTimer_(),this.isOpen_=!0,this.adapter.notifyOpening(),this.adapter.removeClass(_e),this.adapter.addClass(ye),this.adapter.announce(),this.runNextAnimationFrame_((function(){e.adapter.addClass(be),e.animationTimer_=setTimeout((function(){var t=e.getTimeoutMs();e.handleAnimationTimerEnd_(),e.adapter.notifyOpened(),t!==ve.INDETERMINATE&&(e.autoDismissTimer_=setTimeout((function(){e.close(we)}),t))}),ve.SNACKBAR_ANIMATION_OPEN_TIME_MS)}))},t.prototype.close=function(e){var t=this;void 0===e&&(e=""),this.isOpen_&&(cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,this.clearAutoDismissTimer_(),this.isOpen_=!1,this.adapter.notifyClosing(e),this.adapter.addClass(me.CLOSING),this.adapter.removeClass(me.OPEN),this.adapter.removeClass(me.OPENING),clearTimeout(this.animationTimer_),this.animationTimer_=setTimeout((function(){t.handleAnimationTimerEnd_(),t.adapter.notifyClosed(e)}),ve.SNACKBAR_ANIMATION_CLOSE_TIME_MS))},t.prototype.isOpen=function(){return this.isOpen_},t.prototype.getTimeoutMs=function(){return this.autoDismissTimeoutMs_},t.prototype.setTimeoutMs=function(e){var t=ve.MIN_AUTO_DISMISS_TIMEOUT_MS,n=ve.MAX_AUTO_DISMISS_TIMEOUT_MS;if(!(e===ve.INDETERMINATE||e<=n&&e>=t))throw new Error("\n        timeoutMs must be an integer in the range "+t+"â€“"+n+"\n        (or "+ve.INDETERMINATE+" to disable), but got '"+e+"'");this.autoDismissTimeoutMs_=e},t.prototype.getCloseOnEscape=function(){return this.closeOnEscape_},t.prototype.setCloseOnEscape=function(e){this.closeOnEscape_=e},t.prototype.handleKeyDown=function(e){("Escape"===e.key||27===e.keyCode)&&this.getCloseOnEscape()&&this.close(we)},t.prototype.handleActionButtonClick=function(e){this.close(xe)},t.prototype.handleActionIconClick=function(e){this.close(we)},t.prototype.clearAutoDismissTimer_=function(){clearTimeout(this.autoDismissTimer_),this.autoDismissTimer_=0},t.prototype.handleAnimationTimerEnd_=function(){this.animationTimer_=0,this.adapter.removeClass(me.OPENING),this.adapter.removeClass(me.CLOSING)},t.prototype.runNextAnimationFrame_=function(e){var t=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame((function(){t.animationFrame_=0,clearTimeout(t.animationTimer_),t.animationTimer_=setTimeout(e,0)}))},t}(fe);
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */let Ee,Ce,Se=e=>e;
/**
@license
Copyright 2019 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const{ARIA_LIVE_LABEL_TEXT_ATTR:Ae}=ke.strings,{ARIA_LIVE_DELAY_MS:Te}=ke.numbers,Ie=new WeakMap,Oe=e(((e,t)=>n=>{if(!t)return;let r=Ie.get(n);if(void 0===r){const t=document.createElement("div");return t.setAttribute("class","mdc-snackbar__label"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.textContent=e,n.endNode.parentNode.insertBefore(t,n.endNode),r={labelEl:t,timerId:null},void Ie.set(n,r)}const i=r,a=i.labelEl;a.setAttribute("aria-live","off"),a.textContent="",a.innerHTML='<span style="display: inline-block; width: 0; height: 1px;">&nbsp;</span>',a.setAttribute(Ae,e),null!==i.timerId&&clearTimeout(i.timerId),i.timerId=window.setTimeout((()=>{i.timerId=null,a.setAttribute("aria-live","polite"),a.removeAttribute(Ae),a.textContent=e}),Te)})),{OPENING_EVENT:Re,OPENED_EVENT:De,CLOSING_EVENT:Pe,CLOSED_EVENT:Le}=ke.strings;class Ne extends pe{constructor(){super(...arguments),this.mdcFoundationClass=ke,this.open=!1,this.timeoutMs=5e3,this.closeOnEscape=!1,this.labelText="",this.stacked=!1,this.leading=!1,this.reason=""}render(){const e={"mdc-snackbar--stacked":this.stacked,"mdc-snackbar--leading":this.leading};return l(Ee||(Ee=Se`
      <div class="mdc-snackbar ${0}" @keydown="${0}">
        <div class="mdc-snackbar__surface">
          ${0}
          <div class="mdc-snackbar__actions">
            <slot name="action" @click="${0}"></slot>
            <slot name="dismiss" @click="${0}"></slot>
          </div>
        </div>
      </div>`),S(e),this._handleKeydown,Oe(this.labelText,this.open),this._handleActionClick,this._handleDismissClick)}createAdapter(){return Object.assign(Object.assign({},se(this.mdcRoot)),{announce:()=>{},notifyClosed:e=>{this.dispatchEvent(new CustomEvent(Le,{bubbles:!0,cancelable:!0,detail:{reason:e}}))},notifyClosing:e=>{this.open=!1,this.dispatchEvent(new CustomEvent(Pe,{bubbles:!0,cancelable:!0,detail:{reason:e}}))},notifyOpened:()=>{this.dispatchEvent(new CustomEvent(De,{bubbles:!0,cancelable:!0}))},notifyOpening:()=>{this.open=!0,this.dispatchEvent(new CustomEvent(Re,{bubbles:!0,cancelable:!0}))}})}show(){this.open=!0}close(e=""){this.reason=e,this.open=!1}firstUpdated(){super.firstUpdated(),this.open&&this.mdcFoundation.open()}_handleKeydown(e){this.mdcFoundation.handleKeyDown(e)}_handleActionClick(e){this.mdcFoundation.handleActionButtonClick(e)}_handleDismissClick(e){this.mdcFoundation.handleActionIconClick(e)}}re([b(".mdc-snackbar")],Ne.prototype,"mdcRoot",void 0),re([b(".mdc-snackbar__label")],Ne.prototype,"labelElement",void 0),re([v({type:Boolean,reflect:!0}),he((function(e){this.mdcFoundation&&(e?this.mdcFoundation.open():(this.mdcFoundation.close(this.reason),this.reason=""))}))],Ne.prototype,"open",void 0),re([he((function(e){this.mdcFoundation.setTimeoutMs(e)})),v({type:Number})],Ne.prototype,"timeoutMs",void 0),re([he((function(e){this.mdcFoundation.setCloseOnEscape(e)})),v({type:Boolean})],Ne.prototype,"closeOnEscape",void 0),re([v({type:String})],Ne.prototype,"labelText",void 0),re([v({type:Boolean})],Ne.prototype,"stacked",void 0),re([v({type:Boolean})],Ne.prototype,"leading",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Me=c(Ce||(Ce=Se`.mdc-snackbar{z-index:8;margin:8px;display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar__surface{background-color:#333333}.mdc-snackbar__label{color:rgba(255, 255, 255, 0.87)}.mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mdc-snackbar__surface{min-width:100%}}.mdc-snackbar__surface{max-width:672px}.mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0,0,0,.12)}.mdc-snackbar__surface{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar--leading{justify-content:flex-start}.mdc-snackbar--stacked .mdc-snackbar__label{padding-left:16px;padding-right:8px;padding-bottom:12px}[dir=rtl] .mdc-snackbar--stacked .mdc-snackbar__label,.mdc-snackbar--stacked .mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar--stacked .mdc-snackbar__surface{flex-direction:column;align-items:flex-start}.mdc-snackbar--stacked .mdc-snackbar__actions{align-self:flex-end;margin-bottom:8px}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto;transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1);transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-snackbar__label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action:not(:disabled){color:#bb86fc}.mdc-snackbar__action::before,.mdc-snackbar__action::after{background-color:#bb86fc;background-color:var(--mdc-ripple-color, #bb86fc)}.mdc-snackbar__action:hover::before,.mdc-snackbar__action.mdc-ripple-surface--hover::before{opacity:0.08;opacity:var(--mdc-ripple-hover-opacity, 0.08)}.mdc-snackbar__action.mdc-ripple-upgraded--background-focused::before,.mdc-snackbar__action:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-snackbar__action:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-snackbar__action:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-snackbar__action.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.24)}.mdc-snackbar__dismiss{color:rgba(255, 255, 255, 0.87)}.mdc-snackbar__dismiss::before,.mdc-snackbar__dismiss::after{background-color:rgba(255, 255, 255, 0.87);background-color:var(--mdc-ripple-color, rgba(255, 255, 255, 0.87))}.mdc-snackbar__dismiss:hover::before,.mdc-snackbar__dismiss.mdc-ripple-surface--hover::before{opacity:0.08;opacity:var(--mdc-ripple-hover-opacity, 0.08)}.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused::before,.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-snackbar__dismiss.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.24)}.mdc-snackbar__dismiss.mdc-snackbar__dismiss{width:36px;height:36px;padding:9px;font-size:18px}.mdc-snackbar__dismiss.mdc-snackbar__dismiss svg,.mdc-snackbar__dismiss.mdc-snackbar__dismiss img{width:18px;height:18px}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}slot[name=action]::slotted(mwc-button){--mdc-theme-primary: var(--mdc-snackbar-action-color, #bb86fc)}slot[name=dismiss]::slotted(mwc-icon-button){--mdc-icon-size: 18px;--mdc-icon-button-size: 36px;color:rgba(255, 255, 255, 0.87);margin-left:8px;margin-right:0}[dir=rtl] slot[name=dismiss]::slotted(mwc-icon-button),slot[name=dismiss]::slotted(mwc-icon-button)[dir=rtl]{margin-left:0;margin-right:8px}`));class Fe extends Ne{}Fe.styles=Me;let ze,Be,je,He,Ve=e=>e;class $e extends s{constructor(){super(...arguments),this.indeterminate=!1,this.progress=0,this.density=0,this.closed=!1,this.ariaLabel=""}open(){this.closed=!1}close(){this.closed=!0}render(){const e={"mdc-circular-progress--closed":this.closed,"mdc-circular-progress--indeterminate":this.indeterminate},t=48+4*this.density,n={width:`${t}px`,height:`${t}px`};return l(ze||(ze=Ve`
      <div
        class="mdc-circular-progress ${0}"
        style="${0}"
        role="progressbar"
        aria-label="${0}"
        aria-valuemin="0"
        aria-valuemax="1"
        aria-valuenow="${0}">
        ${0}
        ${0}
      </div>`),S(e),O(n),this.ariaLabel,T(this.indeterminate?void 0:this.progress),this.renderDeterminateContainer(),this.renderIndeterminateContainer())}renderDeterminateContainer(){const e=48+4*this.density,t=e/2,n=this.density>=-3?18+11*this.density/6:12.5+5*(this.density+3)/4,r=6.2831852*n,i=(1-this.progress)*r,a=this.density>=-3?4+this.density*(1/3):3+(this.density+3)*(1/6);return l(Be||(Be=Ve`
      <div class="mdc-circular-progress__determinate-container">
        <svg class="mdc-circular-progress__determinate-circle-graphic"
             viewBox="0 0 ${0} ${0}">
          <circle class="mdc-circular-progress__determinate-track"
                  cx="${0}" cy="${0}" r="${0}"
                  stroke-width="${0}"></circle>
          <circle class="mdc-circular-progress__determinate-circle"
                  cx="${0}" cy="${0}" r="${0}"
                  stroke-dasharray="${0}"
                  stroke-dashoffset="${0}"
                  stroke-width="${0}"></circle>
        </svg>
      </div>`),e,e,t,t,n,a,t,t,n,6.2831852*n,i,a)}renderIndeterminateContainer(){return l(je||(je=Ve`
      <div class="mdc-circular-progress__indeterminate-container">
        <div class="mdc-circular-progress__spinner-layer">
          ${0}
        </div>
      </div>`),this.renderIndeterminateSpinnerLayer())}renderIndeterminateSpinnerLayer(){const e=48+4*this.density,t=e/2,n=this.density>=-3?18+11*this.density/6:12.5+5*(this.density+3)/4,r=6.2831852*n,i=.5*r,a=this.density>=-3?4+this.density*(1/3):3+(this.density+3)*(1/6);return l(He||(He=Ve`
        <div class="mdc-circular-progress__circle-clipper mdc-circular-progress__circle-left">
          <svg class="mdc-circular-progress__indeterminate-circle-graphic"
               viewBox="0 0 ${0} ${0}">
            <circle cx="${0}" cy="${0}" r="${0}"
                    stroke-dasharray="${0}"
                    stroke-dashoffset="${0}"
                    stroke-width="${0}"></circle>
          </svg>
        </div>
        <div class="mdc-circular-progress__gap-patch">
          <svg class="mdc-circular-progress__indeterminate-circle-graphic"
               viewBox="0 0 ${0} ${0}">
            <circle cx="${0}" cy="${0}" r="${0}"
                    stroke-dasharray="${0}"
                    stroke-dashoffset="${0}"
                    stroke-width="${0}"></circle>
          </svg>
        </div>
        <div class="mdc-circular-progress__circle-clipper mdc-circular-progress__circle-right">
          <svg class="mdc-circular-progress__indeterminate-circle-graphic"
               viewBox="0 0 ${0} ${0}">
            <circle cx="${0}" cy="${0}" r="${0}"
                    stroke-dasharray="${0}"
                    stroke-dashoffset="${0}"
                    stroke-width="${0}"></circle>
          </svg>
        </div>`),e,e,t,t,n,r,i,a,e,e,t,t,n,r,i,.8*a,e,e,t,t,n,r,i,a)}update(e){super.update(e),e.has("progress")&&(this.progress>1&&(this.progress=1),this.progress<0&&(this.progress=0))}}re([v({type:Boolean,reflect:!0})],$e.prototype,"indeterminate",void 0),re([v({type:Number,reflect:!0})],$e.prototype,"progress",void 0),re([v({type:Number,reflect:!0})],$e.prototype,"density",void 0),re([v({type:Boolean,reflect:!0})],$e.prototype,"closed",void 0),re([v({type:String})],$e.prototype,"ariaLabel",void 0);let Ue;
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const Ge=c(Ue||(Ue=(e=>e)`.mdc-circular-progress__determinate-circle,.mdc-circular-progress__indeterminate-circle-graphic{stroke:#6200ee;stroke:var(--mdc-theme-primary, #6200ee)}.mdc-circular-progress__determinate-track{stroke:transparent}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:transparent}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}:host{display:inline-flex}.mdc-circular-progress__determinate-track{stroke:transparent;stroke:var(--mdc-circular-progress-track-color, transparent)}`));class qe extends $e{}qe.styles=Ge;
/**
@license
Copyright 2020 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
class Xe{constructor(e){this.startPress=t=>{e().then((e=>{e&&e.startPress(t)}))},this.endPress=()=>{e().then((e=>{e&&e.endPress()}))},this.startFocus=()=>{e().then((e=>{e&&e.startFocus()}))},this.endFocus=()=>{e().then((e=>{e&&e.endFocus()}))},this.startHover=()=>{e().then((e=>{e&&e.startHover()}))},this.endHover=()=>{e().then((e=>{e&&e.endHover()}))}}}let Ye;
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const Ke=c(Ye||(Ye=(e=>e)`.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:transparent;fill:currentColor;color:inherit;font-size:24px;text-decoration:none;cursor:pointer;user-select:none;width:48px;height:48px;padding:12px}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button:disabled{color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-disabled-on-light, rgba(0, 0, 0, 0.38))}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}:host{display:inline-block;outline:none;--mdc-ripple-color: currentcolor;-webkit-tap-highlight-color:transparent}:host([disabled]){pointer-events:none}:host,.mdc-icon-button{vertical-align:top}.mdc-icon-button{width:var(--mdc-icon-button-size, 48px);height:var(--mdc-icon-button-size, 48px);padding:calc( (var(--mdc-icon-button-size, 48px) - var(--mdc-icon-size, 24px)) / 2 )}.mdc-icon-button>i{position:absolute;top:0;padding-top:inherit}.mdc-icon-button i,.mdc-icon-button svg,.mdc-icon-button img,.mdc-icon-button ::slotted(*){display:block;width:var(--mdc-icon-size, 24px);height:var(--mdc-icon-size, 24px)}`));
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var We={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},Ze={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},Qe={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};var Je=["touchstart","pointerdown","mousedown","keydown"],et=["touchend","pointerup","mouseup","contextmenu"],tt=[],nt=function(e){function t(n){var r=e.call(this,ne(ne({},t.defaultAdapter),n))||this;return r.activationAnimationHasEnded_=!1,r.activationTimer_=0,r.fgDeactivationRemovalTimer_=0,r.fgScale_="0",r.frame_={width:0,height:0},r.initialSize_=0,r.layoutFrame_=0,r.maxRadius_=0,r.unboundedCoords_={left:0,top:0},r.activationState_=r.defaultActivationState_(),r.activationTimerCallback_=function(){r.activationAnimationHasEnded_=!0,r.runDeactivationUXLogicIfReady_()},r.activateHandler_=function(e){return r.activate_(e)},r.deactivateHandler_=function(){return r.deactivate_()},r.focusHandler_=function(){return r.handleFocus()},r.blurHandler_=function(){return r.handleBlur()},r.resizeHandler_=function(){return r.layout()},r}return te(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return We},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Ze},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Qe},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this,n=this.supportsPressRipple_();if(this.registerRootHandlers_(n),n){var r=t.cssClasses,i=r.ROOT,a=r.UNBOUNDED;requestAnimationFrame((function(){e.adapter.addClass(i),e.adapter.isUnbounded()&&(e.adapter.addClass(a),e.layoutInternal_())}))}},t.prototype.destroy=function(){var e=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter.removeClass(t.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter.removeClass(t.cssClasses.FG_DEACTIVATION));var n=t.cssClasses,r=n.ROOT,i=n.UNBOUNDED;requestAnimationFrame((function(){e.adapter.removeClass(r),e.adapter.removeClass(i),e.removeCssVars_()}))}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},t.prototype.activate=function(e){this.activate_(e)},t.prototype.deactivate=function(){this.deactivate_()},t.prototype.layout=function(){var e=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){e.layoutInternal_(),e.layoutFrame_=0}))},t.prototype.setUnbounded=function(e){var n=t.cssClasses.UNBOUNDED;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.handleFocus=function(){var e=this;requestAnimationFrame((function(){return e.adapter.addClass(t.cssClasses.BG_FOCUSED)}))},t.prototype.handleBlur=function(){var e=this;requestAnimationFrame((function(){return e.adapter.removeClass(t.cssClasses.BG_FOCUSED)}))},t.prototype.supportsPressRipple_=function(){return this.adapter.browserSupportsCssVars()},t.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},t.prototype.registerRootHandlers_=function(e){var t=this;e&&(Je.forEach((function(e){t.adapter.registerInteractionHandler(e,t.activateHandler_)})),this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler_)),this.adapter.registerInteractionHandler("focus",this.focusHandler_),this.adapter.registerInteractionHandler("blur",this.blurHandler_)},t.prototype.registerDeactivationHandlers_=function(e){var t=this;"keydown"===e.type?this.adapter.registerInteractionHandler("keyup",this.deactivateHandler_):et.forEach((function(e){t.adapter.registerDocumentInteractionHandler(e,t.deactivateHandler_)}))},t.prototype.deregisterRootHandlers_=function(){var e=this;Je.forEach((function(t){e.adapter.deregisterInteractionHandler(t,e.activateHandler_)})),this.adapter.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler_)},t.prototype.deregisterDeactivationHandlers_=function(){var e=this;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler_),et.forEach((function(t){e.adapter.deregisterDocumentInteractionHandler(t,e.deactivateHandler_)}))},t.prototype.removeCssVars_=function(){var e=this,n=t.strings;Object.keys(n).forEach((function(t){0===t.indexOf("VAR_")&&e.adapter.updateCssVariable(n[t],null)}))},t.prototype.activate_=function(e){var t=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState_;if(!n.isActivated){var r=this.previousActivationEvent_;if(!(r&&void 0!==e&&r.type!==e.type))n.isActivated=!0,n.isProgrammatic=void 0===e,n.activationEvent=e,n.wasActivatedByPointer=!n.isProgrammatic&&(void 0!==e&&("mousedown"===e.type||"touchstart"===e.type||"pointerdown"===e.type)),void 0!==e&&tt.length>0&&tt.some((function(e){return t.adapter.containsEventTarget(e)}))?this.resetActivationState_():(void 0!==e&&(tt.push(e.target),this.registerDeactivationHandlers_(e)),n.wasElementMadeActive=this.checkElementMadeActive_(e),n.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame((function(){tt=[],n.wasElementMadeActive||void 0===e||" "!==e.key&&32!==e.keyCode||(n.wasElementMadeActive=t.checkElementMadeActive_(e),n.wasElementMadeActive&&t.animateActivation_()),n.wasElementMadeActive||(t.activationState_=t.defaultActivationState_())})))}}},t.prototype.checkElementMadeActive_=function(e){return void 0===e||"keydown"!==e.type||this.adapter.isSurfaceActive()},t.prototype.animateActivation_=function(){var e=this,n=t.strings,r=n.VAR_FG_TRANSLATE_START,i=n.VAR_FG_TRANSLATE_END,a=t.cssClasses,o=a.FG_DEACTIVATION,s=a.FG_ACTIVATION,c=t.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var l="",d="";if(!this.adapter.isUnbounded()){var u=this.getFgTranslationCoordinates_(),p=u.startPoint,h=u.endPoint;l=p.x+"px, "+p.y+"px",d=h.x+"px, "+h.y+"px"}this.adapter.updateCssVariable(r,l),this.adapter.updateCssVariable(i,d),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter.removeClass(o),this.adapter.computeBoundingRect(),this.adapter.addClass(s),this.activationTimer_=setTimeout((function(){return e.activationTimerCallback_()}),c)},t.prototype.getFgTranslationCoordinates_=function(){var e,t=this.activationState_,n=t.activationEvent;return{startPoint:e={x:(e=t.wasActivatedByPointer?function(e,t,n){if(!e)return{x:0,y:0};var r,i,a=t.x,o=t.y,s=a+n.left,c=o+n.top;if("touchstart"===e.type){var l=e;r=l.changedTouches[0].pageX-s,i=l.changedTouches[0].pageY-c}else{var d=e;r=d.pageX-s,i=d.pageY-c}return{x:r,y:i}}(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame_.width/2,y:this.frame_.height/2}).x-this.initialSize_/2,y:e.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},t.prototype.runDeactivationUXLogicIfReady_=function(){var e=this,n=t.cssClasses.FG_DEACTIVATION,r=this.activationState_,i=r.hasDeactivationUXRun,a=r.isActivated;(i||!a)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer_=setTimeout((function(){e.adapter.removeClass(n)}),Qe.FG_DEACTIVATION_MS))},t.prototype.rmBoundedActivationClasses_=function(){var e=t.cssClasses.FG_ACTIVATION;this.adapter.removeClass(e),this.activationAnimationHasEnded_=!1,this.adapter.computeBoundingRect()},t.prototype.resetActivationState_=function(){var e=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout((function(){return e.previousActivationEvent_=void 0}),t.numbers.TAP_DELAY_MS)},t.prototype.deactivate_=function(){var e=this,t=this.activationState_;if(t.isActivated){var n=ne({},t);t.isProgrammatic?(requestAnimationFrame((function(){return e.animateDeactivation_(n)})),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame((function(){e.activationState_.hasDeactivationUXRun=!0,e.animateDeactivation_(n),e.resetActivationState_()})))}},t.prototype.animateDeactivation_=function(e){var t=e.wasActivatedByPointer,n=e.wasElementMadeActive;(t||n)&&this.runDeactivationUXLogicIfReady_()},t.prototype.layoutInternal_=function(){var e=this;this.frame_=this.adapter.computeBoundingRect();var n=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter.isUnbounded()?n:Math.sqrt(Math.pow(e.frame_.width,2)+Math.pow(e.frame_.height,2))+t.numbers.PADDING;var r=Math.floor(n*t.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&r%2!=0?this.initialSize_=r-1:this.initialSize_=r,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},t.prototype.updateLayoutCssVars_=function(){var e=t.strings,n=e.VAR_FG_SIZE,r=e.VAR_LEFT,i=e.VAR_TOP,a=e.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize_+"px"),this.adapter.updateCssVariable(a,this.fgScale_),this.adapter.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter.updateCssVariable(r,this.unboundedCoords_.left+"px"),this.adapter.updateCssVariable(i,this.unboundedCoords_.top+"px"))},t}(fe);let rt,it,at=e=>e;class ot extends pe{constructor(){super(...arguments),this.primary=!1,this.accent=!1,this.unbounded=!1,this.disabled=!1,this.activated=!1,this.selected=!1,this.hovering=!1,this.bgFocused=!1,this.fgActivation=!1,this.fgDeactivation=!1,this.fgScale="",this.fgSize="",this.translateStart="",this.translateEnd="",this.leftPos="",this.topPos="",this.mdcFoundationClass=nt}get isActive(){return(this.parentElement||this).matches(":active")}createAdapter(){return{browserSupportsCssVars:()=>!0,isUnbounded:()=>this.unbounded,isSurfaceActive:()=>this.isActive,isSurfaceDisabled:()=>this.disabled,addClass:e=>{switch(e){case"mdc-ripple-upgraded--background-focused":this.bgFocused=!0;break;case"mdc-ripple-upgraded--foreground-activation":this.fgActivation=!0;break;case"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation=!0}},removeClass:e=>{switch(e){case"mdc-ripple-upgraded--background-focused":this.bgFocused=!1;break;case"mdc-ripple-upgraded--foreground-activation":this.fgActivation=!1;break;case"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation=!1}},containsEventTarget:()=>!0,registerInteractionHandler:()=>{},deregisterInteractionHandler:()=>{},registerDocumentInteractionHandler:()=>{},deregisterDocumentInteractionHandler:()=>{},registerResizeHandler:()=>{},deregisterResizeHandler:()=>{},updateCssVariable:(e,t)=>{switch(e){case"--mdc-ripple-fg-scale":this.fgScale=t;break;case"--mdc-ripple-fg-size":this.fgSize=t;break;case"--mdc-ripple-fg-translate-end":this.translateEnd=t;break;case"--mdc-ripple-fg-translate-start":this.translateStart=t;break;case"--mdc-ripple-left":this.leftPos=t;break;case"--mdc-ripple-top":this.topPos=t}},computeBoundingRect:()=>(this.parentElement||this).getBoundingClientRect(),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset})}}startPress(e){this.waitForFoundation((()=>{this.mdcFoundation.activate(e)}))}endPress(){this.waitForFoundation((()=>{this.mdcFoundation.deactivate()}))}startFocus(){this.waitForFoundation((()=>{this.mdcFoundation.handleFocus()}))}endFocus(){this.waitForFoundation((()=>{this.mdcFoundation.handleBlur()}))}startHover(){this.hovering=!0}endHover(){this.hovering=!1}waitForFoundation(e){this.mdcFoundation?e():this.updateComplete.then(e)}render(){const e=this.activated&&(this.primary||!this.accent),t=this.selected&&(this.primary||!this.accent),n={"mdc-ripple-surface--accent":this.accent,"mdc-ripple-surface--primary--activated":e,"mdc-ripple-surface--accent--activated":this.accent&&this.activated,"mdc-ripple-surface--primary--selected":t,"mdc-ripple-surface--accent--selected":this.accent&&this.selected,"mdc-ripple-surface--disabled":this.disabled,"mdc-ripple-surface--hover":this.hovering,"mdc-ripple-surface--primary":this.primary,"mdc-ripple-surface--selected":this.selected,"mdc-ripple-upgraded--background-focused":this.bgFocused,"mdc-ripple-upgraded--foreground-activation":this.fgActivation,"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation,"mdc-ripple-upgraded--unbounded":this.unbounded};return l(rt||(rt=at`
        <div class="mdc-ripple-surface mdc-ripple-upgraded ${0}"
          style="${0}"></div>`),S(n),O({"--mdc-ripple-fg-scale":this.fgScale,"--mdc-ripple-fg-size":this.fgSize,"--mdc-ripple-fg-translate-end":this.translateEnd,"--mdc-ripple-fg-translate-start":this.translateStart,"--mdc-ripple-left":this.leftPos,"--mdc-ripple-top":this.topPos}))}}re([b(".mdc-ripple-surface")],ot.prototype,"mdcRoot",void 0),re([v({type:Boolean})],ot.prototype,"primary",void 0),re([v({type:Boolean})],ot.prototype,"accent",void 0),re([v({type:Boolean})],ot.prototype,"unbounded",void 0),re([v({type:Boolean})],ot.prototype,"disabled",void 0),re([v({type:Boolean})],ot.prototype,"activated",void 0),re([v({type:Boolean})],ot.prototype,"selected",void 0),re([y()],ot.prototype,"hovering",void 0),re([y()],ot.prototype,"bgFocused",void 0),re([y()],ot.prototype,"fgActivation",void 0),re([y()],ot.prototype,"fgDeactivation",void 0),re([y()],ot.prototype,"fgScale",void 0),re([y()],ot.prototype,"fgSize",void 0),re([y()],ot.prototype,"translateStart",void 0),re([y()],ot.prototype,"translateEnd",void 0),re([y()],ot.prototype,"leftPos",void 0),re([y()],ot.prototype,"topPos",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const st=c(it||(it=at`.mdc-ripple-surface{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity;position:relative;outline:none;overflow:hidden}.mdc-ripple-surface::before,.mdc-ripple-surface::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-ripple-surface::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-ripple-surface::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-ripple-surface.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-ripple-surface.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-ripple-surface.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-activation::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-ripple-surface.mdc-ripple-upgraded--foreground-deactivation::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-ripple-surface::before,.mdc-ripple-surface::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}.mdc-ripple-surface:hover::before,.mdc-ripple-surface.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface::before,.mdc-ripple-surface::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-ripple-surface.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded],.mdc-ripple-upgraded--unbounded{overflow:visible}.mdc-ripple-surface[data-mdc-ripple-is-unbounded]::before,.mdc-ripple-surface[data-mdc-ripple-is-unbounded]::after,.mdc-ripple-upgraded--unbounded::before,.mdc-ripple-upgraded--unbounded::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::before,.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::before,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-ripple-surface[data-mdc-ripple-is-unbounded].mdc-ripple-upgraded::after,.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}:host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;display:block}:host .mdc-ripple-surface{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;will-change:unset}.mdc-ripple-surface--primary::before,.mdc-ripple-surface--primary::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary:hover::before,.mdc-ripple-surface--primary.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface--primary.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--primary.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--primary--activated::before{opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}.mdc-ripple-surface--primary--activated::before,.mdc-ripple-surface--primary--activated::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary--activated:hover::before,.mdc-ripple-surface--primary--activated.mdc-ripple-surface--hover::before{opacity:0.16;opacity:var(--mdc-ripple-hover-opacity, 0.16)}.mdc-ripple-surface--primary--activated.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary--activated:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--primary--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--primary--selected::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}.mdc-ripple-surface--primary--selected::before,.mdc-ripple-surface--primary--selected::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-ripple-surface--primary--selected:hover::before,.mdc-ripple-surface--primary--selected.mdc-ripple-surface--hover::before{opacity:0.12;opacity:var(--mdc-ripple-hover-opacity, 0.12)}.mdc-ripple-surface--primary--selected.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-focus-opacity, 0.2)}.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--primary--selected:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--primary--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--accent::before,.mdc-ripple-surface--accent::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent:hover::before,.mdc-ripple-surface--accent.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-ripple-surface--accent.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--accent.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-ripple-surface--accent--activated::before{opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}.mdc-ripple-surface--accent--activated::before,.mdc-ripple-surface--accent--activated::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent--activated:hover::before,.mdc-ripple-surface--accent--activated.mdc-ripple-surface--hover::before{opacity:0.16;opacity:var(--mdc-ripple-hover-opacity, 0.16)}.mdc-ripple-surface--accent--activated.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-focus-opacity, 0.24)}.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent--activated:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.24;opacity:var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--accent--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.24)}.mdc-ripple-surface--accent--selected::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}.mdc-ripple-surface--accent--selected::before,.mdc-ripple-surface--accent--selected::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-ripple-surface--accent--selected:hover::before,.mdc-ripple-surface--accent--selected.mdc-ripple-surface--hover::before{opacity:0.12;opacity:var(--mdc-ripple-hover-opacity, 0.12)}.mdc-ripple-surface--accent--selected.mdc-ripple-upgraded--background-focused::before,.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-focus-opacity, 0.2)}.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-ripple-surface--accent--selected:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.2;opacity:var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--accent--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.2)}.mdc-ripple-surface--disabled{opacity:0}`));class ct extends(J(ot)){}ct.styles=st;let lt,dt,ut,pt=e=>e;class ht extends s{constructor(){super(...arguments),this.disabled=!1,this.icon="",this.label="",this.shouldRenderRipple=!1,this.rippleHandlers=new Xe((()=>(this.shouldRenderRipple=!0,this.ripple)))}renderRipple(){return this.shouldRenderRipple?l(lt||(lt=pt`
            <mwc-ripple
                .disabled="${0}"
                unbounded>
            </mwc-ripple>`),this.disabled):""}focus(){const e=this.buttonElement;e&&(this.rippleHandlers.startFocus(),e.focus())}blur(){const e=this.buttonElement;e&&(this.rippleHandlers.endFocus(),e.blur())}render(){return l(dt||(dt=pt`<button
        class="mdc-icon-button"
        aria-label="${0}"
        ?disabled="${0}"
        @focus="${0}"
        @blur="${0}"
        @mousedown="${0}"
        @mouseenter="${0}"
        @mouseleave="${0}"
        @touchstart="${0}"
        @touchend="${0}"
        @touchcancel="${0}">
      ${0}
    <i class="material-icons">${0}</i>
    <span class="default-slot-container">
        <slot></slot>
    </span>
  </button>`),this.label||this.icon,this.disabled,this.handleRippleFocus,this.handleRippleBlur,this.handleRippleMouseDown,this.handleRippleMouseEnter,this.handleRippleMouseLeave,this.handleRippleTouchStart,this.handleRippleDeactivate,this.handleRippleDeactivate,this.renderRipple(),this.icon)}handleRippleMouseDown(e){const t=()=>{window.removeEventListener("mouseup",t),this.handleRippleDeactivate()};window.addEventListener("mouseup",t),this.rippleHandlers.startPress(e)}handleRippleTouchStart(e){this.rippleHandlers.startPress(e)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}}re([v({type:Boolean,reflect:!0})],ht.prototype,"disabled",void 0),re([v({type:String})],ht.prototype,"icon",void 0),re([v({type:String})],ht.prototype,"label",void 0),re([b("button")],ht.prototype,"buttonElement",void 0),re([_("mwc-ripple")],ht.prototype,"ripple",void 0),re([y()],ht.prototype,"shouldRenderRipple",void 0),re([k({passive:!0})],ht.prototype,"handleRippleMouseDown",null),re([k({passive:!0})],ht.prototype,"handleRippleTouchStart",null);class ft extends(J(ht)){static get scopedElements(){return{"mwc-ripple":ct}}renderRipple(){return this.shouldRenderRipple?l(ut||(ut=pt` <mwc-ripple class="ripple" .disabled="${0}" unbounded>
        </mwc-ripple>`),this.disabled):""}}ft.styles=Ke,re([_(".ripple")],ft.prototype,"ripple",void 0);const mt=m((e=>class extends e{connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._injectedContexts=new Map;for(const e of this.constructor.inject)this._injectContext(e)}_injectContext(e){const t=new CustomEvent("context.connectEvent",{bubbles:!0,cancelable:!0,composed:!0,detail:{key:e,connected:!1,callback:(t,n)=>{this._contextValueChanged(e,t,n)}}});this.dispatchEvent(t),t.detail.connected&&this._injectedContexts.set(e,{unsubscribe:t.detail.unsubscribe})}_contextValueChanged(e,t,n){t!==n&&(this[e]=t)}disconnectedCallback(){for(const e of this._injectedContexts.values())e.unsubscribe();super.disconnectedCallback&&super.disconnectedCallback()}})),gt=m((e=>class extends e{connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._providedContexts=new Map;for(const e of this.constructor.provide)this._provideContext(e)}_provideContext(e){const t=t=>{const{detail:n}=t;if(n.key===e){t.stopPropagation();const r=this._providedContexts.get(e);r.callbacks.add(n.callback),n.connected=!0,n.unsubscribe=()=>{r.callbacks.delete(n.callback)},n.callback(this[e])}};this.addEventListener("context.connectEvent",t),this._providedContexts.set(e,{listener:t,callbacks:new Set})}_updateContextValue(e,t,n){if(this._providedContexts.has(e)){const r=this._providedContexts.get(e);for(const e of r.callbacks)e(t,n)}}shouldUpdate(e){const t=super.shouldUpdate(e);for(const[t,n]of e.entries())this.constructor.provide.includes(t)&&this._updateContextValue(t,this[t],n);return t}disconnectedCallback(){for(const e of this._providedContexts.values())this.removeEventListener("context.connectEvent",e.listener);super.disconnectedCallback&&super.disconnectedCallback()}}));var vt,yt,bt,_t,xt;function wt(e){const t=[];return t.push({type:yt.RegisterAgentActivity,header:e.signed_header}),t.push({type:yt.StoreElement,header:e.signed_header,maybe_entry:e.entry}),e.signed_header.header.content.type==vt.Update?(t.push({type:yt.RegisterUpdatedContent,header:e.signed_header}),t.push({type:yt.RegisterUpdatedElement,header:e.signed_header}),t.push({type:yt.StoreEntry,header:e.signed_header,entry:e.entry})):e.signed_header.header.content.type==vt.Create?t.push({type:yt.StoreEntry,header:e.signed_header,entry:e.entry}):e.signed_header.header.content.type==vt.Delete?(t.push({type:yt.RegisterDeletedBy,header:e.signed_header}),t.push({type:yt.RegisterDeletedEntryHeader,header:e.signed_header})):e.signed_header.header.content.type==vt.DeleteLink?t.push({type:yt.RegisterRemoveLink,header:e.signed_header}):e.signed_header.header.content.type==vt.CreateLink&&t.push({type:yt.RegisterAddLink,header:e.signed_header}),t}!function(e){e.Dna="Dna",e.AgentValidationPkg="AgentValidationPkg",e.InitZomesComplete="InitZomesComplete",e.CreateLink="CreateLink",e.DeleteLink="DeleteLink",e.OpenChain="OpenChain",e.CloseChain="CloseChain",e.Create="Create",e.Update="Update",e.Delete="Delete"}(vt||(vt={})),function(e){e.StoreElement="StoreElement",e.StoreEntry="StoreEntry",e.RegisterAgentActivity="RegisterAgentActivity",e.RegisterUpdatedContent="RegisterUpdatedContent",e.RegisterUpdatedElement="RegisterUpdatedElement",e.RegisterDeletedBy="RegisterDeletedBy",e.RegisterDeletedEntryHeader="RegisterDeletedEntryHeader",e.RegisterAddLink="RegisterAddLink",e.RegisterRemoveLink="RegisterRemoveLink"}(yt||(yt={})),yt.RegisterAgentActivity,yt.StoreEntry,yt.StoreElement,yt.RegisterUpdatedContent,yt.RegisterUpdatedElement,yt.RegisterDeletedEntryHeader,yt.RegisterDeletedBy,yt.RegisterAddLink,yt.RegisterRemoveLink,function(e){e[e.Entry=0]="Entry",e[e.Element=1]="Element"}(bt||(bt={})),function(e){e[e.Empty=0]="Empty",e[e.Valid=1]="Valid",e[e.Forked=2]="Forked",e[e.Invalid=3]="Invalid"}(_t||(_t={})),function(e){e[e.Live=0]="Live",e[e.Dead=1]="Dead",e[e.Pending=2]="Pending",e[e.Rejected=3]="Rejected",e[e.Abandoned=4]="Abandoned",e[e.Conflict=5]="Conflict",e[e.Withdrawn=6]="Withdrawn",e[e.Purged=7]="Purged"}(xt||(xt={}));const kt="function"==typeof btoa,Et="function"==typeof Buffer,Ct=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder&&new TextEncoder,[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="]),St=((e=>{let t={};Ct.forEach(((e,n)=>t[e]=n))})(),String.fromCharCode.bind(String)),At=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/[+\/]/g,(e=>"+"==e?"-":"_")).replace(/=+$/m,"")),Tt=e=>{let t,n,r,i,a="";const o=e.length%3;for(let o=0;o<e.length;){if((n=e.charCodeAt(o++))>255||(r=e.charCodeAt(o++))>255||(i=e.charCodeAt(o++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,a+=Ct[t>>18&63]+Ct[t>>12&63]+Ct[t>>6&63]+Ct[63&t]}return o?a.slice(0,o-3)+"===".substring(o):a},It=kt?e=>btoa(e):Et?e=>Buffer.from(e,"binary").toString("base64"):Tt,Ot=Et?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(St.apply(null,e.subarray(n,n+4096)));return It(t.join(""))},Rt=(e,t=!1)=>t?At(Ot(e)):Ot(e),Dt=Rt;function Pt(e){return 1e3*e[0]+Math.floor(e[1]/1e3)}function Lt(){return e=Date.now(),[Math.floor(e/1e3),e%1e3*1e3];var e}var Nt="object"==typeof global&&global&&global.Object===Object&&global,Mt="object"==typeof self&&self&&self.Object===Object&&self,Ft=Nt||Mt||Function("return this")(),zt=Ft.Symbol,Bt=Object.prototype,jt=Bt.hasOwnProperty,Ht=Bt.toString,Vt=zt?zt.toStringTag:void 0;var $t=Object.prototype.toString;var Ut=zt?zt.toStringTag:void 0;function Gt(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ut&&Ut in Object(e)?function(e){var t=jt.call(e,Vt),n=e[Vt];try{e[Vt]=void 0;var r=!0}catch(e){}var i=Ht.call(e);return r&&(t?e[Vt]=n:delete e[Vt]),i}(e):function(e){return $t.call(e)}(e)}function qt(e){return null!=e&&"object"==typeof e}var Xt=Array.isArray;function Yt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Kt(e){if(!Yt(e))return!1;var t=Gt(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var Wt,Zt=Ft["__core-js_shared__"],Qt=(Wt=/[^.]+$/.exec(Zt&&Zt.keys&&Zt.keys.IE_PROTO||""))?"Symbol(src)_1."+Wt:"";var Jt=Function.prototype.toString;function en(e){if(null!=e){try{return Jt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var tn=/^\[object .+?Constructor\]$/,nn=Function.prototype,rn=Object.prototype,an=nn.toString,on=rn.hasOwnProperty,sn=RegExp("^"+an.call(on).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cn(e){return!(!Yt(e)||(t=e,Qt&&Qt in t))&&(Kt(e)?sn:tn).test(en(e));var t}function ln(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return cn(n)?n:void 0}var dn=ln(Ft,"WeakMap"),un=Object.create,pn=function(){function e(){}return function(t){if(!Yt(t))return{};if(un)return un(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var hn=function(){try{var e=ln(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();function fn(e){return e!=e}function mn(e,t){return!!(null==e?0:e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}(e,fn,n)}(e,t,0)>-1}var gn=/^(?:0|[1-9]\d*)$/;function vn(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&gn.test(e))&&e>-1&&e%1==0&&e<t}function yn(e,t,n){"__proto__"==t&&hn?hn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function bn(e,t){return e===t||e!=e&&t!=t}var _n=Object.prototype.hasOwnProperty;function xn(e,t,n){var r=e[t];_n.call(e,t)&&bn(r,n)&&(void 0!==n||t in e)||yn(e,t,n)}function wn(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?yn(n,s,c):xn(n,s,c)}return n}function kn(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function En(e){return null!=e&&kn(e.length)&&!Kt(e)}var Cn=Object.prototype;function Sn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Cn)}function An(e){return qt(e)&&"[object Arguments]"==Gt(e)}var Tn=Object.prototype,In=Tn.hasOwnProperty,On=Tn.propertyIsEnumerable,Rn=An(function(){return arguments}())?An:function(e){return qt(e)&&In.call(e,"callee")&&!On.call(e,"callee")};var Dn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Pn=Dn&&"object"==typeof module&&module&&!module.nodeType&&module,Ln=Pn&&Pn.exports===Dn?Ft.Buffer:void 0,Nn=(Ln?Ln.isBuffer:void 0)||function(){return!1},Mn={};function Fn(e){return function(t){return e(t)}}Mn["[object Float32Array]"]=Mn["[object Float64Array]"]=Mn["[object Int8Array]"]=Mn["[object Int16Array]"]=Mn["[object Int32Array]"]=Mn["[object Uint8Array]"]=Mn["[object Uint8ClampedArray]"]=Mn["[object Uint16Array]"]=Mn["[object Uint32Array]"]=!0,Mn["[object Arguments]"]=Mn["[object Array]"]=Mn["[object ArrayBuffer]"]=Mn["[object Boolean]"]=Mn["[object DataView]"]=Mn["[object Date]"]=Mn["[object Error]"]=Mn["[object Function]"]=Mn["[object Map]"]=Mn["[object Number]"]=Mn["[object Object]"]=Mn["[object RegExp]"]=Mn["[object Set]"]=Mn["[object String]"]=Mn["[object WeakMap]"]=!1;var zn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Bn=zn&&"object"==typeof module&&module&&!module.nodeType&&module,jn=Bn&&Bn.exports===zn&&Nt.process,Hn=function(){try{var e=Bn&&Bn.require&&Bn.require("util").types;return e||jn&&jn.binding&&jn.binding("util")}catch(e){}}(),Vn=Hn&&Hn.isTypedArray,$n=Vn?Fn(Vn):function(e){return qt(e)&&kn(e.length)&&!!Mn[Gt(e)]},Un=Object.prototype.hasOwnProperty;function Gn(e,t){var n=Xt(e),r=!n&&Rn(e),i=!n&&!r&&Nn(e),a=!n&&!r&&!i&&$n(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var l in e)!t&&!Un.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||vn(l,c))||s.push(l);return s}function qn(e,t){return function(n){return e(t(n))}}var Xn=qn(Object.keys,Object),Yn=Object.prototype.hasOwnProperty;function Kn(e){return En(e)?Gn(e):function(e){if(!Sn(e))return Xn(e);var t=[];for(var n in Object(e))Yn.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}var Wn=Object.prototype.hasOwnProperty;function Zn(e){if(!Yt(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Sn(e),n=[];for(var r in e)("constructor"!=r||!t&&Wn.call(e,r))&&n.push(r);return n}function Qn(e){return En(e)?Gn(e,!0):Zn(e)}var Jn=ln(Object,"create");var er=Object.prototype.hasOwnProperty;var tr=Object.prototype.hasOwnProperty;function nr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function rr(e,t){for(var n=e.length;n--;)if(bn(e[n][0],t))return n;return-1}nr.prototype.clear=function(){this.__data__=Jn?Jn(null):{},this.size=0},nr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},nr.prototype.get=function(e){var t=this.__data__;if(Jn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return er.call(t,e)?t[e]:void 0},nr.prototype.has=function(e){var t=this.__data__;return Jn?void 0!==t[e]:tr.call(t,e)},nr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Jn&&void 0===t?"__lodash_hash_undefined__":t,this};var ir=Array.prototype.splice;function ar(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ar.prototype.clear=function(){this.__data__=[],this.size=0},ar.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():ir.call(t,n,1),--this.size,!0)},ar.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?void 0:t[n][1]},ar.prototype.has=function(e){return rr(this.__data__,e)>-1},ar.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var or=ln(Ft,"Map");function sr(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function cr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function lr(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}cr.prototype.clear=function(){this.size=0,this.__data__={hash:new nr,map:new(or||ar),string:new nr}},cr.prototype.delete=function(e){var t=sr(this,e).delete(e);return this.size-=t?1:0,t},cr.prototype.get=function(e){return sr(this,e).get(e)},cr.prototype.has=function(e){return sr(this,e).has(e)},cr.prototype.set=function(e,t){var n=sr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var dr=qn(Object.getPrototypeOf,Object);function ur(e){var t=this.__data__=new ar(e);this.size=t.size}ur.prototype.clear=function(){this.__data__=new ar,this.size=0},ur.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ur.prototype.get=function(e){return this.__data__.get(e)},ur.prototype.has=function(e){return this.__data__.has(e)},ur.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ar){var r=n.__data__;if(!or||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new cr(r)}return n.set(e,t),this.size=n.size,this};var pr="object"==typeof exports&&exports&&!exports.nodeType&&exports,hr=pr&&"object"==typeof module&&module&&!module.nodeType&&module,fr=hr&&hr.exports===pr?Ft.Buffer:void 0,mr=fr?fr.allocUnsafe:void 0;function gr(){return[]}var vr=Object.prototype.propertyIsEnumerable,yr=Object.getOwnPropertySymbols,br=yr?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}(yr(e),(function(t){return vr.call(e,t)})))}:gr;var _r=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)lr(t,br(e)),e=dr(e);return t}:gr;function xr(e,t,n){var r=t(e);return Xt(e)?r:lr(r,n(e))}function wr(e){return xr(e,Kn,br)}function kr(e){return xr(e,Qn,_r)}var Er=ln(Ft,"DataView"),Cr=ln(Ft,"Promise"),Sr=ln(Ft,"Set"),Ar=en(Er),Tr=en(or),Ir=en(Cr),Or=en(Sr),Rr=en(dn),Dr=Gt;(Er&&"[object DataView]"!=Dr(new Er(new ArrayBuffer(1)))||or&&"[object Map]"!=Dr(new or)||Cr&&"[object Promise]"!=Dr(Cr.resolve())||Sr&&"[object Set]"!=Dr(new Sr)||dn&&"[object WeakMap]"!=Dr(new dn))&&(Dr=function(e){var t=Gt(e),n="[object Object]"==t?e.constructor:void 0,r=n?en(n):"";if(r)switch(r){case Ar:return"[object DataView]";case Tr:return"[object Map]";case Ir:return"[object Promise]";case Or:return"[object Set]";case Rr:return"[object WeakMap]"}return t});var Pr=Dr,Lr=Object.prototype.hasOwnProperty;var Nr=Ft.Uint8Array;function Mr(e){var t=new e.constructor(e.byteLength);return new Nr(t).set(new Nr(e)),t}var Fr=/\w*$/;var zr=zt?zt.prototype:void 0,Br=zr?zr.valueOf:void 0;function jr(e,t,n){var r,i,a,o=e.constructor;switch(t){case"[object ArrayBuffer]":return Mr(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var n=t?Mr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?Mr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return(a=new(i=e).constructor(i.source,Fr.exec(i))).lastIndex=i.lastIndex,a;case"[object Set]":return new o;case"[object Symbol]":return r=e,Br?Object(Br.call(r)):{}}}var Hr=Hn&&Hn.isMap,Vr=Hr?Fn(Hr):function(e){return qt(e)&&"[object Map]"==Pr(e)};var $r=Hn&&Hn.isSet,Ur=$r?Fn($r):function(e){return qt(e)&&"[object Set]"==Pr(e)},Gr={};function qr(e,t,n,r,i,a){var o,s=1&t,c=2&t,l=4&t;if(n&&(o=i?n(e,r,i,a):n(e)),void 0!==o)return o;if(!Yt(e))return e;var d=Xt(e);if(d){if(o=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Lr.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,o)}else{var u=Pr(e),p="[object Function]"==u||"[object GeneratorFunction]"==u;if(Nn(e))return function(e,t){if(t)return e.slice();var n=e.length,r=mr?mr(n):new e.constructor(n);return e.copy(r),r}(e,s);if("[object Object]"==u||"[object Arguments]"==u||p&&!i){if(o=c||p?{}:function(e){return"function"!=typeof e.constructor||Sn(e)?{}:pn(dr(e))}(e),!s)return c?function(e,t){return wn(e,_r(e),t)}(e,function(e,t){return e&&wn(t,Qn(t),e)}(o,e)):function(e,t){return wn(e,br(e),t)}(e,function(e,t){return e&&wn(t,Kn(t),e)}(o,e))}else{if(!Gr[u])return i?e:{};o=jr(e,u,s)}}a||(a=new ur);var h=a.get(e);if(h)return h;a.set(e,o),Ur(e)?e.forEach((function(r){o.add(qr(r,t,n,r,e,a))})):Vr(e)&&e.forEach((function(r,i){o.set(i,qr(r,t,n,i,e,a))}));var f=d?void 0:(l?c?kr:wr:c?Qn:Kn)(e);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););}(f||e,(function(r,i){f&&(r=e[i=r]),xn(o,i,qr(r,t,n,i,e,a))})),o}Gr["[object Arguments]"]=Gr["[object Array]"]=Gr["[object ArrayBuffer]"]=Gr["[object DataView]"]=Gr["[object Boolean]"]=Gr["[object Date]"]=Gr["[object Float32Array]"]=Gr["[object Float64Array]"]=Gr["[object Int8Array]"]=Gr["[object Int16Array]"]=Gr["[object Int32Array]"]=Gr["[object Map]"]=Gr["[object Number]"]=Gr["[object Object]"]=Gr["[object RegExp]"]=Gr["[object Set]"]=Gr["[object String]"]=Gr["[object Symbol]"]=Gr["[object Uint8Array]"]=Gr["[object Uint8ClampedArray]"]=Gr["[object Uint16Array]"]=Gr["[object Uint32Array]"]=!0,Gr["[object Error]"]=Gr["[object Function]"]=Gr["[object WeakMap]"]=!1;function Xr(e){return qr(e,5)}function Yr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new cr;++t<n;)this.add(e[t])}function Kr(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Wr(e,t){return e.has(t)}Yr.prototype.add=Yr.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Yr.prototype.has=function(e){return this.__data__.has(e)};function Zr(e,t,n,r,i,a){var o=1&n,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(e),d=a.get(t);if(l&&d)return l==t&&d==e;var u=-1,p=!0,h=2&n?new Yr:void 0;for(a.set(e,t),a.set(t,e);++u<s;){var f=e[u],m=t[u];if(r)var g=o?r(m,f,u,t,e,a):r(f,m,u,e,t,a);if(void 0!==g){if(g)continue;p=!1;break}if(h){if(!Kr(t,(function(e,t){if(!Wr(h,t)&&(f===e||i(f,e,n,r,a)))return h.push(t)}))){p=!1;break}}else if(f!==m&&!i(f,m,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function Qr(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Jr(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var ei=zt?zt.prototype:void 0,ti=ei?ei.valueOf:void 0;var ni=Object.prototype.hasOwnProperty;var ri=Object.prototype.hasOwnProperty;function ii(e,t,n,r,i,a){var o=Xt(e),s=Xt(t),c=o?"[object Array]":Pr(e),l=s?"[object Array]":Pr(t),d="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),u="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),p=c==l;if(p&&Nn(e)){if(!Nn(t))return!1;o=!0,d=!1}if(p&&!d)return a||(a=new ur),o||$n(e)?Zr(e,t,n,r,i,a):function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Nr(e),new Nr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return bn(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Qr;case"[object Set]":var c=1&r;if(s||(s=Jr),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var d=Zr(s(e),s(t),r,i,a,o);return o.delete(e),d;case"[object Symbol]":if(ti)return ti.call(e)==ti.call(t)}return!1}(e,t,c,n,r,i,a);if(!(1&n)){var h=d&&ri.call(e,"__wrapped__"),f=u&&ri.call(t,"__wrapped__");if(h||f){var m=h?e.value():e,g=f?t.value():t;return a||(a=new ur),i(m,g,n,r,a)}}return!!p&&(a||(a=new ur),function(e,t,n,r,i,a){var o=1&n,s=wr(e),c=s.length;if(c!=wr(t).length&&!o)return!1;for(var l=c;l--;){var d=s[l];if(!(o?d in t:ni.call(t,d)))return!1}var u=a.get(e),p=a.get(t);if(u&&p)return u==t&&p==e;var h=!0;a.set(e,t),a.set(t,e);for(var f=o;++l<c;){var m=e[d=s[l]],g=t[d];if(r)var v=o?r(g,m,d,t,e,a):r(m,g,d,e,t,a);if(!(void 0===v?m===g||i(m,g,n,r,a):v)){h=!1;break}f||(f="constructor"==d)}if(h&&!f){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,i,a))}function ai(e,t,n,r,i){return e===t||(null==e||null==t||!qt(e)&&!qt(t)?e!=e&&t!=t:ii(e,t,n,r,ai,i))}function oi(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function si(e,t){return ai(e,t)}var ci=Sr&&1/Jr(new Sr([,-0]))[1]==1/0?function(e){return new Sr(e)}:function(){};function li(e){return e&&e.length?function(e,t,n){var r=-1,i=mn,a=e.length,o=!0,s=[],c=s;if(n)o=!1,i=oi;else if(a>=200){var l=t?null:ci(e);if(l)return Jr(l);o=!1,i=Wr,c=new Yr}else c=t?[]:s;e:for(;++r<a;){var d=e[r],u=t?t(d):d;if(d=n||0!==d?d:0,o&&u==u){for(var p=c.length;p--;)if(c[p]===u)continue e;t&&c.push(u),s.push(d)}else i(c,u,n)||(c!==s&&c.push(u),s.push(d))}return s}(e):[]}function di(e){return(4294967296+e).toString(16).substring(1)}var ui={normalizeInput:function(e){var t;if(e instanceof Uint8Array)t=e;else if(e instanceof Buffer)t=new Uint8Array(e);else{if("string"!=typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");t=new Uint8Array(Buffer.from(e,"utf8"))}return t},toHex:function(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")},debugPrint:function(e,t,n){for(var r="\n"+e+" = ",i=0;i<t.length;i+=2){if(32===n)r+=di(t[i]).toUpperCase(),r+=" ",r+=di(t[i+1]).toUpperCase();else{if(64!==n)throw new Error("Invalid size "+n);r+=di(t[i+1]).toUpperCase(),r+=di(t[i]).toUpperCase()}i%6==4?r+="\n"+new Array(e.length+4).join(" "):i<t.length-2&&(r+=" ")}console.log(r)},testSpeed:function(e,t,n){for(var r=(new Date).getTime(),i=new Uint8Array(t),a=0;a<t;a++)i[a]=a%256;var o=(new Date).getTime();for(console.log("Generated random input in "+(o-r)+"ms"),r=o,a=0;a<n;a++){var s=e(i),c=(new Date).getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+s.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}};function pi(e,t,n){var r=e[t]+e[n],i=e[t+1]+e[n+1];r>=4294967296&&i++,e[t]=r,e[t+1]=i}function hi(e,t,n,r){var i=e[t]+n;n<0&&(i+=4294967296);var a=e[t+1]+r;i>=4294967296&&a++,e[t]=i,e[t+1]=a}function fi(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function mi(e,t,n,r,i,a){var o=bi[i],s=bi[i+1],c=bi[a],l=bi[a+1];pi(yi,e,t),hi(yi,e,o,s);var d=yi[r]^yi[e],u=yi[r+1]^yi[e+1];yi[r]=u,yi[r+1]=d,pi(yi,n,r),d=yi[t]^yi[n],u=yi[t+1]^yi[n+1],yi[t]=d>>>24^u<<8,yi[t+1]=u>>>24^d<<8,pi(yi,e,t),hi(yi,e,c,l),d=yi[r]^yi[e],u=yi[r+1]^yi[e+1],yi[r]=d>>>16^u<<16,yi[r+1]=u>>>16^d<<16,pi(yi,n,r),d=yi[t]^yi[n],u=yi[t+1]^yi[n+1],yi[t]=u>>>31^d<<1,yi[t+1]=d>>>31^u<<1}var gi=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),vi=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),yi=new Uint32Array(32),bi=new Uint32Array(32);function _i(e,t){var n=0;for(n=0;n<16;n++)yi[n]=e.h[n],yi[n+16]=gi[n];for(yi[24]=yi[24]^e.t,yi[25]=yi[25]^e.t/4294967296,t&&(yi[28]=~yi[28],yi[29]=~yi[29]),n=0;n<32;n++)bi[n]=fi(e.b,4*n);for(n=0;n<12;n++)mi(0,8,16,24,vi[16*n+0],vi[16*n+1]),mi(2,10,18,26,vi[16*n+2],vi[16*n+3]),mi(4,12,20,28,vi[16*n+4],vi[16*n+5]),mi(6,14,22,30,vi[16*n+6],vi[16*n+7]),mi(0,10,20,30,vi[16*n+8],vi[16*n+9]),mi(2,12,22,24,vi[16*n+10],vi[16*n+11]),mi(4,14,16,26,vi[16*n+12],vi[16*n+13]),mi(6,8,18,28,vi[16*n+14],vi[16*n+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^yi[n]^yi[n+16]}function xi(e,t){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var n={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e},r=0;r<16;r++)n.h[r]=gi[r];var i=t?t.length:0;return n.h[0]^=16842752^i<<8^e,t&&(wi(n,t),n.c=128),n}function wi(e,t){for(var n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,_i(e,!1),e.c=0),e.b[e.c++]=t[n]}function ki(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;_i(e,!0);for(var t=new Uint8Array(e.outlen),n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n);return t}function Ei(e,t,n){n=n||64,e=ui.normalizeInput(e);var r=xi(n,t);return wi(r,e),ki(r)}var Ci={blake2b:Ei,blake2bHex:function(e,t,n){var r=Ei(e,t,n);return ui.toHex(r)},blake2bInit:xi,blake2bUpdate:wi,blake2bFinal:ki};function Si(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function Ai(e,t,n,r,i,a){Ri[e]=Ri[e]+Ri[t]+i,Ri[r]=Ti(Ri[r]^Ri[e],16),Ri[n]=Ri[n]+Ri[r],Ri[t]=Ti(Ri[t]^Ri[n],12),Ri[e]=Ri[e]+Ri[t]+a,Ri[r]=Ti(Ri[r]^Ri[e],8),Ri[n]=Ri[n]+Ri[r],Ri[t]=Ti(Ri[t]^Ri[n],7)}function Ti(e,t){return e>>>t^e<<32-t}var Ii=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Oi=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),Ri=new Uint32Array(16),Di=new Uint32Array(16);function Pi(e,t){var n=0;for(n=0;n<8;n++)Ri[n]=e.h[n],Ri[n+8]=Ii[n];for(Ri[12]^=e.t,Ri[13]^=e.t/4294967296,t&&(Ri[14]=~Ri[14]),n=0;n<16;n++)Di[n]=Si(e.b,4*n);for(n=0;n<10;n++)Ai(0,4,8,12,Di[Oi[16*n+0]],Di[Oi[16*n+1]]),Ai(1,5,9,13,Di[Oi[16*n+2]],Di[Oi[16*n+3]]),Ai(2,6,10,14,Di[Oi[16*n+4]],Di[Oi[16*n+5]]),Ai(3,7,11,15,Di[Oi[16*n+6]],Di[Oi[16*n+7]]),Ai(0,5,10,15,Di[Oi[16*n+8]],Di[Oi[16*n+9]]),Ai(1,6,11,12,Di[Oi[16*n+10]],Di[Oi[16*n+11]]),Ai(2,7,8,13,Di[Oi[16*n+12]],Di[Oi[16*n+13]]),Ai(3,4,9,14,Di[Oi[16*n+14]],Di[Oi[16*n+15]]);for(n=0;n<8;n++)e.h[n]^=Ri[n]^Ri[n+8]}function Li(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");var n=t?t.length:0;if(t&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");var r={h:new Uint32Array(Ii),b:new Uint32Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^n<<8^e,n>0&&(Ni(r,t),r.c=64),r}function Ni(e,t){for(var n=0;n<t.length;n++)64===e.c&&(e.t+=e.c,Pi(e,!1),e.c=0),e.b[e.c++]=t[n]}function Mi(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;Pi(e,!0);for(var t=new Uint8Array(e.outlen),n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n)&255;return t}function Fi(e,t,n){n=n||32,e=ui.normalizeInput(e);var r=Li(n,t);return Ni(r,e),Mi(r)}var zi,Bi={blake2s:Fi,blake2sHex:function(e,t,n){var r=Fi(e,t,n);return ui.toHex(r)},blake2sInit:Li,blake2sUpdate:Ni,blake2sFinal:Mi},ji={blake2b:Ci.blake2b,blake2bHex:Ci.blake2bHex,blake2bInit:Ci.blake2bInit,blake2bUpdate:Ci.blake2bUpdate,blake2bFinal:Ci.blake2bFinal,blake2s:Bi.blake2s,blake2sHex:Bi.blake2sHex,blake2sInit:Bi.blake2sInit,blake2sUpdate:Bi.blake2sUpdate,blake2sFinal:Bi.blake2sFinal};!function(e){e[e.AGENT=0]="AGENT",e[e.ENTRY=1]="ENTRY",e[e.DHTOP=2]="DHTOP",e[e.HEADER=3]="HEADER",e[e.DNA=4]="DNA"}(zi||(zi={}));function Hi(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0,i=e.length;r<i;r++)n[r]=e.charCodeAt(r);return t}const Vi={};function $i(e,t){const n="string"==typeof e?e:JSON.stringify(e);if(Vi[n])return Vi[n];const r=new Uint8Array(Hi(n)),i=function(e){return`u${Dt(e,!0)}`}(ji.blake2b(r,null,32)),a=`u${function(e){switch(e){case zi.AGENT:return"hCAk";case zi.ENTRY:return"hCEk";case zi.DHTOP:return"hCQk";case zi.HEADER:return"hCkk";case zi.DNA:return"hC0k"}}(t)}${i.slice(1)}`;return Vi[n]=a,a}const Ui={};function Gi(e){if(Ui[e])return Ui[e];const t=new Uint8Array(Hi(e.slice(5))),n=ji.blake2b(t,null,16),r=[n[0],n[1],n[2],n[3]];for(let e=4;e<16;e+=4)r[0]^=n[e],r[1]^=n[e+1],r[2]^=n[e+2],r[3]^=n[e+3];const i=Xi(new DataView(new Uint8Array(r).buffer,0).getUint32(0,!1));return Ui[e]=i,i}function qi(e,t){return function(e,t){const n=Xi(e-t),r=Xi(t-e);return Math.min(n,r)}(Gi(e),Gi(t))+1}function Xi(e){return e<0?4294967296+e:e>4294967295?e-4294967295:e}function Yi(e){const t=e.slice(1,5);if("hCAk"===t)return zi.AGENT;if("hC0k"===t)return zi.DNA;if("hCQk"===t)return zi.DHTOP;if("hCkk"===t)return zi.HEADER;if("hCEk"===t)return zi.ENTRY;throw new Error("Could not get hash type")}var Ki,Wi,Zi;function Qi(e,t){const n={};for(const r of Object.keys(e.validationLimbo)){const i=e.validationLimbo[r];i.status===t&&(n[r]=i)}return n}function Ji(e,t){const n=e.metadata.system_meta[t];return n?n.map((t=>{const n=(r=t).NewEntry?r.NewEntry:r.Update?r.Update:r.Delete?r.Delete:r.Activity?r.Activity:void 0;var r;if(n)return e.CAS[n]})).filter((e=>!!e)):[]}function ea(e,t){const n=e.CAS[t],r=Ji(e,t),i=function(e,t){const n=e.metadata.misc_meta[t];return n?n.EntryStatus:void 0}(e,t),a={},o={},s={};for(const e of r){const n=e.header.content;n.original_entry_address&&n.original_entry_address===t?o[e.header.hash]=e:n.entry_hash&&n.entry_hash===t?a[e.header.hash]=e:n.deletes_entry_address===t&&(s[e.header.hash]=e)}return{entry:n,headers:r,entry_dht_status:i,updates:Object.values(o),deletes:Object.values(s),rejected_headers:[]}}function ta(e){return li(Object.values(e.integratedDHTOps).filter((e=>e.op.type===yt.StoreEntry)).map((e=>e.op.header)).map((e=>e.header.content.entry_hash)))}function na(e,t){const n=ra(e,t),r=[],i=[];for(const t of n){const n=e.CAS[t.link_add_hash];n&&r.push(n);const a=ia(e,t.link_add_hash);for(const t of a){const n=e.CAS[t];i.push(n)}}return{link_adds:r,link_removes:i}}function ra(e,t){return e.metadata.link_meta.filter((({key:e,value:n})=>si(e.base,t))).map((({key:e,value:t})=>t))}function ia(e,t){const n=e.metadata.system_meta[t];if(!n)return[];const r=[];for(const e of n)e.DeleteLink&&r.push(e.DeleteLink);return r}function aa(e){const t={};for(const n of e)for(const e of n.link_adds)t[e.header.hash]=e.header.content;for(const n of e)for(const e of n.link_removes){const n=e.header.content.link_add_address;t[n]&&(t[n]=void 0)}const n=[];for(const e of Object.values(t))e&&n.push({base:e.base_address,target:e.target_address,tag:e.tag});return n}!function(e){e[e.Latest=0]="Latest",e[e.Contents=1]="Contents"}(Ki||(Ki={})),function(e){e[e.Valid=0]="Valid",e[e.Rejected=1]="Rejected",e[e.Abandoned=2]="Abandoned"}(Wi||(Wi={})),function(e){e[e.Pending=0]="Pending",e[e.AwaitingSysDeps=1]="AwaitingSysDeps",e[e.SysValidated=2]="SysValidated",e[e.AwaitingAppDeps=3]="AwaitingAppDeps"}(Zi||(Zi={}));class oa{constructor(e,t){this.state=e,this.p2p=t}async handle_get_entry(e,t){const n=this.state.CAS[e];if(!n)return;const r=Ji(this.state,e),i=ea(this.state,e),a=r.find((e=>e.header.content.entry_type));let o;return a&&(o=a.header.content.entry_type),{entry:n,entry_type:o,deletes:i.deletes,updates:i.updates,live_headers:i.headers}}async handle_get_element(e,t){if("StoreElement"!==this.state.metadata.misc_meta[e])return;const n=this.state.CAS[e];let r,i=Wi.Valid;if(n){if(n.header.content.entry_hash){const e=n.header.content.entry_hash;r=this.state.CAS[e]}}else i=Wi.Rejected;const a=function(e,t){const n=e.metadata.system_meta[t];return n?{updates:n.filter((e=>e.Update)).map((t=>e.CAS[t.Update])),deletes:n.filter((e=>e.Delete)).map((t=>e.CAS[t.Delete]))}:{updates:[],deletes:[]}}(this.state,e);return{deletes:a.deletes,updates:a.updates,signed_header:n,validation_status:i,maybe_entry:r}}async handle_get_links(e,t){return na(this.state,e)}}class sa{constructor(e,t){this.state=e,this.p2p=t}async dht_get(e,t){new oa(this.state,this.p2p);if(this.state.CAS[e]&&t.strategy===Ki.Contents){const t=Yi(e);if(t===zi.ENTRY){return{entry:this.state.CAS[e],signed_header:Object.values(this.state.CAS).find((t=>t.header&&t.header.content.entry_hash===e))}}if(t===zi.HEADER){const t=this.state.CAS[e];return{entry:this.state.CAS[t.header.content.entry_hash],signed_header:t}}}const n=await this.p2p.get(e,t);return n.signed_header?{entry:n.maybe_entry,signed_header:n.signed_header}:{signed_header:n.live_headers[0],entry:n.entry}}async dht_get_details(e,t){if(Yi(e)===zi.ENTRY){const n=await this.getEntryDetails(e,t);if(!n)return;return{type:bt.Entry,content:n}}if(Yi(e)===zi.HEADER){const n=await this.getHeaderDetails(e,t);if(!n)return;return{type:bt.Element,content:n}}}async dht_get_links(e,t){return aa(await this.p2p.get_links(e,t))}async getEntryDetails(e,t){const n=await this.p2p.get(e,t);if(!n)return;if(void 0===n.live_headers)throw new Error("Unreachable");const r=n,i=[...r.deletes,...r.updates,...r.live_headers],{rejected_headers:a,entry_dht_status:o}=function(e){const t={},n=[];for(const n of e)n.header.content.type===vt.Create&&(t[n.header.hash]=n);for(const r of e)r.header.content.type!==vt.Update&&r.header.content.type!==vt.Delete||(t[r.header.hash]&&n.push(t[r.header.hash]),t[r.header.hash]=void 0);return{entry_dht_status:Object.values(t).some((e=>void 0!==e))?xt.Live:xt.Dead,rejected_headers:n}}(i);return{entry:r.entry,headers:r.live_headers,deletes:r.deletes,updates:r.updates,rejected_headers:a,entry_dht_status:o}}async getHeaderDetails(e,t){const n=await this.p2p.get(e,t);if(!n)return;if(void 0===n.validation_status)throw new Error("Unreachable");const r=n;return{element:{entry:r.maybe_entry,signed_header:r.signed_header},deletes:r.deletes,updates:r.updates,validation_status:r.validation_status}}}const ca=(e,t)=>n=>{n.validationLimbo[e]=t},la=e=>t=>{delete t.validationLimbo[e]},da=(e,t)=>n=>{n.integrationLimbo[e]=t},ua=e=>async t=>{const n=e.header.header.hash;t.CAS[n]=e.header;const r=function(e){return e.type===yt.StoreEntry?e.entry:e.type===yt.StoreElement?e.maybe_entry:void 0}(e);r&&(t.CAS[e.header.header.content.entry_hash]=r)},pa=e=>t=>{const n=e.header.header.hash;if(e.type===yt.StoreElement)t.metadata.misc_meta[n]="StoreElement";else if(e.type===yt.StoreEntry){const r=e.header.header.content.entry_hash;e.header.header.content.type===vt.Update&&(fa(n,e.header)(t),fa(r,e.header)(t)),fa(r,e.header)(t),ha(r)(t)}else if(e.type===yt.RegisterAgentActivity)t.metadata.misc_meta[n]={ChainItem:e.header.header.content.timestamp},t.metadata.misc_meta[e.header.header.content.author]={ChainStatus:_t.Valid};else if(e.type===yt.RegisterUpdatedContent||e.type===yt.RegisterUpdatedElement)fa(e.header.header.content.original_header_address,e.header)(t),fa(e.header.header.content.original_entry_address,e.header)(t),ha(e.header.header.content.original_entry_address)(t);else if(e.type===yt.RegisterDeletedBy||e.type===yt.RegisterDeletedEntryHeader)fa(e.header.header.content.deletes_address,e.header)(t),fa(e.header.header.content.deletes_entry_address,e.header)(t),ha(e.header.header.content.deletes_entry_address)(t);else if(e.type===yt.RegisterAddLink){const r={base:e.header.header.content.base_address,header_hash:n,tag:e.header.header.content.tag,zome_id:e.header.header.content.zome_id},i={link_add_hash:n,tag:e.header.header.content.tag,target:e.header.header.content.target_address,timestamp:e.header.header.content.timestamp,zome_id:e.header.header.content.zome_id};t.metadata.link_meta.push({key:r,value:i})}else if(e.type===yt.RegisterRemoveLink){const r={DeleteLink:n};ma(e.header.header.content.link_add_address,r)(t)}};const ha=e=>t=>{const n=Ji(t,e).some((e=>function(e,t){const n=e.metadata.system_meta[t];if(n)return!n.find((e=>e.Delete));return!0}(t,e.header.hash)));t.metadata.misc_meta[e]={EntryStatus:n?xt.Live:xt.Dead}},fa=(e,t)=>n=>{let r;const i=t.header.content.type;i===vt.Create?r={NewEntry:t.header.hash}:i===vt.Update?r={Update:t.header.hash}:i===vt.Delete&&(r={Delete:t.header.hash}),r&&ma(e,r)(n)},ma=(e,t)=>n=>{n.metadata.system_meta[e]||(n.metadata.system_meta[e]=[]),n.metadata.system_meta[e].push(t)},ga=(e,t)=>n=>{n.integratedDHTOps[e]=t};function va(e){return e.sourceChain.map((t=>e.CAS[t]))}function ya(e){return"Agent"===e.entry_type?e.content:$i(e.content,zi.ENTRY)}function ba(e){if(e.App)return e.App}function _a(e,t){const n=ba(t);if(n){return e.getSimulatedDna().zomes[n.zome_id].entry_defs[n.id].id}return t}function xa(e){switch(e.type){case yt.StoreElement:return e.header.header.hash;case yt.StoreEntry:return e.header.header.content.entry_hash;case yt.RegisterUpdatedContent:return e.header.header.content.original_entry_address;case yt.RegisterAgentActivity:return e.header.header.content.author;case yt.RegisterAddLink:case yt.RegisterRemoveLink:return e.header.header.content.base_address;case yt.RegisterDeletedBy:return e.header.header.content.deletes_address;case yt.RegisterDeletedEntryHeader:return e.header.header.content.deletes_entry_address;default:return}}const wa=e=>t=>{const n=e.signed_header.header.hash;if(t.CAS[n]=e.signed_header,e.entry){const n=ya(e.entry);t.CAS[n]=e.entry}t.sourceChain.unshift(n)};function ka(e){return e.sourceChain[0]}function Ea(e){return function(e,t){const n=e.sourceChain[t];return e.CAS[n]}(e,0).header.content.author}function Ca(e,t){const n=e.CAS[t];let r;return n.header.content.type!=vt.Create&&n.header.content.type!=vt.Update||(r=e.CAS[n.header.content.entry_hash]),{signed_header:n,entry:r}}function Sa(e){const t=Ea(e);return[function(e){const t=e.sourceChain[e.sourceChain.length-1];return e.CAS[t].header.content.hash}(e),t]}function Aa(e){const t=e.header.content;return!(!t.entry_hash||"CapGrant"!==t.entry_type)}function Ta(e){return{header:{content:e,hash:$i(e,zi.HEADER)},signature:Uint8Array.from([])}}function Ia(e,t,n){const r=ya(t);return{...Oa(e),entry_hash:r,entry_type:n,type:vt.Create}}function Oa(e){return{author:Ea(e),header_seq:e.sourceChain.length,prev_header:ka(e),timestamp:Lt()}}var Ra;function Da(e){switch(e){case Ra.GENESIS:return 0;case Ra.CALL_ZOME:return 1;default:return 10}}!function(e){e.CALL_ZOME="Call Zome Function",e.SYS_VALIDATION="System Validation",e.PUBLISH_DHT_OPS="Publish DHT Ops",e.PRODUCE_DHT_OPS="Produce DHT Ops",e.APP_VALIDATION="App Validation",e.INTEGRATE_DHT_OPS="Integrate DHT Ops",e.GENESIS="Genesis",e.INCOMING_DHT_OPS="Incoming DHT Ops"}(Ra||(Ra={}));function Pa(){return{type:Ra.INTEGRATE_DHT_OPS,details:void 0,task:e=>(async e=>{const t=function(e){const t=e.integrationLimbo;return e.integrationLimbo={},t}(e.state);for(const n of Object.keys(t)){const r=t[n],i=r.op;await ua(i)(e.state),pa(i)(e.state);const a={op:i,validation_status:r.validation_status,when_integrated:Date.now()};ga(n,a)(e.state)}return{result:void 0,triggers:[]}})(e)}}function La(){return{type:Ra.APP_VALIDATION,details:void 0,task:e=>(async e=>{const t=Qi(e.state,Zi.SysValidated);for(const n of Object.keys(t)){la(n)(e.state);const r={op:t[n].op,validation_status:Wi.Valid};da(n,r)(e.state)}return{result:void 0,triggers:[Pa()]}})(e)}}const Na=async e=>{const t=function(e){const t={};for(const n of Object.keys(e.authoredDHTOps)){const r=e.authoredDHTOps[n];void 0===r.last_publish_time&&(t[n]=r.op)}return t}(e.state),n={};for(const e of Object.keys(t)){const r=t[e],i=xa(r);n[i]||(n[i]={}),n[i][e]=r}const r=Object.entries(n).map((async([t,n])=>{await e.p2p.publish(t,n);for(const t of Object.keys(n))e.state.authoredDHTOps[t].last_publish_time=Date.now()}));return await Promise.all(r),{result:void 0,triggers:[]}};const Ma=async e=>{const t=function(e){const t=Object.values(e.authoredDHTOps).map((e=>e.op.header.header.hash));return e.sourceChain.filter((e=>!t.includes(e)))}(e.state);for(const n of t){const t=wt(Ca(e.state,n));for(const n of t){const t=$i(n,zi.DHTOP),r={op:n,last_publish_time:void 0,receipt_count:0};e.state.authoredDHTOps[t]=r}}return{result:void 0,triggers:[{type:Ra.PUBLISH_DHT_OPS,details:void 0,task:e=>Na(e)}]}};function Fa(){return{type:Ra.PRODUCE_DHT_OPS,details:void 0,task:e=>Ma(e)}}const za=(e,t,n,r,i)=>async a=>{if(!function(e,t,n,r,i){if(r===Sa(e)[1])return!0;const a={},o=va(e);for(const e of o)Aa(e)&&(a[e.header.hash]=e);for(const e of o){const t=e.header.content;t.original_header_address&&a[t.original_header_address]&&delete a[t.original_header_address],t.deletes_address&&a[t.deletes_address]&&delete a[t.deletes_address]}return!!Object.values(a).map((t=>e.CAS[t.header.content.entry_hash].content)).find((e=>function(e,t,n,r,i){return!!e.functions.find((e=>e.fn_name===n&&e.zome===t))&&("Unrestricted"===e.access||(e.access.Assigned?e.access.Assigned.assignees.includes(r):e.access.Transferable.secret===i))}(e,t,n,r,i)))}(a.state,e,t,r,i))throw new Error("Unauthorized Zome Call");const o=ka(a.state),s=a.dna.zomes.findIndex((t=>t.name===e));if(s<0)throw new Error(`There is no zome with the name ${e} in this DNA`);if(!a.dna.zomes[s].zome_functions[t])throw new Error(`There isn't a function with the name ${t} in this zome with the name ${e}`);if(!a.zomeFnContext)throw new Error("Internal error: no zome function context was provided");const c=await a.dna.zomes[s].zome_functions[t].call(a.zomeFnContext)(n);let l=[];return ka(a.state)!=o&&l.push(Fa()),{result:Xr(c),triggers:l}};const Ba=(e,t,n)=>async r=>{const i=function(e,t){return{author:t,hash:e,timestamp:Lt(),type:vt.Dna}}(t,e);wa({signed_header:Ta(i),entry:void 0})(r.state);const a=function(e,t){return{...Oa(e),membrane_proof:t,type:vt.AgentValidationPkg}}(r.state,n);wa({signed_header:Ta(a),entry:void 0})(r.state);const o={content:e,entry_type:"Agent"},s=Ia(r.state,o,"Agent");return wa({signed_header:Ta(s),entry:o})(r.state),{result:void 0,triggers:[Fa()]}};function ja(){return{type:Ra.SYS_VALIDATION,details:void 0,task:e=>(async e=>{const t=Qi(e.state,Zi.Pending);for(const n of Object.keys(t)){const r=t[n];r.status=Zi.SysValidated,ca(n,r)(e.state)}return{result:void 0,triggers:[La()]}})(e)}}function Ha(e,t,n){return{type:Ra.INCOMING_DHT_OPS,details:{from_agent:e,dht_hash:t,ops:n},task:r=>((e,t,n)=>async r=>{for(const i of Object.keys(t))if(!r.state.integratedDHTOps[i]&&!r.state.integrationLimbo[i]&&!r.state.validationLimbo[i]){const a=t[i],o={basis:e,from_agent:n,last_try:void 0,num_tries:0,op:a,status:Zi.Pending,time_added:Date.now()};ca(i,o)(r.state)}return{result:void 0,triggers:[ja()]}})(t,n,e)(r)}}class Va{constructor(){this._beforeMiddlewares=[],this._successMiddlewares=[],this._errorMiddlewares=[]}async execute(e,t){for(const e of this._beforeMiddlewares)await e(t);try{const n=await e();for(const e of this._successMiddlewares)await e(t,n);return n}catch(e){for(const n of this._errorMiddlewares)await n(t,e);throw e}}before(e){return this._addListener(e,this._beforeMiddlewares)}success(e){return this._addListener(e,this._successMiddlewares)}error(e){return this._addListener(e,this._errorMiddlewares)}_addListener(e,t){return t.unshift(e),{unsubscribe:()=>{const n=t.findIndex((t=>t===e));t.splice(n,1)}}}}function $a(e,t,n){const r={signed_header:Ta(Ia(e.state,t,n)),entry:t};return wa(r)(e.state),r.signed_header.header.hash}const Ua=(e,t)=>async n=>{const r={entry_type:"App",content:n.content},i=e.dna.zomes[t].entry_defs.findIndex((e=>e.id===n.entry_def_id));if(i<0)throw new Error(`Given entry def id ${n.entry_def_id} does not exist in this zome`);const a={App:{id:i,zome_id:t,visibility:e.dna.zomes[t].entry_defs[i].visibility}};return $a(e,r,a)},Ga=e=>async t=>{if(t.access.Assigned.assignees.find((e=>!!e&&"string"!=typeof e)))throw new Error("Tried to assign a capability to an invalid agent");return $a(e,{entry_type:"CapGrant",content:t},"CapGrant")},qa=(e,t)=>async n=>{const r={signed_header:Ta(function(e,t,n,r,i){return{...Oa(e),base_address:n,target_address:r,tag:i,zome_id:t,type:vt.CreateLink}}(e.state,t,n.base,n.target,n.tag)),entry:void 0};return wa(r)(e.state),r.signed_header.header.hash};async function Xa(e,t){const n=await e.cascade.dht_get(t,{strategy:Ki.Contents});if(!n)throw new Error("Could not find element to be deleted");const r=n.signed_header.header.content.entry_hash;var i,a,o;const s={signed_header:Ta((i=e.state,a=t,o=r,{...Oa(i),type:vt.Delete,deletes_address:a,deletes_entry_address:o})),entry:void 0};return wa(s)(e.state),s.signed_header.header.hash}const Ya=e=>async t=>Xa(e,t),Ka=e=>async t=>{const n=await e.cascade.dht_get(t,{strategy:Ki.Contents});if(!n)throw new Error("Could not find element to be deleted");const r=n.signed_header.header.content.base_address;if(!r)throw new Error("Header for the given hash is not a CreateLink header");var i,a,o;const s={signed_header:Ta((i=e.state,a=r,o=t,{...Oa(i),type:vt.DeleteLink,base_address:a,link_add_address:o})),entry:void 0};return wa(s)(e.state),s.signed_header.header.hash};async function Wa(e,t,n,r){const i=await e.cascade.dht_get(t,{strategy:Ki.Contents});if(!i)throw new Error("Could not find element to be deleted");const a=i.signed_header.header.content.entry_hash,o={signed_header:Ta(function(e,t,n,r,i){const a=ya(t);return{...Oa(e),entry_hash:a,entry_type:n,original_entry_address:r,original_header_address:i,type:vt.Update}}(e.state,n,r,a,t)),entry:n};return wa(o)(e.state),o.signed_header.header.hash}const Za=(e,t)=>async n=>{const r={entry_type:"App",content:n.content},i=e.dna.zomes[t].entry_defs.findIndex((e=>e.id===n.entry_def_id));if(i<0)throw new Error(`Given entry def id ${n.entry_def_id} does not exist in this zome`);const a={App:{id:i,zome_id:t,visibility:e.dna.zomes[t].entry_defs[i].visibility}};return Wa(e,n.original_header_address,r,a)},Qa=e=>async()=>{const t=Sa(e.state)[1];return{agent_initial_pubkey:t,agent_latest_pubkey:t}},Ja=e=>async t=>e.p2p.call_remote(t.agent,t.zome,t.fn_name,t.cap_secret,t.payload),eo=e=>async(t,n)=>{if(!t)throw new Error("Cannot get with undefined hash");return n=n||{strategy:Ki.Contents},e.cascade.dht_get(t,n)},to=e=>async(t,n)=>{if(!t)throw new Error("Cannot get with undefined hash");return n=n||{strategy:Ki.Contents},e.cascade.dht_get_details(t,n)},no=e=>async(t,n)=>{if(!t)throw new Error("Cannot get with undefined hash");return n=n||{strategy:Ki.Contents},e.cascade.dht_get_links(t,n)},ro=e=>async t=>va(e.state).map((t=>{let n;return t.header.content.entry_hash&&(n=e.state.CAS[t.header.content.entry_hash]),{signed_header:t,entry:n}}));const io={ensure:async function e(t,n){await n.create_entry({content:t,entry_def_id:"path"});const r=t.split(".");if(r.length>1){r.splice(r.length-1,1);const i=r.join(".");await e(i,n);const a=await n.hash_entry({content:t}),o=await n.hash_entry({content:i});await n.create_link({base:o,target:a,tag:t})}}};class ao{constructor(e,t,n){this._state=e,this.conductor=t,this.p2p=n,this._pendingWorkflows={},this.workflowExecutor=new Va,setTimeout((()=>{this.p2p.join(this)}))}get cellId(){return[this._state.dnaHash,this._state.agentPubKey]}get agentPubKey(){return this.cellId[1]}get dnaHash(){return this.cellId[0]}getState(){return Xr(this._state)}getSimulatedDna(){return this.conductor.registeredDnas[this.dnaHash]}getCascade(){return new sa(this._state,this.p2p)}static async create(e,t,n){const r={dnaHash:t[0],agentPubKey:t[1],CAS:{},integrationLimbo:{},metadata:{link_meta:[],misc_meta:{},system_meta:{}},validationLimbo:{},integratedDHTOps:{},authoredDHTOps:{},sourceChain:[]},i=e.network.createP2pCell(t),a=new ao(r,e,i);return await a._runWorkflow(function(e,t){return{type:Ra.GENESIS,details:{cellId:e,membrane_proof:t},task:n=>Ba(e[1],e[0],t)(n)}}(t,n)),a}callZomeFn(e){return this._runWorkflow((t=e.zome,n=e.fnName,r=e.payload,i=e.provenance,{type:Ra.CALL_ZOME,details:{fnName:n,payload:r,zome:t},task:e=>za(t,n,r,i,"")(e)}));var t,n,r,i}async handle_new_neighbor(e){this.p2p.addNeighbor(e)}handle_publish(e,t,n){return this._runWorkflow(Ha(e,t,n))}async handle_get(e,t){const n=new oa(this._state,this.p2p),r=Yi(e);return r===zi.ENTRY||r===zi.AGENT?n.handle_get_entry(e,t):r===zi.HEADER?n.handle_get_element(e,t):void 0}async handle_get_links(e,t){return new oa(this._state,this.p2p).handle_get_links(e,t)}async handle_call_remote(e,t,n,r,i){return this.callZomeFn({zome:t,cap:r,fnName:n,payload:i,provenance:e})}triggerWorkflow(e){this._pendingWorkflows[e.type]=e,setTimeout((()=>this._runPendingWorkflows()),20)}async _runPendingWorkflows(){const e=this._pendingWorkflows;this._pendingWorkflows={};const t=Object.values(e).map((e=>this._runWorkflow(e)));await Promise.all(t)}async _runWorkflow(e){let t;if(e.type===Ra.CALL_ZOME){const n=e.details.zome,r=this.getSimulatedDna().zomes.findIndex((e=>e.name===n));r>=0&&(t=r)}const n=await this.workflowExecutor.execute((()=>e.task(this.buildWorkspace(t))),e);return n.triggers.forEach((e=>this.triggerWorkflow(e))),n.result}buildWorkspace(e){let t;if(void 0!==e){const a={cascade:this.getCascade(),state:this._state,dna:this.getSimulatedDna(),p2p:this.p2p};t={create_entry:Ua(n=a,r=e),delete_entry:(i=n,async e=>Xa(i,e)),update_entry:Za(n,r),hash_entry:async e=>ya({entry_type:"App",content:e.content}),get:eo(n),get_details:to(n),create_link:qa(n,r),delete_link:Ka(n),get_links:no(n),create_cap_grant:Ga(n),delete_cap_grant:Ya(n),call_remote:Ja(n),agent_info:Qa(n),query:ro(n),path:io}}var n,r,i;return{state:this._state,p2p:this.p2p,dna:this.getSimulatedDna(),zomeFnContext:t}}}var oo;!function(e){e.CALL_REMOTE="Call Remote",e.ADD_NEIGHBOR="Add Neighbor",e.PUBLISH_REQUEST="Publish Request",e.GET_REQUEST="Get Request"}(oo||(oo={}));class so{constructor(e,t,n){this.cellId=t,this.network=n,this.networkRequestsExecutor=new Va,this.neighbors=e.neighbors,this.farKnownPeers=e.farKnownPeers,this.redundancyFactor=e.redundancyFactor,this.neighborNumber=e.neighborNumber}getState(){return{neighbors:this.neighbors,farKnownPeers:this.farKnownPeers,redundancyFactor:this.redundancyFactor,neighborNumber:this.neighborNumber}}async join(e){this.network.bootstrapService.announceCell(this.cellId,e),await this.syncNeighbors()}async leave(){}async publish(e,t){await this.network.kitsune.rpc_multi(this.cellId[0],this.cellId[1],e,this.redundancyFactor,(n=>this._executeNetworkRequest(n,oo.PUBLISH_REQUEST,{dhtOps:t},(n=>n.handle_publish(this.cellId[1],e,t)))))}async get(e,t){return(await this.network.kitsune.rpc_multi(this.cellId[0],this.cellId[1],e,1,(n=>this._executeNetworkRequest(n,oo.GET_REQUEST,{hash:e,options:t},(n=>n.handle_get(e,t)))))).find((e=>!!e))}async get_links(e,t){return this.network.kitsune.rpc_multi(this.cellId[0],this.cellId[1],e,1,(n=>this._executeNetworkRequest(n,oo.GET_REQUEST,{hash:e,options:t},(n=>n.handle_get_links(e,t)))))}async call_remote(e,t,n,r,i){return this.network.kitsune.rpc_single(this.cellId[0],this.cellId[1],e,(e=>this._executeNetworkRequest(e,oo.CALL_REMOTE,{},(e=>e.handle_call_remote(this.cellId[1],t,n,r,i)))))}getNeighbors(){return this.neighbors}addNeighbor(e){e===this.cellId[1]||this.neighbors.includes(e)||this.syncNeighbors()}async syncNeighbors(){const e=this.cellId[0],t=this.cellId[1];this.farKnownPeers=this.network.bootstrapService.getFarKnownPeers(e,t).map((e=>e.agentPubKey));const n=this.network.bootstrapService.getNeighborhood(e,t,this.neighborNumber).filter((e=>e.agentPubKey!=t)),r=n.filter((e=>!this.neighbors.includes(e.agentPubKey)));this.neighbors=n.map((e=>e.agentPubKey));const i=r.map((e=>this._executeNetworkRequest(e,oo.ADD_NEIGHBOR,{},(e=>e.handle_new_neighbor(t)))));await Promise.all(i),this.neighbors.length<this.neighborNumber&&setTimeout((()=>this.syncNeighbors()),400)}_executeNetworkRequest(e,t,n,r){const i={fromAgent:this.cellId[1],toAgent:e.agentPubKey,dnaHash:this.cellId[0],type:t,details:n};return this.networkRequestsExecutor.execute((()=>r(e)),i)}}class co{constructor(e){this.network=e,this.discover=new lo(e)}async rpc_single(e,t,n,r){return r(await this.discover.peer_discover(e,t,n))}async rpc_multi(e,t,n,r,i){return this.discover.message_neighborhood(e,t,n,r,i)}}class lo{constructor(e){this.network=e}async peer_discover(e,t,n){return this.network.bootstrapService.cells[e][n]}async message_neighborhood(e,t,n,r,i){const a=(await this.search_for_agents(e,n,r)).map((e=>i(e)));return Promise.all(a)}async search_for_agents(e,t,n){return this.network.bootstrapService.getNeighborhood(e,t,n)}}class uo{constructor(e,t,n){this.conductor=t,this.bootstrapService=n,this.p2pCells={};for(const[t,n]of Object.entries(e.p2pCellsState)){this.p2pCells[t]||this.p2pCells[t];for(const[e,r]of Object.entries(n))this.p2pCells[t][e]=new so(r,[t,e],this)}this.kitsune=new co(this)}getState(){const e={};for(const[t,n]of Object.entries(this.p2pCells)){e[t]||(e[t]={});for(const[r,i]of Object.entries(n))e[t][r]=i.getState()}return{p2pCellsState:e}}getAllP2pCells(){const e=Object.values(this.p2pCells).map((e=>Object.values(e)));return[].concat(...e)}createP2pCell(e){const t=e[0],n=new so({neighbors:[],farKnownPeers:[],redundancyFactor:3,neighborNumber:5},e,this);return this.p2pCells[t]||(this.p2pCells[t]={}),this.p2pCells[t][e[1]]=n,n}sendRequest(e,t,n,r){const i=this.conductor.cells[e]&&this.conductor.cells[e][n];return r(i||this.bootstrapService.cells[e][n])}}class po{constructor(e,t){this.network=new uo(e.networkState,this,t),this.registeredDnas=e.registeredDnas,this.registeredTemplates=e.registeredTemplates,this.cells={};for(const[t,n]of Object.entries(e.cellsState)){this.cells[t]||(this.cells[t]={});for(const[e,r]of Object.entries(n))this.cells[t][e]=new ao(r,this,this.network.createP2pCell(Sa(r)))}}static async create(e){return new po({cellsState:{},networkState:{p2pCellsState:{}},registeredDnas:{},registeredTemplates:{}},e)}getState(){const e={};for(const[t,n]of Object.entries(this.cells))for(const[r,i]of Object.entries(n))e[t][r]=i.getState();return{networkState:this.network.getState(),cellsState:e,registeredDnas:this.registeredDnas,registeredTemplates:this.registeredTemplates}}getAllCells(){const e=Object.values(this.cells).map((e=>Object.values(e)));return[].concat(...e)}getCells(e){return Object.values(this.cells[e])}getCell(e,t){return this.cells[e][t]}async registerDna(e){const t=$i(e,zi.DNA);return this.registeredTemplates[t]=e,t}async installApp(e,t,n,r){const i=$i(`${Math.random().toString()}/${Date.now()}`,zi.AGENT),a=this.registeredTemplates[e];if(!a)throw new Error("The given dna is not registered on this conductor");const o={...a,properties:n,uuid:r},s=$i(o,zi.DNA);this.registeredDnas[s]=o;const c=[s,i],l=await ao.create(this,c,t);return this.cells[l.dnaHash]||(this.cells[l.dnaHash]={}),this.cells[l.dnaHash][l.agentPubKey]=l,l}callZomeFn(e){const t=e.cellId[0],n=e.cellId[1],r=this.cells[t][n];if(!r)throw new Error(`No cells existst with cellId ${t}:${n}`);return r.callZomeFn({zome:e.zome,cap:e.cap,fnName:e.fnName,payload:e.payload,provenance:n})}}const ho={name:"demo_entries",entry_defs:[{id:"demo_entry",visibility:"Public"},{id:"path",visibility:"Public"}],zome_functions:{create_entry:{call:({hash_entry:e,create_entry:t})=>async({content:n})=>(await t({content:n,entry_def_id:"demo_entry"}),e({content:n})),arguments:[{name:"content",type:"any"}]},get:{call:({get:e})=>({hash:t})=>e(t,{strategy:Ki.Latest}),arguments:[{name:"hash",type:"AnyDhtHash"}]},get_details:{call:({get_details:e})=>({hash:t})=>e(t,{strategy:Ki.Latest}),arguments:[{name:"hash",type:"AnyDhtHash"}]},update_entry:{call:({update_entry:e})=>({original_header_address:t,new_content:n})=>e({original_header_address:t,content:n,entry_def_id:"demo_entry"}),arguments:[{name:"original_header_address",type:"HeaderHash"},{name:"new_content",type:"String"}]},delete_entry:{call:({delete_entry:e})=>({deletes_address:t})=>e(t),arguments:[{name:"deletes_address",type:"HeaderHash"}]}}},fo={name:"demo_links",entry_defs:[],zome_functions:{create_link:{call:({create_link:e})=>({base:t,target:n,tag:r})=>e({base:t,target:n,tag:r}),arguments:[{name:"base",type:"EntryHash"},{name:"target",type:"EntryHash"},{name:"tag",type:"any"}]},get_links:{call:({get_links:e})=>({base:t})=>e(t),arguments:[{name:"base",type:"EntryHash"}]},delete_link:{call:({delete_link:e})=>({add_link_header:t})=>e(t),arguments:[{name:"add_link_header",type:"HeaderHash"}]}}};function mo(){return{zomes:[ho,fo]}}const go=e=>new Promise((t=>setTimeout((()=>t()),e)));class vo{constructor(){this.cells={}}announceCell(e,t){const n=e[0],r=e[1];this.cells[n]||(this.cells[n]={}),this.cells[n][r]=t}getNeighborhood(e,t,n){return function(e,t,n){return e.sort(((e,n)=>qi(e,t)-qi(n,t))).slice(0,n)}(Object.keys(this.cells[e]),t,n).map((t=>this.cells[e][t]))}getFarKnownPeers(e,t){return function(e,t){const n=e.sort(((e,n)=>Xi(Gi(e)-Gi(t))-Xi(Gi(n)-Gi(t)))),r=Math.floor(.35*n.length),i=Math.floor(n.length/2),a=Math.floor(.65*n.length);return li([n[r],n[i],n[a]].filter((e=>!!e)))}(Object.keys(this.cells[e]).filter((e=>e!==t)),t).map((t=>this.cells[e][t]))}}async function yo(e,t,n){const r=0===t.length?new vo:t[0].network.bootstrapService,i=[];for(let t=0;t<e;t++){const e=po.create(r);i.push(e)}const a=await Promise.all(i),o=[...t,...a];return await Promise.all(o.map((async e=>{const t=await e.registerDna(n);await e.installApp(t,null,null,"")}))),o}
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var bo={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},_o={NOTCH_ELEMENT_PADDING:8},xo={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"},wo=function(e){function t(n){return e.call(this,ne(ne({},t.defaultAdapter),n))||this}return te(t,e),Object.defineProperty(t,"strings",{get:function(){return bo},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return xo},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return _o},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!0,configurable:!0}),t.prototype.notch=function(e){var n=t.cssClasses.OUTLINE_NOTCHED;e>0&&(e+=_o.NOTCH_ELEMENT_PADDING),this.adapter.setNotchWidthProperty(e),this.adapter.addClass(n)},t.prototype.closeNotch=function(){var e=t.cssClasses.OUTLINE_NOTCHED;this.adapter.removeClass(e),this.adapter.removeNotchWidthProperty()},t}(fe);let ko,Eo,Co=e=>e;class So extends pe{constructor(){super(...arguments),this.mdcFoundationClass=wo,this.width=0,this.open=!1,this.lastOpen=this.open}createAdapter(){return{addClass:e=>this.mdcRoot.classList.add(e),removeClass:e=>this.mdcRoot.classList.remove(e),setNotchWidthProperty:e=>this.notchElement.style.setProperty("width",`${e}px`),removeNotchWidthProperty:()=>this.notchElement.style.removeProperty("width")}}openOrClose(e,t){this.mdcFoundation&&(e&&void 0!==t?this.mdcFoundation.notch(t):this.mdcFoundation.closeNotch())}render(){this.openOrClose(this.open,this.width);const e=S({"mdc-notched-outline--notched":this.open});return l(ko||(ko=Co`
      <span class="mdc-notched-outline ${0}">
        <span class="mdc-notched-outline__leading"></span>
        <span class="mdc-notched-outline__notch">
          <slot></slot>
        </span>
        <span class="mdc-notched-outline__trailing"></span>
      </span>`),e)}}re([b(".mdc-notched-outline")],So.prototype,"mdcRoot",void 0),re([v({type:Number})],So.prototype,"width",void 0),re([v({type:Boolean,reflect:!0})],So.prototype,"open",void 0),re([b(".mdc-notched-outline__notch")],So.prototype,"notchElement",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Ao=c(Eo||(Eo=Co`.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(100% / 0.75)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}:host{display:block;position:absolute;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] :host,:host[dir=rtl]{text-align:right}::slotted(.mdc-floating-label){display:inline-block;position:relative;top:17px;bottom:auto;max-width:100%}::slotted(.mdc-floating-label--float-above){text-overflow:clip}.mdc-notched-outline--upgraded ::slotted(.mdc-floating-label--float-above){max-width:calc(100% / .75)}.mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-notched-outline .mdc-notched-outline__leading,.mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px)) * 2)}}.mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-color:var(--mdc-notched-outline-border-color, var(--mdc-theme-primary, #6200ee));border-width:1px;border-width:var(--mdc-notched-outline-stroke-width, 1px)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0;padding-top:var(--mdc-notched-outline-notch-offset, 0)}`));
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var To={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_REQUIRED:"mdc-floating-label--required",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"},Io=function(e){function t(n){var r=e.call(this,ne(ne({},t.defaultAdapter),n))||this;return r.shakeAnimationEndHandler_=function(){return r.handleShakeAnimationEnd_()},r}return te(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return To},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("animationend",this.shakeAnimationEndHandler_)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler_)},t.prototype.getWidth=function(){return this.adapter.getWidth()},t.prototype.shake=function(e){var n=t.cssClasses.LABEL_SHAKE;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.float=function(e){var n=t.cssClasses,r=n.LABEL_FLOAT_ABOVE,i=n.LABEL_SHAKE;e?this.adapter.addClass(r):(this.adapter.removeClass(r),this.adapter.removeClass(i))},t.prototype.setRequired=function(e){var n=t.cssClasses.LABEL_REQUIRED;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.handleShakeAnimationEnd_=function(){var e=t.cssClasses.LABEL_SHAKE;this.adapter.removeClass(e)},t}(fe),Oo={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"},Ro=function(e){function t(n){var r=e.call(this,ne(ne({},t.defaultAdapter),n))||this;return r.transitionEndHandler_=function(e){return r.handleTransitionEnd(e)},r}return te(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Oo},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.adapter.registerEventHandler("transitionend",this.transitionEndHandler_)},t.prototype.destroy=function(){this.adapter.deregisterEventHandler("transitionend",this.transitionEndHandler_)},t.prototype.activate=function(){this.adapter.removeClass(Oo.LINE_RIPPLE_DEACTIVATING),this.adapter.addClass(Oo.LINE_RIPPLE_ACTIVE)},t.prototype.setRippleCenter=function(e){this.adapter.setStyle("transform-origin",e+"px center")},t.prototype.deactivate=function(){this.adapter.addClass(Oo.LINE_RIPPLE_DEACTIVATING)},t.prototype.handleTransitionEnd=function(e){var t=this.adapter.hasClass(Oo.LINE_RIPPLE_DEACTIVATING);"opacity"===e.propertyName&&t&&(this.adapter.removeClass(Oo.LINE_RIPPLE_ACTIVE),this.adapter.removeClass(Oo.LINE_RIPPLE_DEACTIVATING))},t}(fe);let Do=class extends So{};var Po;Do.styles=Ao,Do=re([(Po="mwc-notched-outline",e=>"function"==typeof e?((e,t)=>(window.customElements.define(e,t),t))(Po,e):((e,t)=>{const{kind:n,elements:r}=t;return{kind:n,elements:r,finisher(t){window.customElements.define(e,t)}}})(Po,e))],Do);const Lo=new WeakMap,No=e((e=>t=>{if(!Lo.get(t)){const n=t.committer.element;n.classList.add("mdc-floating-label");const r=(e=>({addClass:t=>e.classList.add(t),removeClass:t=>e.classList.remove(t),getWidth:()=>e.scrollWidth,registerInteractionHandler:(t,n)=>{e.addEventListener(t,n)},deregisterInteractionHandler:(t,n)=>{e.removeEventListener(t,n)}}))(n),i=new Io(r);i.init(),t.setValue(i),Lo.set(t,{label:e,foundation:i})}})),Mo=new WeakMap,Fo=e((()=>e=>{if(!Mo.get(e)){const t=e.committer.element;t.classList.add("mdc-line-ripple");const n=(e=>({addClass:t=>e.classList.add(t),removeClass:t=>e.classList.remove(t),hasClass:t=>e.classList.contains(t),setStyle:(t,n)=>e.style.setProperty(t,n),registerEventHandler:(t,n)=>{e.addEventListener(t,n)},deregisterEventHandler:(t,n)=>{e.removeEventListener(t,n)}}))(t),r=new Ro(n);r.init(),e.setValue(r),Mo.set(e,r)}}));class zo extends pe{createRenderRoot(){return this.attachShadow({mode:"open",delegatesFocus:!0})}click(){this.formElement&&(this.formElement.focus(),this.formElement.click())}setAriaLabel(e){this.formElement&&this.formElement.setAttribute("aria-label",e)}firstUpdated(){super.firstUpdated(),this.mdcRoot.addEventListener("change",(e=>{this.dispatchEvent(new Event("change",e))}))}}
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Bo={ARIA_CONTROLS:"aria-controls",ARIA_DESCRIBEDBY:"aria-describedby",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",PREFIX_SELECTOR:".mdc-text-field__affix--prefix",SUFFIX_SELECTOR:".mdc-text-field__affix--suffix",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},jo={DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",LABEL_FLOATING:"mdc-text-field--label-floating",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon"},Ho={LABEL_SCALE:.75},Vo=["pattern","min","max","required","step","minlength","maxlength"],$o=["color","date","datetime-local","month","range","time","week"],Uo=["mousedown","touchstart"],Go=["click","keydown"],qo=function(e){function t(n,r){void 0===r&&(r={});var i=e.call(this,ne(ne({},t.defaultAdapter),n))||this;return i.isFocused_=!1,i.receivedUserInput_=!1,i.isValid_=!0,i.useNativeValidation_=!0,i.validateOnValueChange_=!0,i.helperText_=r.helperText,i.characterCounter_=r.characterCounter,i.leadingIcon_=r.leadingIcon,i.trailingIcon_=r.trailingIcon,i.inputFocusHandler_=function(){return i.activateFocus()},i.inputBlurHandler_=function(){return i.deactivateFocus()},i.inputInputHandler_=function(){return i.handleInput()},i.setPointerXOffset_=function(e){return i.setTransformOrigin(e)},i.textFieldInteractionHandler_=function(){return i.handleTextFieldInteraction()},i.validationAttributeChangeHandler_=function(e){return i.handleValidationAttributeChange(e)},i}return te(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return jo},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Bo},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Ho},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldAlwaysFloat_",{get:function(){var e=this.getNativeInput_().type;return $o.indexOf(e)>=0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat_||this.isFocused_||!!this.getValue()||this.isBadInput_()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldShake",{get:function(){return!this.isFocused_&&!this.isValid()&&!!this.getValue()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},setInputAttr:function(){},removeInputAttr:function(){},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver((function(){}))},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},setLabelRequired:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this;this.adapter.hasLabel()&&this.getNativeInput_().required&&this.adapter.setLabelRequired(!0),this.adapter.isFocused()?this.inputFocusHandler_():this.adapter.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter.floatLabel(!0),this.styleFloating_(!0)),this.adapter.registerInputInteractionHandler("focus",this.inputFocusHandler_),this.adapter.registerInputInteractionHandler("blur",this.inputBlurHandler_),this.adapter.registerInputInteractionHandler("input",this.inputInputHandler_),Uo.forEach((function(t){e.adapter.registerInputInteractionHandler(t,e.setPointerXOffset_)})),Go.forEach((function(t){e.adapter.registerTextFieldInteractionHandler(t,e.textFieldInteractionHandler_)})),this.validationObserver_=this.adapter.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler_),this.setCharacterCounter_(this.getValue().length)},t.prototype.destroy=function(){var e=this;this.adapter.deregisterInputInteractionHandler("focus",this.inputFocusHandler_),this.adapter.deregisterInputInteractionHandler("blur",this.inputBlurHandler_),this.adapter.deregisterInputInteractionHandler("input",this.inputInputHandler_),Uo.forEach((function(t){e.adapter.deregisterInputInteractionHandler(t,e.setPointerXOffset_)})),Go.forEach((function(t){e.adapter.deregisterTextFieldInteractionHandler(t,e.textFieldInteractionHandler_)})),this.adapter.deregisterValidationAttributeChangeHandler(this.validationObserver_)},t.prototype.handleTextFieldInteraction=function(){var e=this.adapter.getNativeInput();e&&e.disabled||(this.receivedUserInput_=!0)},t.prototype.handleValidationAttributeChange=function(e){var t=this;e.some((function(e){return Vo.indexOf(e)>-1&&(t.styleValidity_(!0),t.adapter.setLabelRequired(t.getNativeInput_().required),!0)})),e.indexOf("maxlength")>-1&&this.setCharacterCounter_(this.getValue().length)},t.prototype.notchOutline=function(e){if(this.adapter.hasOutline()&&this.adapter.hasLabel())if(e){var t=this.adapter.getLabelWidth()*Ho.LABEL_SCALE;this.adapter.notchOutline(t)}else this.adapter.closeOutline()},t.prototype.activateFocus=function(){this.isFocused_=!0,this.styleFocused_(this.isFocused_),this.adapter.activateLineRipple(),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),!this.helperText_||!this.helperText_.isPersistent()&&this.helperText_.isValidation()&&this.isValid_||this.helperText_.showToScreenReader()},t.prototype.setTransformOrigin=function(e){if(!this.isDisabled()&&!this.adapter.hasOutline()){var t=e.touches,n=t?t[0]:e,r=n.target.getBoundingClientRect(),i=n.clientX-r.left;this.adapter.setLineRippleTransformOrigin(i)}},t.prototype.handleInput=function(){this.autoCompleteFocus(),this.setCharacterCounter_(this.getValue().length)},t.prototype.autoCompleteFocus=function(){this.receivedUserInput_||this.activateFocus()},t.prototype.deactivateFocus=function(){this.isFocused_=!1,this.adapter.deactivateLineRipple();var e=this.isValid();this.styleValidity_(e),this.styleFocused_(this.isFocused_),this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.adapter.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput_=!1)},t.prototype.getValue=function(){return this.getNativeInput_().value},t.prototype.setValue=function(e){if(this.getValue()!==e&&(this.getNativeInput_().value=e),this.setCharacterCounter_(e.length),this.validateOnValueChange_){var t=this.isValid();this.styleValidity_(t)}this.adapter.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter.floatLabel(this.shouldFloat),this.styleFloating_(this.shouldFloat),this.validateOnValueChange_&&this.adapter.shakeLabel(this.shouldShake))},t.prototype.isValid=function(){return this.useNativeValidation_?this.isNativeInputValid_():this.isValid_},t.prototype.setValid=function(e){this.isValid_=e,this.styleValidity_(e);var t=!e&&!this.isFocused_&&!!this.getValue();this.adapter.hasLabel()&&this.adapter.shakeLabel(t)},t.prototype.setValidateOnValueChange=function(e){this.validateOnValueChange_=e},t.prototype.getValidateOnValueChange=function(){return this.validateOnValueChange_},t.prototype.setUseNativeValidation=function(e){this.useNativeValidation_=e},t.prototype.isDisabled=function(){return this.getNativeInput_().disabled},t.prototype.setDisabled=function(e){this.getNativeInput_().disabled=e,this.styleDisabled_(e)},t.prototype.setHelperTextContent=function(e){this.helperText_&&this.helperText_.setContent(e)},t.prototype.setLeadingIconAriaLabel=function(e){this.leadingIcon_&&this.leadingIcon_.setAriaLabel(e)},t.prototype.setLeadingIconContent=function(e){this.leadingIcon_&&this.leadingIcon_.setContent(e)},t.prototype.setTrailingIconAriaLabel=function(e){this.trailingIcon_&&this.trailingIcon_.setAriaLabel(e)},t.prototype.setTrailingIconContent=function(e){this.trailingIcon_&&this.trailingIcon_.setContent(e)},t.prototype.setCharacterCounter_=function(e){if(this.characterCounter_){var t=this.getNativeInput_().maxLength;if(-1===t)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter_.setCounterValue(e,t)}},t.prototype.isBadInput_=function(){return this.getNativeInput_().validity.badInput||!1},t.prototype.isNativeInputValid_=function(){return this.getNativeInput_().validity.valid},t.prototype.styleValidity_=function(e){var n=t.cssClasses.INVALID;if(e?this.adapter.removeClass(n):this.adapter.addClass(n),this.helperText_){if(this.helperText_.setValidity(e),!this.helperText_.isValidation())return;var r=this.helperText_.isVisible(),i=this.helperText_.getId();r&&i?this.adapter.setInputAttr(Bo.ARIA_DESCRIBEDBY,i):this.adapter.removeInputAttr(Bo.ARIA_DESCRIBEDBY)}},t.prototype.styleFocused_=function(e){var n=t.cssClasses.FOCUSED;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.styleDisabled_=function(e){var n=t.cssClasses,r=n.DISABLED,i=n.INVALID;e?(this.adapter.addClass(r),this.adapter.removeClass(i)):this.adapter.removeClass(r),this.leadingIcon_&&this.leadingIcon_.setDisabled(e),this.trailingIcon_&&this.trailingIcon_.setDisabled(e)},t.prototype.styleFloating_=function(e){var n=t.cssClasses.LABEL_FLOATING;e?this.adapter.addClass(n):this.adapter.removeClass(n)},t.prototype.getNativeInput_=function(){return(this.adapter?this.adapter.getNativeInput():null)||{disabled:!1,maxLength:-1,required:!1,type:"input",validity:{badInput:!1,valid:!0},value:""}},t}(fe);const Xo=e((e=>r=>{let i;if(r instanceof d||r instanceof u)throw new Error("The `live` directive is not allowed on text or event bindings");if(r instanceof p)Yo(r.strings),i=r.element.hasAttribute(r.name),r.value=i;else{const{element:a,name:o,strings:s}=r.committer;if(Yo(s),r instanceof n){if(i=a[o],i===e)return}else r instanceof t&&(i=a.getAttribute(o));if(i===String(e))return}r.setValue(e)})),Yo=e=>{if(2!==e.length||""!==e[0]||""!==e[1])throw new Error("`live` bindings can only contain a single expression")};let Ko,Wo,Zo,Qo,Jo,es,ts,ns,rs,is,as=e=>e;const os=["touchstart","touchmove","scroll","mousewheel"],ss=(e={})=>{const t={};for(const n in e)t[n]=e[n];return Object.assign({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1},t)};class cs extends zo{constructor(){super(...arguments),this.mdcFoundationClass=qo,this.value="",this.type="text",this.placeholder="",this.label="",this.icon="",this.iconTrailing="",this.disabled=!1,this.required=!1,this.minLength=-1,this.maxLength=-1,this.outlined=!1,this.helper="",this.validateOnInitialRender=!1,this.validationMessage="",this.autoValidate=!1,this.pattern="",this.min="",this.max="",this.step=null,this.size=null,this.helperPersistent=!1,this.charCounter=!1,this.endAligned=!1,this.prefix="",this.suffix="",this.name="",this.readOnly=!1,this.autocapitalize="",this.outlineOpen=!1,this.outlineWidth=0,this.isUiValid=!0,this.focused=!1,this._validity=ss(),this._outlineUpdateComplete=null,this.validityTransform=null}get validity(){return this._checkValidity(this.value),this._validity}get willValidate(){return this.formElement.willValidate}get selectionStart(){return this.formElement.selectionStart}get selectionEnd(){return this.formElement.selectionEnd}focus(){const e=new CustomEvent("focus");this.formElement.dispatchEvent(e),this.formElement.focus()}blur(){const e=new CustomEvent("blur");this.formElement.dispatchEvent(e),this.formElement.blur()}select(){this.formElement.select()}setSelectionRange(e,t,n){this.formElement.setSelectionRange(e,t,n)}update(e){e.has("autoValidate")&&this.mdcFoundation&&this.mdcFoundation.setValidateOnValueChange(this.autoValidate),e.has("value")&&"string"!=typeof this.value&&(this.value=`${this.value}`),super.update(e)}render(){const e=this.charCounter&&-1!==this.maxLength,t=!!this.helper||!!this.validationMessage||e,n={"mdc-text-field--disabled":this.disabled,"mdc-text-field--no-label":!this.label,"mdc-text-field--filled":!this.outlined,"mdc-text-field--outlined":this.outlined,"mdc-text-field--with-leading-icon":this.icon,"mdc-text-field--with-trailing-icon":this.iconTrailing,"mdc-text-field--end-aligned":this.endAligned};return l(Ko||(Ko=as`
      <label class="mdc-text-field ${0}">
        ${0}
        ${0}
        ${0}
        ${0}
        ${0}
        ${0}
        ${0}
        ${0}
      </label>
      ${0}
    `),S(n),this.renderRipple(),this.outlined?this.renderOutline():this.renderLabel(),this.renderLeadingIcon(),this.renderPrefix(),this.renderInput(t),this.renderSuffix(),this.renderTrailingIcon(),this.renderLineRipple(),this.renderHelperText(t,e))}updated(e){e.has("value")&&void 0!==e.get("value")&&(this.mdcFoundation.setValue(this.value),this.autoValidate&&this.reportValidity())}renderRipple(){return this.outlined?"":l(Wo||(Wo=as`
      <span class="mdc-text-field__ripple"></span>
    `))}renderOutline(){return this.outlined?l(Zo||(Zo=as`
      <mwc-notched-outline
          .width=${0}
          .open=${0}
          class="mdc-notched-outline">
        ${0}
      </mwc-notched-outline>`),this.outlineWidth,this.outlineOpen,this.renderLabel()):""}renderLabel(){return this.label?l(Qo||(Qo=as`
      <span
          .floatingLabelFoundation=${0}
          id="label">${0}</span>
    `),No(this.label),this.label):""}renderLeadingIcon(){return this.icon?this.renderIcon(this.icon):""}renderTrailingIcon(){return this.iconTrailing?this.renderIcon(this.iconTrailing,!0):""}renderIcon(e,t=!1){return l(Jo||(Jo=as`<i class="material-icons mdc-text-field__icon ${0}">${0}</i>`),S({"mdc-text-field__icon--leading":!t,"mdc-text-field__icon--trailing":t}),e)}renderPrefix(){return this.prefix?this.renderAffix(this.prefix):""}renderSuffix(){return this.suffix?this.renderAffix(this.suffix,!0):""}renderAffix(e,t=!1){return l(es||(es=as`<span class="mdc-text-field__affix ${0}">
        ${0}</span>`),S({"mdc-text-field__affix--prefix":!t,"mdc-text-field__affix--suffix":t}),e)}renderInput(e){const t=-1===this.minLength?void 0:this.minLength,n=-1===this.maxLength?void 0:this.maxLength,r=this.autocapitalize?this.autocapitalize:void 0,i=this.validationMessage&&!this.isUiValid,a=e?"helper-text":void 0,o=this.focused||this.helperPersistent||i?"helper-text":void 0,s=i?"helper-text":void 0;return l(ts||(ts=as`
      <input
          aria-labelledby="label"
          aria-controls="${0}"
          aria-describedby="${0}"
          aria-errortext="${0}"
          class="mdc-text-field__input"
          type="${0}"
          .value="${0}"
          ?disabled="${0}"
          placeholder="${0}"
          ?required="${0}"
          ?readonly="${0}"
          minlength="${0}"
          maxlength="${0}"
          pattern="${0}"
          min="${0}"
          max="${0}"
          step="${0}"
          size="${0}"
          name="${0}"
          inputmode="${0}"
          autocapitalize="${0}"
          @input="${0}"
          @focus="${0}"
          @blur="${0}">`),T(a),T(o),T(s),this.type,Xo(this.value),this.disabled,this.placeholder,this.required,this.readOnly,T(t),T(n),T(this.pattern?this.pattern:void 0),T(""===this.min?void 0:this.min),T(""===this.max?void 0:this.max),T(null===this.step?void 0:this.step),T(null===this.size?void 0:this.size),T(""===this.name?void 0:this.name),T(this.inputMode),T(r),this.handleInputChange,this.onInputFocus,this.onInputBlur)}renderLineRipple(){return this.outlined?"":l(ns||(ns=as`
      <span .lineRippleFoundation=${0}></span>
    `),Fo())}renderHelperText(e,t){const n=this.validationMessage&&!this.isUiValid,r={"mdc-text-field-helper-text--persistent":this.helperPersistent,"mdc-text-field-helper-text--validation-msg":n},i=this.focused||this.helperPersistent||n?void 0:"true",a=n?this.validationMessage:this.helper;return e?l(rs||(rs=as`
      <div class="mdc-text-field-helper-line">
        <div id="helper-text"
             aria-hidden="${0}"
             class="mdc-text-field-helper-text ${0}"
             >${0}</div>
        ${0}
      </div>`),T(i),S(r),a,this.renderCharCounter(t)):""}renderCharCounter(e){const t=Math.min(this.value.length,this.maxLength);return e?l(is||(is=as`
      <span class="mdc-text-field-character-counter"
            >${0} / ${0}</span>`),t,this.maxLength):""}onInputFocus(){this.focused=!0}onInputBlur(){this.focused=!1,this.reportValidity()}checkValidity(){const e=this._checkValidity(this.value);if(!e){const e=new Event("invalid",{bubbles:!1,cancelable:!0});this.dispatchEvent(e)}return e}reportValidity(){const e=this.checkValidity();return this.mdcFoundation.setValid(e),this.isUiValid=e,e}_checkValidity(e){const t=this.formElement.validity;let n=ss(t);if(this.validityTransform){const t=this.validityTransform(e,n);n=Object.assign(Object.assign({},n),t),this.mdcFoundation.setUseNativeValidation(!1)}else this.mdcFoundation.setUseNativeValidation(!0);return this._validity=n,this._validity.valid}setCustomValidity(e){this.validationMessage=e,this.formElement.setCustomValidity(e)}handleInputChange(){this.value=this.formElement.value}createFoundation(){void 0!==this.mdcFoundation&&this.mdcFoundation.destroy(),this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init()}createAdapter(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.getRootAdapterMethods()),this.getInputAdapterMethods()),this.getLabelAdapterMethods()),this.getLineRippleAdapterMethods()),this.getOutlineAdapterMethods())}getRootAdapterMethods(){return Object.assign({registerTextFieldInteractionHandler:(e,t)=>this.addEventListener(e,t),deregisterTextFieldInteractionHandler:(e,t)=>this.removeEventListener(e,t),registerValidationAttributeChangeHandler:e=>{const t=new MutationObserver((t=>{e((e=>e.map((e=>e.attributeName)).filter((e=>e)))(t))}));return t.observe(this.formElement,{attributes:!0}),t},deregisterValidationAttributeChangeHandler:e=>e.disconnect()},se(this.mdcRoot))}getInputAdapterMethods(){return{getNativeInput:()=>this.formElement,setInputAttr:()=>{},removeInputAttr:()=>{},isFocused:()=>!!this.shadowRoot&&this.shadowRoot.activeElement===this.formElement,registerInputInteractionHandler:(e,t)=>this.formElement.addEventListener(e,t,{passive:e in os}),deregisterInputInteractionHandler:(e,t)=>this.formElement.removeEventListener(e,t)}}getLabelAdapterMethods(){return{floatLabel:e=>this.labelElement&&this.labelElement.floatingLabelFoundation.float(e),getLabelWidth:()=>this.labelElement?this.labelElement.floatingLabelFoundation.getWidth():0,hasLabel:()=>Boolean(this.labelElement),shakeLabel:e=>this.labelElement&&this.labelElement.floatingLabelFoundation.shake(e),setLabelRequired:e=>{this.labelElement&&this.labelElement.floatingLabelFoundation.setRequired(e)}}}getLineRippleAdapterMethods(){return{activateLineRipple:()=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.activate()},deactivateLineRipple:()=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.deactivate()},setLineRippleTransformOrigin:e=>{this.lineRippleElement&&this.lineRippleElement.lineRippleFoundation.setRippleCenter(e)}}}async _getUpdateComplete(){await super._getUpdateComplete(),await this._outlineUpdateComplete}async firstUpdated(){const e=this.outlineElement;e&&(this._outlineUpdateComplete=e.updateComplete,await this._outlineUpdateComplete),super.firstUpdated(),this.mdcFoundation.setValidateOnValueChange(this.autoValidate),this.validateOnInitialRender&&this.reportValidity()}getOutlineAdapterMethods(){return{closeOutline:()=>this.outlineElement&&(this.outlineOpen=!1),hasOutline:()=>Boolean(this.outlineElement),notchOutline:e=>{this.outlineElement&&!this.outlineOpen&&(this.outlineWidth=e,this.outlineOpen=!0)}}}async layout(){await this.updateComplete;const e=this.labelElement;if(!e)return void(this.outlineOpen=!1);const t=!!this.label&&!!this.value;if(e.floatingLabelFoundation.float(t),!this.outlined)return;this.outlineOpen=t,await this.updateComplete;const n=e.floatingLabelFoundation.getWidth();this.outlineOpen&&(this.outlineWidth=n)}}re([b(".mdc-text-field")],cs.prototype,"mdcRoot",void 0),re([b("input")],cs.prototype,"formElement",void 0),re([b(".mdc-floating-label")],cs.prototype,"labelElement",void 0),re([b(".mdc-line-ripple")],cs.prototype,"lineRippleElement",void 0),re([b("mwc-notched-outline")],cs.prototype,"outlineElement",void 0),re([b(".mdc-notched-outline__notch")],cs.prototype,"notchElement",void 0),re([v({type:String})],cs.prototype,"value",void 0),re([v({type:String})],cs.prototype,"type",void 0),re([v({type:String})],cs.prototype,"placeholder",void 0),re([v({type:String}),he((function(e,t){void 0!==t&&this.label!==t&&this.layout()}))],cs.prototype,"label",void 0),re([v({type:String})],cs.prototype,"icon",void 0),re([v({type:String})],cs.prototype,"iconTrailing",void 0),re([v({type:Boolean,reflect:!0})],cs.prototype,"disabled",void 0),re([v({type:Boolean})],cs.prototype,"required",void 0),re([v({type:Number})],cs.prototype,"minLength",void 0),re([v({type:Number})],cs.prototype,"maxLength",void 0),re([v({type:Boolean,reflect:!0}),he((function(e,t){void 0!==t&&this.outlined!==t&&this.layout()}))],cs.prototype,"outlined",void 0),re([v({type:String})],cs.prototype,"helper",void 0),re([v({type:Boolean})],cs.prototype,"validateOnInitialRender",void 0),re([v({type:String})],cs.prototype,"validationMessage",void 0),re([v({type:Boolean})],cs.prototype,"autoValidate",void 0),re([v({type:String})],cs.prototype,"pattern",void 0),re([v({type:String})],cs.prototype,"min",void 0),re([v({type:String})],cs.prototype,"max",void 0),re([v({type:Number})],cs.prototype,"step",void 0),re([v({type:Number})],cs.prototype,"size",void 0),re([v({type:Boolean})],cs.prototype,"helperPersistent",void 0),re([v({type:Boolean})],cs.prototype,"charCounter",void 0),re([v({type:Boolean})],cs.prototype,"endAligned",void 0),re([v({type:String})],cs.prototype,"prefix",void 0),re([v({type:String})],cs.prototype,"suffix",void 0),re([v({type:String})],cs.prototype,"name",void 0),re([v({type:String})],cs.prototype,"inputMode",void 0),re([v({type:Boolean})],cs.prototype,"readOnly",void 0),re([v({type:String})],cs.prototype,"autocapitalize",void 0),re([v({type:Boolean})],cs.prototype,"outlineOpen",void 0),re([v({type:Number})],cs.prototype,"outlineWidth",void 0),re([v({type:Boolean})],cs.prototype,"isUiValid",void 0),re([y()],cs.prototype,"focused",void 0),re([k({passive:!0})],cs.prototype,"handleInputChange",null);class ls extends So{}ls.styles=Ao;let ds;
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const us=c(ds||(ds=(e=>e)`.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform;transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px;z-index:1}.mdc-line-ripple::after{transform:scaleX(0);border-bottom-width:2px;opacity:0;z-index:2}.mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(100% / 0.75)}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}.mdc-text-field--filled{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-text-field--filled .mdc-text-field__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-text-field--filled .mdc-text-field__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-text-field--filled.mdc-ripple-upgraded--unbounded .mdc-text-field__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-activation .mdc-text-field__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-deactivation .mdc-text-field__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-text-field__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input{color:rgba(0, 0, 0, 0.87)}@media all{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:rgba(0, 0, 0, 0.54)}}@media all{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:rgba(0, 0, 0, 0.54)}}.mdc-text-field .mdc-text-field__input{caret-color:#6200ee;caret-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field-character-counter,.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--leading{color:rgba(0, 0, 0, 0.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:rgba(0, 0, 0, 0.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:rgba(0, 0, 0, 0.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:rgba(0, 0, 0, 0.6)}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);height:28px;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}}.mdc-text-field__affix{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);height:28px;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{background-color:rgba(0, 0, 0, 0.87);background-color:var(--mdc-ripple-color, rgba(0, 0, 0, 0.87))}.mdc-text-field--filled:hover .mdc-text-field__ripple::before,.mdc-text-field--filled.mdc-ripple-surface--hover .mdc-text-field__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:whitesmoke}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.42)}.mdc-text-field--filled:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.87)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.38)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.87)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px)) * 2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-text-field__ripple::before,.mdc-text-field--outlined .mdc-text-field__ripple::after{content:none}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:transparent}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0;transition:none}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px;line-height:1.5rem}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(98, 0, 238, 0.87)}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid .mdc-text-field__input{caret-color:#b00020;caret-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}.mdc-text-field--disabled .mdc-text-field__input{color:rgba(0, 0, 0, 0.38)}@media all{.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:rgba(0, 0, 0, 0.38)}}@media all{.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:rgba(0, 0, 0, 0.38)}}.mdc-text-field--disabled .mdc-floating-label{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-text-field__icon--leading{color:rgba(0, 0, 0, 0.3)}.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:rgba(0, 0, 0, 0.3)}.mdc-text-field--disabled .mdc-text-field__affix--prefix{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:rgba(0, 0, 0, 0.38)}.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.06)}.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:rgba(0, 0, 0, 0.06)}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-floating-label{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__icon--leading{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__affix--prefix{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:GrayText}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled{background-color:#fafafa}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-text-field-helper-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin:0;opacity:0;will-change:opacity;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-text-field-helper-text::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}.mdc-text-field-helper-text--persistent{transition:none;opacity:1;will-change:initial}.mdc-text-field-character-counter{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-left:auto;margin-right:0;padding-left:16px;padding-right:0;white-space:nowrap}.mdc-text-field-character-counter::before{display:inline-block;width:0;height:16px;content:"";vertical-align:0}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field__icon{align-self:center;cursor:pointer}.mdc-text-field__icon:not([tabindex]),.mdc-text-field__icon[tabindex="-1"]{cursor:default;pointer-events:none}.mdc-text-field__icon svg{display:block}.mdc-text-field__icon--leading{margin-left:16px;margin-right:8px}[dir=rtl] .mdc-text-field__icon--leading,.mdc-text-field__icon--leading[dir=rtl]{margin-left:8px;margin-right:16px}.mdc-text-field__icon--trailing{padding:12px;margin-left:0px;margin-right:0px}[dir=rtl] .mdc-text-field__icon--trailing,.mdc-text-field__icon--trailing[dir=rtl]{margin-left:0px;margin-right:0px}.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}:host{display:inline-flex;flex-direction:column;outline:none}.mdc-text-field{width:100%}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.42);border-bottom-color:var(--mdc-text-field-idle-line-color, rgba(0, 0, 0, 0.42))}.mdc-text-field:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.87);border-bottom-color:var(--mdc-text-field-hover-line-color, rgba(0, 0, 0, 0.87))}.mdc-text-field.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0, 0, 0, 0.06);border-bottom-color:var(--mdc-text-field-disabled-line-color, rgba(0, 0, 0, 0.06))}.mdc-text-field.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}mwc-notched-outline{--mdc-notched-outline-border-color: var(--mdc-text-field-outlined-idle-border-color, rgba(0, 0, 0, 0.38))}:host(:not([disabled]):hover) :not(.mdc-text-field--invalid):not(.mdc-text-field--focused) mwc-notched-outline{--mdc-notched-outline-border-color: var(--mdc-text-field-outlined-hover-border-color, rgba(0, 0, 0, 0.87))}:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--outlined){background-color:var(--mdc-text-field-fill-color, whitesmoke)}:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid mwc-notched-outline{--mdc-notched-outline-border-color: var(--mdc-text-field-error-color, var(--mdc-theme-error, #b00020))}:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-character-counter,:host(:not([disabled])) .mdc-text-field.mdc-text-field--invalid .mdc-text-field__icon{color:var(--mdc-text-field-error-color, var(--mdc-theme-error, #b00020))}:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label,:host(:not([disabled])) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label::after{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused mwc-notched-outline{--mdc-notched-outline-stroke-width: 2px}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused:not(.mdc-text-field--invalid) mwc-notched-outline{--mdc-notched-outline-border-color: var(--mdc-text-field-focused-label-color, var(--mdc-theme-primary, rgba(98, 0, 238, 0.87)))}:host(:not([disabled])) .mdc-text-field.mdc-text-field--focused:not(.mdc-text-field--invalid) .mdc-floating-label{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host(:not([disabled])) .mdc-text-field .mdc-text-field__input{color:var(--mdc-text-field-ink-color, rgba(0, 0, 0, 0.87))}:host(:not([disabled])) .mdc-text-field .mdc-text-field__input::placeholder{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host(:not([disabled])) .mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg),:host(:not([disabled])) .mdc-text-field-helper-line:not(.mdc-text-field--invalid) .mdc-text-field-character-counter{color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}:host([disabled]) .mdc-text-field:not(.mdc-text-field--outlined){background-color:var(--mdc-text-field-disabled-fill-color, #fafafa)}:host([disabled]) .mdc-text-field.mdc-text-field--outlined mwc-notched-outline{--mdc-notched-outline-border-color: var(--mdc-text-field-outlined-disabled-border-color, rgba(0, 0, 0, 0.06))}:host([disabled]) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label,:host([disabled]) .mdc-text-field:not(.mdc-text-field--invalid):not(.mdc-text-field--focused) .mdc-floating-label::after{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-text-field .mdc-text-field__input,:host([disabled]) .mdc-text-field .mdc-text-field__input::placeholder{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-text-field-helper-line .mdc-text-field-helper-text,:host([disabled]) .mdc-text-field-helper-line .mdc-text-field-character-counter{color:var(--mdc-text-field-disabled-ink-color, rgba(0, 0, 0, 0.38))}`));class ps extends(J(cs)){static get scopedElements(){return{"mwc-notched-outline":ls}}}ps.styles=us,re([b(".mdc-notched-outline")],ps.prototype,"outlineElement",void 0);let hs,fs,ms=e=>e;
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const gs=c(hs||(hs=ms`:host{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}`));class vs extends(J(s)){render(){return l(fs||(fs=ms`<slot></slot>`))}}vs.styles=gs;let ys,bs,_s,xs,ws,ks=e=>e;class Es extends s{constructor(){super(...arguments),this.raised=!1,this.unelevated=!1,this.outlined=!1,this.dense=!1,this.disabled=!1,this.trailingIcon=!1,this.fullwidth=!1,this.icon="",this.label="",this.expandContent=!1,this.shouldRenderRipple=!1,this.rippleHandlers=new Xe((()=>(this.shouldRenderRipple=!0,this.ripple)))}renderOverlay(){return l(ys||(ys=ks``))}renderRipple(){const e=this.raised||this.unelevated;return this.shouldRenderRipple?l(bs||(bs=ks`<mwc-ripple class="ripple" .primary="${0}" .disabled="${0}"></mwc-ripple>`),!e,this.disabled):""}createRenderRoot(){return this.attachShadow({mode:"open",delegatesFocus:!0})}focus(){const e=this.buttonElement;e&&(this.rippleHandlers.startFocus(),e.focus())}blur(){const e=this.buttonElement;e&&(this.rippleHandlers.endFocus(),e.blur())}getRenderClasses(){return S({"mdc-button--raised":this.raised,"mdc-button--unelevated":this.unelevated,"mdc-button--outlined":this.outlined,"mdc-button--dense":this.dense})}render(){return l(_s||(_s=ks`
      <button
          id="button"
          class="mdc-button ${0}"
          ?disabled="${0}"
          aria-label="${0}"
          @focus="${0}"
          @blur="${0}"
          @mousedown="${0}"
          @mouseenter="${0}"
          @mouseleave="${0}"
          @touchstart="${0}"
          @touchend="${0}"
          @touchcancel="${0}">
        ${0}
        ${0}
        <span class="leading-icon">
          <slot name="icon">
            ${0}
          </slot>
        </span>
        <span class="mdc-button__label">${0}</span>
        <span class="slot-container ${0}">
          <slot></slot>
        </span>
        <span class="trailing-icon">
          <slot name="trailingIcon">
            ${0}
          </slot>
        </span>
      </button>`),this.getRenderClasses(),this.disabled,this.label||this.icon,this.handleRippleFocus,this.handleRippleBlur,this.handleRippleActivate,this.handleRippleMouseEnter,this.handleRippleMouseLeave,this.handleRippleActivate,this.handleRippleDeactivate,this.handleRippleDeactivate,this.renderOverlay(),this.renderRipple(),this.icon&&!this.trailingIcon?this.renderIcon():"",this.label,S({flex:this.expandContent}),this.icon&&this.trailingIcon?this.renderIcon():"")}renderIcon(){return l(xs||(xs=ks`
    <mwc-icon class="mdc-button__icon">
      ${0}
    </mwc-icon>`),this.icon)}handleRippleActivate(e){const t=()=>{window.removeEventListener("mouseup",t),this.handleRippleDeactivate()};window.addEventListener("mouseup",t),this.rippleHandlers.startPress(e)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}}re([v({type:Boolean,reflect:!0})],Es.prototype,"raised",void 0),re([v({type:Boolean,reflect:!0})],Es.prototype,"unelevated",void 0),re([v({type:Boolean,reflect:!0})],Es.prototype,"outlined",void 0),re([v({type:Boolean})],Es.prototype,"dense",void 0),re([v({type:Boolean,reflect:!0})],Es.prototype,"disabled",void 0),re([v({type:Boolean,attribute:"trailingicon"})],Es.prototype,"trailingIcon",void 0),re([v({type:Boolean,reflect:!0})],Es.prototype,"fullwidth",void 0),re([v({type:String})],Es.prototype,"icon",void 0),re([v({type:String})],Es.prototype,"label",void 0),re([v({type:Boolean})],Es.prototype,"expandContent",void 0),re([b("#button")],Es.prototype,"buttonElement",void 0),re([_("mwc-ripple")],Es.prototype,"ripple",void 0),re([y()],Es.prototype,"shouldRenderRipple",void 0),re([k({passive:!0})],Es.prototype,"handleRippleActivate",null);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Cs=c(ws||(ws=ks`.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:0;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:#fff;background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-button{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-button-font-size, 0.875rem);line-height:2.25rem;line-height:var(--mdc-typography-button-line-height, 2.25rem);font-weight:500;font-weight:var(--mdc-typography-button-font-weight, 500);letter-spacing:0.0892857143em;letter-spacing:var(--mdc-typography-button-letter-spacing, 0.0892857143em);text-decoration:none;text-decoration:var(--mdc-typography-button-text-decoration, none);text-transform:uppercase;text-transform:var(--mdc-typography-button-text-transform, uppercase);padding:0 8px 0 8px;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;border-radius:4px;border-radius:var(--mdc-shape-small, 4px);height:36px}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button:not(:disabled){background-color:transparent}.mdc-button:disabled{background-color:transparent}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;width:18px;height:18px;font-size:18px;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__touch{position:absolute;top:50%;right:0;height:48px;left:0;transform:translateY(-50%)}.mdc-button:not(:disabled){color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-button:disabled{color:rgba(0, 0, 0, 0.38)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--raised .mdc-button__icon,.mdc-button--unelevated .mdc-button__icon,.mdc-button--outlined .mdc-button__icon{margin-left:-4px;margin-right:8px}[dir=rtl] .mdc-button--raised .mdc-button__icon,.mdc-button--raised .mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--unelevated .mdc-button__icon,.mdc-button--unelevated .mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--outlined .mdc-button__icon,.mdc-button--outlined .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mdc-button--raised .mdc-button__label+.mdc-button__icon,.mdc-button--unelevated .mdc-button__label+.mdc-button__icon,.mdc-button--outlined .mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mdc-button--raised .mdc-button__label+.mdc-button__icon,.mdc-button--raised .mdc-button__label+.mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--unelevated .mdc-button__label+.mdc-button__icon,.mdc-button--unelevated .mdc-button__label+.mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--outlined .mdc-button__label+.mdc-button__icon,.mdc-button--outlined .mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mdc-button--raised,.mdc-button--unelevated{padding:0 16px 0 16px}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-button--raised:disabled,.mdc-button--unelevated:disabled{background-color:rgba(0, 0, 0, 0.12)}.mdc-button--raised:disabled,.mdc-button--unelevated:disabled{color:rgba(0, 0, 0, 0.38)}.mdc-button--raised{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0,0,0,.12);transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--raised:hover,.mdc-button--raised:focus{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12)}.mdc-button--raised:active{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12)}.mdc-button--raised:disabled{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2),0px 0px 0px 0px rgba(0, 0, 0, 0.14),0px 0px 0px 0px rgba(0,0,0,.12)}.mdc-button--outlined{padding:0 15px 0 15px;border-width:1px;border-style:solid}.mdc-button--outlined .mdc-button__ripple{top:-1px;left:-1px;border:1px solid transparent}.mdc-button--outlined .mdc-button__touch{left:-1px;width:calc(100% + 2 * 1px)}.mdc-button--outlined:not(:disabled){border-color:rgba(0, 0, 0, 0.12)}.mdc-button--outlined:disabled{border-color:rgba(0, 0, 0, 0.12)}.mdc-button--touch{margin-top:6px;margin-bottom:6px}:host{display:inline-flex;outline:none;-webkit-tap-highlight-color:transparent;vertical-align:top}:host([fullwidth]){width:100%}:host([raised]),:host([unelevated]){--mdc-ripple-color: #fff;--mdc-ripple-focus-opacity: 0.24;--mdc-ripple-hover-opacity: 0.08;--mdc-ripple-press-opacity: 0.24}.trailing-icon ::slotted(*),.trailing-icon .mdc-button__icon,.leading-icon ::slotted(*),.leading-icon .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;width:18px;height:18px;font-size:18px;vertical-align:top}[dir=rtl] .trailing-icon ::slotted(*),.trailing-icon ::slotted(*)[dir=rtl],[dir=rtl] .trailing-icon .mdc-button__icon,.trailing-icon .mdc-button__icon[dir=rtl],[dir=rtl] .leading-icon ::slotted(*),.leading-icon ::slotted(*)[dir=rtl],[dir=rtl] .leading-icon .mdc-button__icon,.leading-icon .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.trailing-icon ::slotted(*),.trailing-icon .mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .trailing-icon ::slotted(*),.trailing-icon ::slotted(*)[dir=rtl],[dir=rtl] .trailing-icon .mdc-button__icon,.trailing-icon .mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}.slot-container{display:inline-flex;align-items:center;justify-content:center}.slot-container.flex{flex:auto}.mdc-button{flex:auto;overflow:hidden;padding-left:8px;padding-left:var(--mdc-button-horizontal-padding, 8px);padding-right:8px;padding-right:var(--mdc-button-horizontal-padding, 8px)}.mdc-button--raised{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mdc-button--raised:focus{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-focus, var(--mdc-button-raised-box-shadow-hover, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)))}.mdc-button--raised:hover{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-hover, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mdc-button--raised:active{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-active, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mdc-button--raised:disabled{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);box-shadow:var(--mdc-button-raised-box-shadow-disabled, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mdc-button--raised,.mdc-button--unelevated{padding-left:16px;padding-left:var(--mdc-button-horizontal-padding, 16px);padding-right:16px;padding-right:var(--mdc-button-horizontal-padding, 16px)}.mdc-button--outlined{border-width:1px;border-width:var(--mdc-button-outline-width, 1px);padding-left:calc(16px - 1px);padding-left:calc(var(--mdc-button-horizontal-padding, 16px) - var(--mdc-button-outline-width, 1px));padding-right:calc(16px - 1px);padding-right:calc(var(--mdc-button-horizontal-padding, 16px) - var(--mdc-button-outline-width, 1px))}.mdc-button--outlined:not(:disabled){border-color:rgba(0, 0, 0, 0.12);border-color:var(--mdc-button-outline-color, rgba(0, 0, 0, 0.12))}.mdc-button--outlined .ripple{top:calc(-1 * 1px);top:calc(-1 * var(--mdc-button-outline-width, 1px));left:calc(-1 * 1px);left:calc(-1 * var(--mdc-button-outline-width, 1px));right:initial;border-width:1px;border-width:var(--mdc-button-outline-width, 1px);border-style:solid;border-color:transparent}[dir=rtl] .mdc-button--outlined .ripple,.mdc-button--outlined .ripple[dir=rtl]{left:initial;right:calc(-1 * 1px);right:calc(-1 * var(--mdc-button-outline-width, 1px))}.mdc-button--dense{height:28px;margin-top:0;margin-bottom:0}.mdc-button--dense .mdc-button__touch{display:none}:host([disabled]){pointer-events:none}:host([disabled]) .mdc-button{color:rgba(0, 0, 0, 0.38);color:var(--mdc-button-disabled-ink-color, rgba(0, 0, 0, 0.38))}:host([disabled]) .mdc-button--raised,:host([disabled]) .mdc-button--unelevated{background-color:rgba(0, 0, 0, 0.12);background-color:var(--mdc-button-disabled-fill-color, rgba(0, 0, 0, 0.12))}:host([disabled]) .mdc-button--outlined{border-color:rgba(0, 0, 0, 0.12);border-color:var(--mdc-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}`));class Ss extends(J(Es)){static get scopedElements(){return{"mwc-icon":vs,"mwc-ripple":ct}}}Ss.styles=Cs,re([_(".ripple")],Ss.prototype,"ripple",void 0);
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var As={ACTIVE:"mdc-tab--active"},Ts={ARIA_SELECTED:"aria-selected",CONTENT_SELECTOR:".mdc-tab__content",INTERACTED_EVENT:"MDCTab:interacted",RIPPLE_SELECTOR:".mdc-tab__ripple",TABINDEX:"tabIndex",TAB_INDICATOR_SELECTOR:".mdc-tab-indicator"},Is=function(e){function t(n){var r=e.call(this,ne(ne({},t.defaultAdapter),n))||this;return r.focusOnActivate_=!0,r}return te(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return As},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Ts},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},activateIndicator:function(){},deactivateIndicator:function(){},notifyInteracted:function(){},getOffsetLeft:function(){return 0},getOffsetWidth:function(){return 0},getContentOffsetLeft:function(){return 0},getContentOffsetWidth:function(){return 0},focus:function(){}}},enumerable:!0,configurable:!0}),t.prototype.handleClick=function(){this.adapter.notifyInteracted()},t.prototype.isActive=function(){return this.adapter.hasClass(As.ACTIVE)},t.prototype.setFocusOnActivate=function(e){this.focusOnActivate_=e},t.prototype.activate=function(e){this.adapter.addClass(As.ACTIVE),this.adapter.setAttr(Ts.ARIA_SELECTED,"true"),this.adapter.setAttr(Ts.TABINDEX,"0"),this.adapter.activateIndicator(e),this.focusOnActivate_&&this.adapter.focus()},t.prototype.deactivate=function(){this.isActive()&&(this.adapter.removeClass(As.ACTIVE),this.adapter.setAttr(Ts.ARIA_SELECTED,"false"),this.adapter.setAttr(Ts.TABINDEX,"-1"),this.adapter.deactivateIndicator())},t.prototype.computeDimensions=function(){var e=this.adapter.getOffsetWidth(),t=this.adapter.getOffsetLeft(),n=this.adapter.getContentOffsetWidth(),r=this.adapter.getContentOffsetLeft();return{contentLeft:t+r,contentRight:t+r+n,rootLeft:t,rootRight:t+e}},t}(fe),Os={ACTIVE:"mdc-tab-indicator--active",FADE:"mdc-tab-indicator--fade",NO_TRANSITION:"mdc-tab-indicator--no-transition"},Rs={CONTENT_SELECTOR:".mdc-tab-indicator__content"},Ds=function(e){function t(n){return e.call(this,ne(ne({},t.defaultAdapter),n))||this}return te(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Os},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Rs},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},computeContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},setContentStyleProperty:function(){}}},enumerable:!0,configurable:!0}),t.prototype.computeContentClientRect=function(){return this.adapter.computeContentClientRect()},t}(fe),Ps=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return te(t,e),t.prototype.activate=function(){this.adapter.addClass(Ds.cssClasses.ACTIVE)},t.prototype.deactivate=function(){this.adapter.removeClass(Ds.cssClasses.ACTIVE)},t}(Ds),Ls=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return te(t,e),t.prototype.activate=function(e){if(e){var t=this.computeContentClientRect(),n=e.width/t.width,r=e.left-t.left;this.adapter.addClass(Ds.cssClasses.NO_TRANSITION),this.adapter.setContentStyleProperty("transform","translateX("+r+"px) scaleX("+n+")"),this.computeContentClientRect(),this.adapter.removeClass(Ds.cssClasses.NO_TRANSITION),this.adapter.addClass(Ds.cssClasses.ACTIVE),this.adapter.setContentStyleProperty("transform","")}else this.adapter.addClass(Ds.cssClasses.ACTIVE)},t.prototype.deactivate=function(){this.adapter.removeClass(Ds.cssClasses.ACTIVE)},t}(Ds);let Ns,Ms,Fs=e=>e;class zs extends pe{constructor(){super(...arguments),this.icon="",this.fade=!1}get mdcFoundationClass(){return this.fade?Ps:Ls}render(){const e={"mdc-tab-indicator__content--icon":this.icon,"material-icons":this.icon,"mdc-tab-indicator__content--underline":!this.icon};return l(Ns||(Ns=Fs`
      <span class="mdc-tab-indicator ${0}">
        <span class="mdc-tab-indicator__content ${0}">${0}</span>
      </span>
      `),S({"mdc-tab-indicator--fade":this.fade}),S(e),this.icon)}updated(e){e.has("fade")&&this.createFoundation()}createAdapter(){return Object.assign(Object.assign({},se(this.mdcRoot)),{computeContentClientRect:()=>this.contentElement.getBoundingClientRect(),setContentStyleProperty:(e,t)=>this.contentElement.style.setProperty(e,t)})}computeContentClientRect(){return this.mdcFoundation.computeContentClientRect()}activate(e){this.mdcFoundation.activate(e)}deactivate(){this.mdcFoundation.deactivate()}}re([b(".mdc-tab-indicator")],zs.prototype,"mdcRoot",void 0),re([b(".mdc-tab-indicator__content")],zs.prototype,"contentElement",void 0),re([v()],zs.prototype,"icon",void 0),re([v({type:Boolean})],zs.prototype,"fade",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Bs=c(Ms||(Ms=Fs`.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-tab-indicator .mdc-tab-indicator__content--icon{color:#018786;color:var(--mdc-theme-secondary, #018786)}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-top-width:2px}.mdc-tab-indicator .mdc-tab-indicator__content--icon{height:34px;font-size:34px}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}`));class js extends zs{}js.styles=Bs;let Hs,Vs,$s,Us,Gs,qs,Xs,Ys,Ks,Ws,Zs=e=>e,Qs=0;class Js extends pe{constructor(){super(...arguments),this.mdcFoundationClass=Is,this.label="",this.icon="",this.hasImageIcon=!1,this.isFadingIndicator=!1,this.minWidth=!1,this.isMinWidthIndicator=!1,this.indicatorIcon="",this.stacked=!1,this.focusOnActivate=!0,this._active=!1,this.initFocus=!1,this.shouldRenderRipple=!1,this.rippleElement=null,this.rippleHandlers=new Xe((()=>(this.shouldRenderRipple=!0,this.ripple.then((e=>this.rippleElement=e)),this.ripple)))}get active(){return this._active}createRenderRoot(){return this.attachShadow({mode:"open",delegatesFocus:!0})}connectedCallback(){this.dir=document.dir,super.connectedCallback()}firstUpdated(){super.firstUpdated(),this.id=this.id||"mdc-tab-"+ ++Qs}render(){const e={"mdc-tab--min-width":this.minWidth,"mdc-tab--stacked":this.stacked};let t=l(Hs||(Hs=Zs``));(this.hasImageIcon||this.icon)&&(t=l(Vs||(Vs=Zs`
        <span class="mdc-tab__icon material-icons"><slot name="icon">${0}</slot></span>`),this.icon));let n=l($s||($s=Zs``));return this.label&&(n=l(Us||(Us=Zs`
        <span class="mdc-tab__text-label">${0}</span>`),this.label)),l(Gs||(Gs=Zs`
      <button
        @click="${0}"
        class="mdc-tab ${0}"
        role="tab"
        aria-selected="false"
        tabindex="-1"
        @focus="${0}"
        @blur="${0}"
        @mousedown="${0}"
        @mouseenter="${0}"
        @mouseleave="${0}"
        @touchstart="${0}"
        @touchend="${0}"
        @touchcancel="${0}">
        <span class="mdc-tab__content">
          ${0}
          ${0}
          ${0}
        </span>
        ${0}
        ${0}
      </button>`),this.handleClick,S(e),this.focus,this.handleBlur,this.handleRippleMouseDown,this.handleRippleMouseEnter,this.handleRippleMouseLeave,this.handleRippleTouchStart,this.handleRippleDeactivate,this.handleRippleDeactivate,t,n,this.isMinWidthIndicator?this.renderIndicator():"",this.isMinWidthIndicator?"":this.renderIndicator(),this.renderRipple())}renderIndicator(){return l(qs||(qs=Zs`<mwc-tab-indicator
        .icon="${0}"
        .fade="${0}"></mwc-tab-indicator>`),this.indicatorIcon,this.isFadingIndicator)}renderRipple(){return this.shouldRenderRipple?l(Xs||(Xs=Zs`
          <mwc-ripple primary></mwc-ripple>
        `)):""}createAdapter(){return Object.assign(Object.assign({},se(this.mdcRoot)),{setAttr:(e,t)=>this.mdcRoot.setAttribute(e,t),activateIndicator:async e=>{await this.tabIndicator.updateComplete,this.tabIndicator.activate(e)},deactivateIndicator:async()=>{await this.tabIndicator.updateComplete,this.tabIndicator.deactivate()},notifyInteracted:()=>this.dispatchEvent(new CustomEvent(Is.strings.INTERACTED_EVENT,{detail:{tabId:this.id},bubbles:!0,composed:!0,cancelable:!0})),getOffsetLeft:()=>this.offsetLeft,getOffsetWidth:()=>this.mdcRoot.offsetWidth,getContentOffsetLeft:()=>this._contentElement.offsetLeft,getContentOffsetWidth:()=>this._contentElement.offsetWidth,focus:()=>{this.initFocus?this.initFocus=!1:this.mdcRoot.focus()}})}activate(e){e||(this.initFocus=!0),this.mdcFoundation?(this.mdcFoundation.activate(e),this.setActive(this.mdcFoundation.isActive())):this.updateComplete.then((()=>{this.mdcFoundation.activate(e),this.setActive(this.mdcFoundation.isActive())}))}deactivate(){this.mdcFoundation.deactivate(),this.setActive(this.mdcFoundation.isActive())}setActive(e){const t=this.active;t!==e&&(this._active=e,this.requestUpdate("active",t))}computeDimensions(){return this.mdcFoundation.computeDimensions()}computeIndicatorClientRect(){return this.tabIndicator.computeContentClientRect()}focus(){this.mdcRoot.focus(),this.handleFocus()}handleClick(){this.handleFocus(),this.mdcFoundation.handleClick()}handleFocus(){this.handleRippleFocus()}handleBlur(){this.handleRippleBlur()}handleRippleMouseDown(e){const t=()=>{window.removeEventListener("mouseup",t),this.handleRippleDeactivate()};window.addEventListener("mouseup",t),this.rippleHandlers.startPress(e)}handleRippleTouchStart(e){this.rippleHandlers.startPress(e)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}get isRippleActive(){var e;return(null===(e=this.rippleElement)||void 0===e?void 0:e.isActive)||!1}}re([b(".mdc-tab")],Js.prototype,"mdcRoot",void 0),re([b("mwc-tab-indicator")],Js.prototype,"tabIndicator",void 0),re([v()],Js.prototype,"label",void 0),re([v()],Js.prototype,"icon",void 0),re([v({type:Boolean})],Js.prototype,"hasImageIcon",void 0),re([v({type:Boolean})],Js.prototype,"isFadingIndicator",void 0),re([v({type:Boolean})],Js.prototype,"minWidth",void 0),re([v({type:Boolean})],Js.prototype,"isMinWidthIndicator",void 0),re([v({type:Boolean,reflect:!0,attribute:"active"})],Js.prototype,"active",null),re([v()],Js.prototype,"indicatorIcon",void 0),re([v({type:Boolean})],Js.prototype,"stacked",void 0),re([he((async function(e){await this.updateComplete,this.mdcFoundation.setFocusOnActivate(e)})),v({type:Boolean})],Js.prototype,"focusOnActivate",void 0),re([b(".mdc-tab__content")],Js.prototype,"_contentElement",void 0),re([y()],Js.prototype,"shouldRenderRipple",void 0),re([_("mwc-ripple")],Js.prototype,"ripple",void 0),re([k({passive:!0})],Js.prototype,"handleRippleTouchStart",null);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const ec=c(Ys||(Ys=Zs`.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}.mdc-tab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-button-font-size, 0.875rem);line-height:2.25rem;line-height:var(--mdc-typography-button-line-height, 2.25rem);font-weight:500;font-weight:var(--mdc-typography-button-font-weight, 500);letter-spacing:0.0892857143em;letter-spacing:var(--mdc-typography-button-letter-spacing, 0.0892857143em);text-decoration:none;text-decoration:var(--mdc-typography-button-text-decoration, none);text-transform:uppercase;text-transform:var(--mdc-typography-button-text-transform, uppercase);padding-right:24px;padding-left:24px;min-width:90px;position:relative;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;background:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab .mdc-tab__text-label{color:rgba(0, 0, 0, 0.6)}.mdc-tab .mdc-tab__icon{color:rgba(0, 0, 0, 0.54);fill:currentColor}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{position:relative;display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;width:24px;height:24px;font-size:24px;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-tab--active .mdc-tab__icon{color:#6200ee;color:var(--mdc-theme-primary, #6200ee);fill:currentColor}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}.mdc-tab__ripple{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity;position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.mdc-tab__ripple::before,.mdc-tab__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-tab__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1;z-index:var(--mdc-ripple-z-index, 1)}.mdc-tab__ripple::after{z-index:0;z-index:var(--mdc-ripple-z-index, 0)}.mdc-tab__ripple.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-tab__ripple.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-tab__ripple.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-tab__ripple.mdc-ripple-upgraded--foreground-activation::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-tab__ripple.mdc-ripple-upgraded--foreground-deactivation::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-tab__ripple::before,.mdc-tab__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-tab__ripple.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-tab__ripple::before,.mdc-tab__ripple::after{background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-tab__ripple:hover::before,.mdc-tab__ripple.mdc-ripple-surface--hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-tab__ripple.mdc-ripple-upgraded--background-focused::before,.mdc-tab__ripple:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-tab__ripple:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-tab__ripple:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-tab__ripple.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}:host{outline:none;flex:1 0 auto;display:flex;justify-content:center;-webkit-tap-highlight-color:transparent}.mdc-tab{height:var(--mdc-tab-height, 48px);margin-left:0;margin-right:0;padding-right:var(--mdc-tab-horizontal-padding, 24px);padding-left:var(--mdc-tab-horizontal-padding, 24px)}.mdc-tab--stacked{height:var(--mdc-tab-stacked-height, 72px)}.mdc-tab::-moz-focus-inner{border:0}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mdc-tab-text-label-color-default, rgba(0, 0, 0, 0.6))}.mdc-tab:not(.mdc-tab--active) .mdc-tab__icon{color:var(--mdc-tab-color-default, rgba(0, 0, 0, 0.54))}`));class tc extends(J(Js)){static get scopedElements(){return{"mwc-tab-indicator":js,"mwc-ripple":ct}}renderRipple(){return this.shouldRenderRipple?l(Ks||(Ks=Zs` <mwc-ripple primary class="ripple"></mwc-ripple> `)):""}renderIndicator(){return l(Ws||(Ws=Zs`<mwc-tab-indicator
      class="indicator"
      .icon="${0}"
      .fade="${0}"
    ></mwc-tab-indicator>`),this.indicatorIcon,this.isFadingIndicator)}}tc.styles=ec,re([_(".ripple")],tc.prototype,"ripple",void 0),re([b(".indicator")],tc.prototype,"tabIndicator",void 0);
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var nc={ARROW_LEFT_KEY:"ArrowLeft",ARROW_RIGHT_KEY:"ArrowRight",END_KEY:"End",ENTER_KEY:"Enter",HOME_KEY:"Home",SPACE_KEY:"Space",TAB_ACTIVATED_EVENT:"MDCTabBar:activated",TAB_SCROLLER_SELECTOR:".mdc-tab-scroller",TAB_SELECTOR:".mdc-tab"},rc={ARROW_LEFT_KEYCODE:37,ARROW_RIGHT_KEYCODE:39,END_KEYCODE:35,ENTER_KEYCODE:13,EXTRA_SCROLL_AMOUNT:20,HOME_KEYCODE:36,SPACE_KEYCODE:32},ic=new Set;ic.add(nc.ARROW_LEFT_KEY),ic.add(nc.ARROW_RIGHT_KEY),ic.add(nc.END_KEY),ic.add(nc.HOME_KEY),ic.add(nc.ENTER_KEY),ic.add(nc.SPACE_KEY);var ac=new Map;ac.set(rc.ARROW_LEFT_KEYCODE,nc.ARROW_LEFT_KEY),ac.set(rc.ARROW_RIGHT_KEYCODE,nc.ARROW_RIGHT_KEY),ac.set(rc.END_KEYCODE,nc.END_KEY),ac.set(rc.HOME_KEYCODE,nc.HOME_KEY),ac.set(rc.ENTER_KEYCODE,nc.ENTER_KEY),ac.set(rc.SPACE_KEYCODE,nc.SPACE_KEY);var oc=function(e){function t(n){var r=e.call(this,ne(ne({},t.defaultAdapter),n))||this;return r.useAutomaticActivation_=!1,r}return te(t,e),Object.defineProperty(t,"strings",{get:function(){return nc},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return rc},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{scrollTo:function(){},incrementScroll:function(){},getScrollPosition:function(){return 0},getScrollContentWidth:function(){return 0},getOffsetWidth:function(){return 0},isRTL:function(){return!1},setActiveTab:function(){},activateTabAtIndex:function(){},deactivateTabAtIndex:function(){},focusTabAtIndex:function(){},getTabIndicatorClientRectAtIndex:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getTabDimensionsAtIndex:function(){return{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0}},getPreviousActiveTabIndex:function(){return-1},getFocusedTabIndex:function(){return-1},getIndexOfTabById:function(){return-1},getTabListLength:function(){return 0},notifyTabActivated:function(){}}},enumerable:!0,configurable:!0}),t.prototype.setUseAutomaticActivation=function(e){this.useAutomaticActivation_=e},t.prototype.activateTab=function(e){var t,n=this.adapter.getPreviousActiveTabIndex();this.indexIsInRange_(e)&&e!==n&&(-1!==n&&(this.adapter.deactivateTabAtIndex(n),t=this.adapter.getTabIndicatorClientRectAtIndex(n)),this.adapter.activateTabAtIndex(e,t),this.scrollIntoView(e),this.adapter.notifyTabActivated(e))},t.prototype.handleKeyDown=function(e){var t=this.getKeyFromEvent_(e);if(void 0!==t)if(this.isActivationKey_(t)||e.preventDefault(),this.useAutomaticActivation_){if(this.isActivationKey_(t))return;var n=this.determineTargetFromKey_(this.adapter.getPreviousActiveTabIndex(),t);this.adapter.setActiveTab(n),this.scrollIntoView(n)}else{var r=this.adapter.getFocusedTabIndex();if(this.isActivationKey_(t))this.adapter.setActiveTab(r);else{n=this.determineTargetFromKey_(r,t);this.adapter.focusTabAtIndex(n),this.scrollIntoView(n)}}},t.prototype.handleTabInteraction=function(e){this.adapter.setActiveTab(this.adapter.getIndexOfTabById(e.detail.tabId))},t.prototype.scrollIntoView=function(e){if(this.indexIsInRange_(e))return 0===e?this.adapter.scrollTo(0):e===this.adapter.getTabListLength()-1?this.adapter.scrollTo(this.adapter.getScrollContentWidth()):this.isRTL_()?this.scrollIntoViewRTL_(e):void this.scrollIntoView_(e)},t.prototype.determineTargetFromKey_=function(e,t){var n=this.isRTL_(),r=this.adapter.getTabListLength()-1,i=e;return t===nc.END_KEY?i=r:t===nc.ARROW_LEFT_KEY&&!n||t===nc.ARROW_RIGHT_KEY&&n?i-=1:t===nc.ARROW_RIGHT_KEY&&!n||t===nc.ARROW_LEFT_KEY&&n?i+=1:i=0,i<0?i=r:i>r&&(i=0),i},t.prototype.calculateScrollIncrement_=function(e,t,n,r){var i=this.adapter.getTabDimensionsAtIndex(t),a=i.contentLeft-n-r,o=i.contentRight-n-rc.EXTRA_SCROLL_AMOUNT,s=a+rc.EXTRA_SCROLL_AMOUNT;return t<e?Math.min(o,0):Math.max(s,0)},t.prototype.calculateScrollIncrementRTL_=function(e,t,n,r,i){var a=this.adapter.getTabDimensionsAtIndex(t),o=i-a.contentLeft-n,s=i-a.contentRight-n-r+rc.EXTRA_SCROLL_AMOUNT,c=o-rc.EXTRA_SCROLL_AMOUNT;return t>e?Math.max(s,0):Math.min(c,0)},t.prototype.findAdjacentTabIndexClosestToEdge_=function(e,t,n,r){var i=t.rootLeft-n,a=t.rootRight-n-r,o=i+a;return i<0||o<0?e-1:a>0||o>0?e+1:-1},t.prototype.findAdjacentTabIndexClosestToEdgeRTL_=function(e,t,n,r,i){var a=i-t.rootLeft-r-n,o=i-t.rootRight-n,s=a+o;return a>0||s>0?e+1:o<0||s<0?e-1:-1},t.prototype.getKeyFromEvent_=function(e){return ic.has(e.key)?e.key:ac.get(e.keyCode)},t.prototype.isActivationKey_=function(e){return e===nc.SPACE_KEY||e===nc.ENTER_KEY},t.prototype.indexIsInRange_=function(e){return e>=0&&e<this.adapter.getTabListLength()},t.prototype.isRTL_=function(){return this.adapter.isRTL()},t.prototype.scrollIntoView_=function(e){var t=this.adapter.getScrollPosition(),n=this.adapter.getOffsetWidth(),r=this.adapter.getTabDimensionsAtIndex(e),i=this.findAdjacentTabIndexClosestToEdge_(e,r,t,n);if(this.indexIsInRange_(i)){var a=this.calculateScrollIncrement_(e,i,t,n);this.adapter.incrementScroll(a)}},t.prototype.scrollIntoViewRTL_=function(e){var t=this.adapter.getScrollPosition(),n=this.adapter.getOffsetWidth(),r=this.adapter.getTabDimensionsAtIndex(e),i=this.adapter.getScrollContentWidth(),a=this.findAdjacentTabIndexClosestToEdgeRTL_(e,r,t,n,i);if(this.indexIsInRange_(a)){var o=this.calculateScrollIncrementRTL_(e,a,t,n,i);this.adapter.incrementScroll(o)}},t}(fe),sc={ANIMATING:"mdc-tab-scroller--animating",SCROLL_AREA_SCROLL:"mdc-tab-scroller__scroll-area--scroll",SCROLL_TEST:"mdc-tab-scroller__test"},cc={AREA_SELECTOR:".mdc-tab-scroller__scroll-area",CONTENT_SELECTOR:".mdc-tab-scroller__scroll-content"},lc=function(e){this.adapter=e},dc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return te(t,e),t.prototype.getScrollPositionRTL=function(){var e=this.adapter.getScrollAreaScrollLeft(),t=this.calculateScrollEdges_().right;return Math.round(t-e)},t.prototype.scrollToRTL=function(e){var t=this.calculateScrollEdges_(),n=this.adapter.getScrollAreaScrollLeft(),r=this.clampScrollValue_(t.right-e);return{finalScrollPosition:r,scrollDelta:r-n}},t.prototype.incrementScrollRTL=function(e){var t=this.adapter.getScrollAreaScrollLeft(),n=this.clampScrollValue_(t-e);return{finalScrollPosition:n,scrollDelta:n-t}},t.prototype.getAnimatingScrollPosition=function(e){return e},t.prototype.calculateScrollEdges_=function(){return{left:0,right:this.adapter.getScrollContentOffsetWidth()-this.adapter.getScrollAreaOffsetWidth()}},t.prototype.clampScrollValue_=function(e){var t=this.calculateScrollEdges_();return Math.min(Math.max(t.left,e),t.right)},t}(lc),uc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return te(t,e),t.prototype.getScrollPositionRTL=function(e){var t=this.adapter.getScrollAreaScrollLeft();return Math.round(e-t)},t.prototype.scrollToRTL=function(e){var t=this.adapter.getScrollAreaScrollLeft(),n=this.clampScrollValue_(-e);return{finalScrollPosition:n,scrollDelta:n-t}},t.prototype.incrementScrollRTL=function(e){var t=this.adapter.getScrollAreaScrollLeft(),n=this.clampScrollValue_(t-e);return{finalScrollPosition:n,scrollDelta:n-t}},t.prototype.getAnimatingScrollPosition=function(e,t){return e-t},t.prototype.calculateScrollEdges_=function(){var e=this.adapter.getScrollContentOffsetWidth();return{left:this.adapter.getScrollAreaOffsetWidth()-e,right:0}},t.prototype.clampScrollValue_=function(e){var t=this.calculateScrollEdges_();return Math.max(Math.min(t.right,e),t.left)},t}(lc),pc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return te(t,e),t.prototype.getScrollPositionRTL=function(e){var t=this.adapter.getScrollAreaScrollLeft();return Math.round(t-e)},t.prototype.scrollToRTL=function(e){var t=this.adapter.getScrollAreaScrollLeft(),n=this.clampScrollValue_(e);return{finalScrollPosition:n,scrollDelta:t-n}},t.prototype.incrementScrollRTL=function(e){var t=this.adapter.getScrollAreaScrollLeft(),n=this.clampScrollValue_(t+e);return{finalScrollPosition:n,scrollDelta:t-n}},t.prototype.getAnimatingScrollPosition=function(e,t){return e+t},t.prototype.calculateScrollEdges_=function(){return{left:this.adapter.getScrollContentOffsetWidth()-this.adapter.getScrollAreaOffsetWidth(),right:0}},t.prototype.clampScrollValue_=function(e){var t=this.calculateScrollEdges_();return Math.min(Math.max(t.right,e),t.left)},t}(lc),hc=function(e){function t(n){var r=e.call(this,ne(ne({},t.defaultAdapter),n))||this;return r.isAnimating_=!1,r}return te(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return sc},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return cc},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{eventTargetMatchesSelector:function(){return!1},addClass:function(){},removeClass:function(){},addScrollAreaClass:function(){},setScrollAreaStyleProperty:function(){},setScrollContentStyleProperty:function(){},getScrollContentStyleValue:function(){return""},setScrollAreaScrollLeft:function(){},getScrollAreaScrollLeft:function(){return 0},getScrollContentOffsetWidth:function(){return 0},getScrollAreaOffsetWidth:function(){return 0},computeScrollAreaClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeScrollContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeHorizontalScrollbarHeight:function(){return 0}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this.adapter.computeHorizontalScrollbarHeight();this.adapter.setScrollAreaStyleProperty("margin-bottom",-e+"px"),this.adapter.addScrollAreaClass(t.cssClasses.SCROLL_AREA_SCROLL)},t.prototype.getScrollPosition=function(){if(this.isRTL_())return this.computeCurrentScrollPositionRTL_();var e=this.calculateCurrentTranslateX_();return this.adapter.getScrollAreaScrollLeft()-e},t.prototype.handleInteraction=function(){this.isAnimating_&&this.stopScrollAnimation_()},t.prototype.handleTransitionEnd=function(e){var n=e.target;this.isAnimating_&&this.adapter.eventTargetMatchesSelector(n,t.strings.CONTENT_SELECTOR)&&(this.isAnimating_=!1,this.adapter.removeClass(t.cssClasses.ANIMATING))},t.prototype.incrementScroll=function(e){0!==e&&this.animate_(this.getIncrementScrollOperation_(e))},t.prototype.incrementScrollImmediate=function(e){if(0!==e){var t=this.getIncrementScrollOperation_(e);0!==t.scrollDelta&&(this.stopScrollAnimation_(),this.adapter.setScrollAreaScrollLeft(t.finalScrollPosition))}},t.prototype.scrollTo=function(e){if(this.isRTL_())return this.scrollToRTL_(e);this.scrollTo_(e)},t.prototype.getRTLScroller=function(){return this.rtlScrollerInstance_||(this.rtlScrollerInstance_=this.rtlScrollerFactory_()),this.rtlScrollerInstance_},t.prototype.calculateCurrentTranslateX_=function(){var e=this.adapter.getScrollContentStyleValue("transform");if("none"===e)return 0;var t=/\((.+?)\)/.exec(e);if(!t)return 0;var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(t[1].split(","),6);n[0],n[1],n[2],n[3];var r=n[4];return n[5],parseFloat(r)},t.prototype.clampScrollValue_=function(e){var t=this.calculateScrollEdges_();return Math.min(Math.max(t.left,e),t.right)},t.prototype.computeCurrentScrollPositionRTL_=function(){var e=this.calculateCurrentTranslateX_();return this.getRTLScroller().getScrollPositionRTL(e)},t.prototype.calculateScrollEdges_=function(){return{left:0,right:this.adapter.getScrollContentOffsetWidth()-this.adapter.getScrollAreaOffsetWidth()}},t.prototype.scrollTo_=function(e){var t=this.getScrollPosition(),n=this.clampScrollValue_(e),r=n-t;this.animate_({finalScrollPosition:n,scrollDelta:r})},t.prototype.scrollToRTL_=function(e){var t=this.getRTLScroller().scrollToRTL(e);this.animate_(t)},t.prototype.getIncrementScrollOperation_=function(e){if(this.isRTL_())return this.getRTLScroller().incrementScrollRTL(e);var t=this.getScrollPosition(),n=e+t,r=this.clampScrollValue_(n);return{finalScrollPosition:r,scrollDelta:r-t}},t.prototype.animate_=function(e){var n=this;0!==e.scrollDelta&&(this.stopScrollAnimation_(),this.adapter.setScrollAreaScrollLeft(e.finalScrollPosition),this.adapter.setScrollContentStyleProperty("transform","translateX("+e.scrollDelta+"px)"),this.adapter.computeScrollAreaClientRect(),requestAnimationFrame((function(){n.adapter.addClass(t.cssClasses.ANIMATING),n.adapter.setScrollContentStyleProperty("transform","none")})),this.isAnimating_=!0)},t.prototype.stopScrollAnimation_=function(){this.isAnimating_=!1;var e=this.getAnimatingScrollPosition_();this.adapter.removeClass(t.cssClasses.ANIMATING),this.adapter.setScrollContentStyleProperty("transform","translateX(0px)"),this.adapter.setScrollAreaScrollLeft(e)},t.prototype.getAnimatingScrollPosition_=function(){var e=this.calculateCurrentTranslateX_(),t=this.adapter.getScrollAreaScrollLeft();return this.isRTL_()?this.getRTLScroller().getAnimatingScrollPosition(t,e):t-e},t.prototype.rtlScrollerFactory_=function(){var e=this.adapter.getScrollAreaScrollLeft();this.adapter.setScrollAreaScrollLeft(e-1);var t=this.adapter.getScrollAreaScrollLeft();if(t<0)return this.adapter.setScrollAreaScrollLeft(e),new uc(this.adapter);var n=this.adapter.computeScrollAreaClientRect(),r=this.adapter.computeScrollContentClientRect(),i=Math.round(r.right-n.right);return this.adapter.setScrollAreaScrollLeft(e),i===t?new pc(this.adapter):new dc(this.adapter)},t.prototype.isRTL_=function(){return"rtl"===this.adapter.getScrollContentStyleValue("direction")},t}(fe);
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */let fc,mc,gc=e=>e;class vc extends pe{constructor(){super(...arguments),this.mdcFoundationClass=hc,this._scrollbarHeight=-1}_handleInteraction(){this.mdcFoundation.handleInteraction()}_handleTransitionEnd(e){this.mdcFoundation.handleTransitionEnd(e)}render(){return l(fc||(fc=gc`
      <div class="mdc-tab-scroller">
        <div class="mdc-tab-scroller__scroll-area"
            @wheel="${0}"
            @touchstart="${0}"
            @pointerdown="${0}"
            @mousedown="${0}"
            @keydown="${0}"
            @transitionend="${0}">
          <div class="mdc-tab-scroller__scroll-content"><slot></slot></div>
        </div>
      </div>
      `),this._handleInteraction,this._handleInteraction,this._handleInteraction,this._handleInteraction,this._handleInteraction,this._handleTransitionEnd)}createAdapter(){return Object.assign(Object.assign({},se(this.mdcRoot)),{eventTargetMatchesSelector:(e,t)=>ie(e,t),addScrollAreaClass:e=>this.scrollAreaElement.classList.add(e),setScrollAreaStyleProperty:(e,t)=>this.scrollAreaElement.style.setProperty(e,t),setScrollContentStyleProperty:(e,t)=>this.scrollContentElement.style.setProperty(e,t),getScrollContentStyleValue:e=>window.getComputedStyle(this.scrollContentElement).getPropertyValue(e),setScrollAreaScrollLeft:e=>this.scrollAreaElement.scrollLeft=e,getScrollAreaScrollLeft:()=>this.scrollAreaElement.scrollLeft,getScrollContentOffsetWidth:()=>this.scrollContentElement.offsetWidth,getScrollAreaOffsetWidth:()=>this.scrollAreaElement.offsetWidth,computeScrollAreaClientRect:()=>this.scrollAreaElement.getBoundingClientRect(),computeScrollContentClientRect:()=>this.scrollContentElement.getBoundingClientRect(),computeHorizontalScrollbarHeight:()=>(-1===this._scrollbarHeight&&(this.scrollAreaElement.style.overflowX="scroll",this._scrollbarHeight=this.scrollAreaElement.offsetHeight-this.scrollAreaElement.clientHeight,this.scrollAreaElement.style.overflowX=""),this._scrollbarHeight)})}getScrollPosition(){return this.mdcFoundation.getScrollPosition()}getScrollContentWidth(){return this.scrollContentElement.offsetWidth}incrementScrollPosition(e){this.mdcFoundation.incrementScroll(e)}scrollToPosition(e){this.mdcFoundation.scrollTo(e)}}re([b(".mdc-tab-scroller")],vc.prototype,"mdcRoot",void 0),re([b(".mdc-tab-scroller__scroll-area")],vc.prototype,"scrollAreaElement",void 0),re([b(".mdc-tab-scroller__scroll-content")],vc.prototype,"scrollContentElement",void 0),re([k({passive:!0})],vc.prototype,"_handleInteraction",null);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const yc=c(mc||(mc=gc`.mdc-tab-scroller{overflow-y:hidden}.mdc-tab-scroller.mdc-tab-scroller--animating .mdc-tab-scroller__scroll-content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-scroller__test{position:absolute;top:-9999px;width:100px;height:100px;overflow-x:scroll}.mdc-tab-scroller__scroll-area{-webkit-overflow-scrolling:touch;display:flex;overflow-x:hidden}.mdc-tab-scroller__scroll-area::-webkit-scrollbar,.mdc-tab-scroller__test::-webkit-scrollbar{display:none}.mdc-tab-scroller__scroll-area--scroll{overflow-x:scroll}.mdc-tab-scroller__scroll-content{position:relative;display:flex;flex:1 0 auto;transform:none;will-change:transform}.mdc-tab-scroller--align-start .mdc-tab-scroller__scroll-content{justify-content:flex-start}.mdc-tab-scroller--align-end .mdc-tab-scroller__scroll-content{justify-content:flex-end}.mdc-tab-scroller--align-center .mdc-tab-scroller__scroll-content{justify-content:center}.mdc-tab-scroller--animating .mdc-tab-scroller__scroll-area{-webkit-overflow-scrolling:auto}:host{display:flex}.mdc-tab-scroller{flex:1}`));class bc extends vc{}bc.styles=yc;let _c,xc,wc=e=>e,kc=class extends Js{};kc.styles=ec,kc=re([],kc);class Ec extends pe{constructor(){super(...arguments),this.mdcFoundationClass=oc,this.activeIndex=0,this._previousActiveIndex=-1}_handleTabInteraction(e){this.mdcFoundation.handleTabInteraction(e)}_handleKeydown(e){this.mdcFoundation.handleKeyDown(e)}render(){return l(_c||(_c=wc`
      <div class="mdc-tab-bar" role="tablist"
          @MDCTab:interacted="${0}"
          @keydown="${0}">
        <mwc-tab-scroller><slot></slot></mwc-tab-scroller>
      </div>
      `),this._handleTabInteraction,this._handleKeydown)}_getTabs(){return this.tabsSlot.assignedNodes({flatten:!0}).filter((e=>e instanceof tc))}_getTab(e){return this._getTabs()[e]}createAdapter(){return{scrollTo:e=>this.getScrollerElement().scrollToPosition(e),incrementScroll:e=>this.getScrollerElement().incrementScrollPosition(e),getScrollPosition:()=>this.getScrollerElement().getScrollPosition(),getScrollContentWidth:()=>this.getScrollerElement().getScrollContentWidth(),getOffsetWidth:()=>this.mdcRoot.offsetWidth,isRTL:()=>"rtl"===window.getComputedStyle(this.mdcRoot).getPropertyValue("direction"),setActiveTab:e=>this.mdcFoundation.activateTab(e),activateTabAtIndex:(e,t)=>{const n=this._getTab(e);void 0!==n&&n.activate(t),this._previousActiveIndex=e},deactivateTabAtIndex:e=>{const t=this._getTab(e);void 0!==t&&t.deactivate()},focusTabAtIndex:e=>{const t=this._getTab(e);void 0!==t&&t.focus()},getTabIndicatorClientRectAtIndex:e=>{const t=this._getTab(e);return void 0!==t?t.computeIndicatorClientRect():new DOMRect},getTabDimensionsAtIndex:e=>{const t=this._getTab(e);return void 0!==t?t.computeDimensions():{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0}},getPreviousActiveTabIndex:()=>this._previousActiveIndex,getFocusedTabIndex:()=>{const e=this._getTabs(),t=this.getRootNode().activeElement;return e.indexOf(t)},getIndexOfTabById:e=>{const t=this._getTabs();for(let n=0;n<t.length;n++)if(t[n].id===e)return n;return-1},getTabListLength:()=>this._getTabs().length,notifyTabActivated:e=>{this.activeIndex=e,this.dispatchEvent(new CustomEvent(oc.strings.TAB_ACTIVATED_EVENT,{detail:{index:e},bubbles:!0,cancelable:!0}))}}}firstUpdated(){}_getUpdateComplete(){return super._getUpdateComplete().then((()=>this.getScrollerElement().updateComplete)).then((()=>{void 0===this.mdcFoundation&&this.createFoundation()}))}scrollIndexIntoView(e){this.mdcFoundation.scrollIntoView(e)}}re([b(".mdc-tab-bar")],Ec.prototype,"mdcRoot",void 0),re([b("mwc-tab-scroller")],Ec.prototype,"scrollerElement",void 0),re([b("slot")],Ec.prototype,"tabsSlot",void 0),re([he((async function(){await this.updateComplete,this.activeIndex!==this._previousActiveIndex&&this.mdcFoundation.activateTab(this.activeIndex)})),v({type:Number})],Ec.prototype,"activeIndex",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Cc=c(xc||(xc=wc`.mdc-tab-bar{width:100%}.mdc-tab{height:48px}.mdc-tab--stacked{height:72px}:host{display:block}.mdc-tab-bar{flex:1}mwc-tab{--mdc-tab-height: 48px;--mdc-tab-stacked-height: 72px}`));class Sc extends(J(Ec)){static get scopedElements(){return{"mwc-tab":tc,"mwc-tab-scroller":bc}}getScrollerElement(){const e=this.getScopedTagName("mwc-tab-scroller");return this.shadowRoot.querySelector(e)}}Sc.styles=Cc;let Ac,Tc,Ic,Oc,Rc=e=>e;
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function Dc(e,t){return(e.matches||e.webkitMatchesSelector||e.msMatchesSelector).call(e,t)}
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/function Pc(e,t){const n=[];for(const r of e.assignedNodes({flatten:!0}))if(r.nodeType===Node.ELEMENT_NODE){const e=r;Dc(e,t)&&n.push(e)}return n}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Lc=function(e,t){return(Lc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var Nc,Mc,Fc=function(){return(Fc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},zc=function(){function e(e){void 0===e&&(e={}),this.adapter_=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),Bc={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},jc={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},Hc={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function Vc(e,t){if(void 0===e&&(e=window),void 0===t&&(t=!1),void 0===Mc||t){var n=!1;try{e.document.addEventListener("test",(function(){}),{get passive(){return n=!0}})}catch(e){}Mc=n}return!!Mc&&{passive:!0}}
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var $c=["touchstart","pointerdown","mousedown","keydown"],Uc=["touchend","pointerup","mouseup","contextmenu"],Gc=[],qc=function(e){function t(n){var r=e.call(this,Fc({},t.defaultAdapter,n))||this;return r.activationAnimationHasEnded_=!1,r.activationTimer_=0,r.fgDeactivationRemovalTimer_=0,r.fgScale_="0",r.frame_={width:0,height:0},r.initialSize_=0,r.layoutFrame_=0,r.maxRadius_=0,r.unboundedCoords_={left:0,top:0},r.activationState_=r.defaultActivationState_(),r.activationTimerCallback_=function(){r.activationAnimationHasEnded_=!0,r.runDeactivationUXLogicIfReady_()},r.activateHandler_=function(e){return r.activate_(e)},r.deactivateHandler_=function(){return r.deactivate_()},r.focusHandler_=function(){return r.handleFocus()},r.blurHandler_=function(){return r.handleBlur()},r.resizeHandler_=function(){return r.layout()},r}return function(e,t){function n(){this.constructor=e}Lc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Bc},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return jc},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Hc},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this,n=this.supportsPressRipple_();if(this.registerRootHandlers_(n),n){var r=t.cssClasses,i=r.ROOT,a=r.UNBOUNDED;requestAnimationFrame((function(){e.adapter_.addClass(i),e.adapter_.isUnbounded()&&(e.adapter_.addClass(a),e.layoutInternal_())}))}},t.prototype.destroy=function(){var e=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter_.removeClass(t.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter_.removeClass(t.cssClasses.FG_DEACTIVATION));var n=t.cssClasses,r=n.ROOT,i=n.UNBOUNDED;requestAnimationFrame((function(){e.adapter_.removeClass(r),e.adapter_.removeClass(i),e.removeCssVars_()}))}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},t.prototype.activate=function(e){this.activate_(e)},t.prototype.deactivate=function(){this.deactivate_()},t.prototype.layout=function(){var e=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){e.layoutInternal_(),e.layoutFrame_=0}))},t.prototype.setUnbounded=function(e){var n=t.cssClasses.UNBOUNDED;e?this.adapter_.addClass(n):this.adapter_.removeClass(n)},t.prototype.handleFocus=function(){var e=this;requestAnimationFrame((function(){return e.adapter_.addClass(t.cssClasses.BG_FOCUSED)}))},t.prototype.handleBlur=function(){var e=this;requestAnimationFrame((function(){return e.adapter_.removeClass(t.cssClasses.BG_FOCUSED)}))},t.prototype.supportsPressRipple_=function(){return this.adapter_.browserSupportsCssVars()},t.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},t.prototype.registerRootHandlers_=function(e){var t=this;e&&($c.forEach((function(e){t.adapter_.registerInteractionHandler(e,t.activateHandler_)})),this.adapter_.isUnbounded()&&this.adapter_.registerResizeHandler(this.resizeHandler_)),this.adapter_.registerInteractionHandler("focus",this.focusHandler_),this.adapter_.registerInteractionHandler("blur",this.blurHandler_)},t.prototype.registerDeactivationHandlers_=function(e){var t=this;"keydown"===e.type?this.adapter_.registerInteractionHandler("keyup",this.deactivateHandler_):Uc.forEach((function(e){t.adapter_.registerDocumentInteractionHandler(e,t.deactivateHandler_)}))},t.prototype.deregisterRootHandlers_=function(){var e=this;$c.forEach((function(t){e.adapter_.deregisterInteractionHandler(t,e.activateHandler_)})),this.adapter_.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter_.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter_.isUnbounded()&&this.adapter_.deregisterResizeHandler(this.resizeHandler_)},t.prototype.deregisterDeactivationHandlers_=function(){var e=this;this.adapter_.deregisterInteractionHandler("keyup",this.deactivateHandler_),Uc.forEach((function(t){e.adapter_.deregisterDocumentInteractionHandler(t,e.deactivateHandler_)}))},t.prototype.removeCssVars_=function(){var e=this,n=t.strings;Object.keys(n).forEach((function(t){0===t.indexOf("VAR_")&&e.adapter_.updateCssVariable(n[t],null)}))},t.prototype.activate_=function(e){var t=this;if(!this.adapter_.isSurfaceDisabled()){var n=this.activationState_;if(!n.isActivated){var r=this.previousActivationEvent_;if(!(r&&void 0!==e&&r.type!==e.type))n.isActivated=!0,n.isProgrammatic=void 0===e,n.activationEvent=e,n.wasActivatedByPointer=!n.isProgrammatic&&(void 0!==e&&("mousedown"===e.type||"touchstart"===e.type||"pointerdown"===e.type)),void 0!==e&&Gc.length>0&&Gc.some((function(e){return t.adapter_.containsEventTarget(e)}))?this.resetActivationState_():(void 0!==e&&(Gc.push(e.target),this.registerDeactivationHandlers_(e)),n.wasElementMadeActive=this.checkElementMadeActive_(e),n.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame((function(){Gc=[],n.wasElementMadeActive||void 0===e||" "!==e.key&&32!==e.keyCode||(n.wasElementMadeActive=t.checkElementMadeActive_(e),n.wasElementMadeActive&&t.animateActivation_()),n.wasElementMadeActive||(t.activationState_=t.defaultActivationState_())})))}}},t.prototype.checkElementMadeActive_=function(e){return void 0===e||"keydown"!==e.type||this.adapter_.isSurfaceActive()},t.prototype.animateActivation_=function(){var e=this,n=t.strings,r=n.VAR_FG_TRANSLATE_START,i=n.VAR_FG_TRANSLATE_END,a=t.cssClasses,o=a.FG_DEACTIVATION,s=a.FG_ACTIVATION,c=t.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var l="",d="";if(!this.adapter_.isUnbounded()){var u=this.getFgTranslationCoordinates_(),p=u.startPoint,h=u.endPoint;l=p.x+"px, "+p.y+"px",d=h.x+"px, "+h.y+"px"}this.adapter_.updateCssVariable(r,l),this.adapter_.updateCssVariable(i,d),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter_.removeClass(o),this.adapter_.computeBoundingRect(),this.adapter_.addClass(s),this.activationTimer_=setTimeout((function(){return e.activationTimerCallback_()}),c)},t.prototype.getFgTranslationCoordinates_=function(){var e,t=this.activationState_,n=t.activationEvent;return{startPoint:e={x:(e=t.wasActivatedByPointer?function(e,t,n){if(!e)return{x:0,y:0};var r,i,a=t.x,o=t.y,s=a+n.left,c=o+n.top;if("touchstart"===e.type){var l=e;r=l.changedTouches[0].pageX-s,i=l.changedTouches[0].pageY-c}else{var d=e;r=d.pageX-s,i=d.pageY-c}return{x:r,y:i}}(n,this.adapter_.getWindowPageOffset(),this.adapter_.computeBoundingRect()):{x:this.frame_.width/2,y:this.frame_.height/2}).x-this.initialSize_/2,y:e.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},t.prototype.runDeactivationUXLogicIfReady_=function(){var e=this,n=t.cssClasses.FG_DEACTIVATION,r=this.activationState_,i=r.hasDeactivationUXRun,a=r.isActivated;(i||!a)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter_.addClass(n),this.fgDeactivationRemovalTimer_=setTimeout((function(){e.adapter_.removeClass(n)}),Hc.FG_DEACTIVATION_MS))},t.prototype.rmBoundedActivationClasses_=function(){var e=t.cssClasses.FG_ACTIVATION;this.adapter_.removeClass(e),this.activationAnimationHasEnded_=!1,this.adapter_.computeBoundingRect()},t.prototype.resetActivationState_=function(){var e=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout((function(){return e.previousActivationEvent_=void 0}),t.numbers.TAP_DELAY_MS)},t.prototype.deactivate_=function(){var e=this,t=this.activationState_;if(t.isActivated){var n=Fc({},t);t.isProgrammatic?(requestAnimationFrame((function(){return e.animateDeactivation_(n)})),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame((function(){e.activationState_.hasDeactivationUXRun=!0,e.animateDeactivation_(n),e.resetActivationState_()})))}},t.prototype.animateDeactivation_=function(e){var t=e.wasActivatedByPointer,n=e.wasElementMadeActive;(t||n)&&this.runDeactivationUXLogicIfReady_()},t.prototype.layoutInternal_=function(){var e=this;this.frame_=this.adapter_.computeBoundingRect();var n=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter_.isUnbounded()?n:Math.sqrt(Math.pow(e.frame_.width,2)+Math.pow(e.frame_.height,2))+t.numbers.PADDING,this.initialSize_=Math.floor(n*t.numbers.INITIAL_ORIGIN_SCALE),this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},t.prototype.updateLayoutCssVars_=function(){var e=t.strings,n=e.VAR_FG_SIZE,r=e.VAR_LEFT,i=e.VAR_TOP,a=e.VAR_FG_SCALE;this.adapter_.updateCssVariable(n,this.initialSize_+"px"),this.adapter_.updateCssVariable(a,this.fgScale_),this.adapter_.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter_.updateCssVariable(r,this.unboundedCoords_.left+"px"),this.adapter_.updateCssVariable(i,this.unboundedCoords_.top+"px"))},t}(zc);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Xc=c(Ac||(Ac=Rc`/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
@keyframes mdc-ripple-fg-radius-in {
  from {
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transform: translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1);
  }
  to {
    transform: translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1));
  }
}
@keyframes mdc-ripple-fg-opacity-in {
  from {
    animation-timing-function: linear;
    opacity: 0;
  }
  to {
    opacity: var(--mdc-ripple-fg-opacity, 0);
  }
}
@keyframes mdc-ripple-fg-opacity-out {
  from {
    animation-timing-function: linear;
    opacity: var(--mdc-ripple-fg-opacity, 0);
  }
  to {
    opacity: 0;
  }
}`)),Yc=function(e,t){void 0===t&&(t=!1);var n=e.CSS,r=Nc;if("boolean"==typeof Nc&&!t)return Nc;if(!(n&&"function"==typeof n.supports))return!1;var i=n.supports("--css-vars","yes"),a=n.supports("(--css-vars: yes)")&&n.supports("color","#00000000");return r=!(!i&&!a)&&!function(e){var t=e.document,n=t.createElement("div");n.className="mdc-ripple-surface--test-edge-var-bug",t.body.appendChild(n);var r=e.getComputedStyle(n),i=null!==r&&"solid"===r.borderTopStyle;return n.parentNode&&n.parentNode.removeChild(n),i}(e),t||(Nc=r),r}(window),Kc=navigator.userAgent.match(/Safari/);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/let Wc=!1;const Zc=e=>{Kc&&!Wc&&(()=>{Wc=!0;const e=new u({templateFactory:f});e.appendInto(document.head),e.setValue(Xc),e.commit()})();const t=e.surfaceNode,n=e.interactionNode||t;n.getRootNode()!==t.getRootNode()&&""===n.style.position&&(n.style.position="relative");const r=Object.assign({browserSupportsCssVars:()=>Yc,isUnbounded:()=>void 0===e.unbounded||e.unbounded,isSurfaceActive:()=>Dc(n,":active"),isSurfaceDisabled:()=>Boolean(e.disabled),addClass:e=>t.classList.add(e),removeClass:e=>t.classList.remove(e),containsEventTarget:e=>n.contains(e),registerInteractionHandler:(e,t)=>n.addEventListener(e,t,Vc()),deregisterInteractionHandler:(e,t)=>n.removeEventListener(e,t,Vc()),registerDocumentInteractionHandler:(e,t)=>document.documentElement.addEventListener(e,t,Vc()),deregisterDocumentInteractionHandler:(e,t)=>document.documentElement.removeEventListener(e,t,Vc()),registerResizeHandler:e=>window.addEventListener("resize",e),deregisterResizeHandler:e=>window.removeEventListener("resize",e),updateCssVariable:(e,n)=>t.style.setProperty(e,n),computeBoundingRect:()=>t.getBoundingClientRect(),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset})},e.adapter),i=new qc(r);return i.init(),i},Qc=new WeakMap,Jc=e(((e={})=>t=>{const n=t.committer.element,r=e.interactionNode||n;let i=t.value;const a=Qc.get(i);void 0!==a&&a!==r&&(i.destroy(),i=h),i===h?(i=Zc(Object.assign({},e,{surfaceNode:n})),Qc.set(i,r),t.setValue(i)):(void 0!==e.unbounded&&i.setUnbounded(e.unbounded),void 0!==e.disabled&&i.setUnbounded(e.disabled)),!0===e.active?i.activate():!1===e.active&&i.deactivate()})),el=c(Tc||(Tc=Rc`/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
.mdc-card {
  border-radius: 4px;
  background-color: #fff;
  /* @alternate */
  background-color: var(--mdc-theme-surface, #fff);
  box-shadow: 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
}

.mdc-card--outlined {
  box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);
  border-width: 1px;
  border-style: solid;
  border-color: #e0e0e0;
}

.mdc-card__media {
  position: relative;
  box-sizing: border-box;
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;
}
.mdc-card__media::before {
  display: block;
  content: "";
}

.mdc-card__media:first-child {
  border-top-left-radius: inherit;
  border-top-right-radius: inherit;
}

.mdc-card__media:last-child {
  border-bottom-left-radius: inherit;
  border-bottom-right-radius: inherit;
}

.mdc-card__media--square::before {
  margin-top: 100%;
}

.mdc-card__media--16-9::before {
  margin-top: 56.25%;
}

.mdc-card__media-content {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  box-sizing: border-box;
}

.mdc-card__primary-action {
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  position: relative;
  outline: none;
  color: inherit;
  text-decoration: none;
  cursor: pointer;
  overflow: hidden;
}

.mdc-card__primary-action:first-child {
  border-top-left-radius: inherit;
  border-top-right-radius: inherit;
}

.mdc-card__primary-action:last-child {
  border-bottom-left-radius: inherit;
  border-bottom-right-radius: inherit;
}

.mdc-card__actions {
  display: flex;
  flex-direction: row;
  align-items: center;
  box-sizing: border-box;
  min-height: 52px;
  padding: 8px;
}

.mdc-card__actions--full-bleed {
  padding: 0;
}

.mdc-card__action-buttons,
.mdc-card__action-icons {
  display: flex;
  flex-direction: row;
  align-items: center;
  box-sizing: border-box;
}

.mdc-card__action-icons {
  color: rgba(0, 0, 0, 0.6);
  flex-grow: 1;
  justify-content: flex-end;
}

.mdc-card__action-buttons + .mdc-card__action-icons {
  /* @noflip */
  margin-left: 16px;
  /* @noflip */
  margin-right: 0;
}
[dir=rtl] .mdc-card__action-buttons + .mdc-card__action-icons, .mdc-card__action-buttons + .mdc-card__action-icons[dir=rtl] {
  /* @noflip */
  margin-left: 0;
  /* @noflip */
  margin-right: 16px;
}

.mdc-card__action {
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  box-sizing: border-box;
  justify-content: center;
  cursor: pointer;
  user-select: none;
}
.mdc-card__action:focus {
  outline: none;
}

.mdc-card__action--button {
  /* @noflip */
  margin-left: 0;
  /* @noflip */
  margin-right: 8px;
  padding: 0 8px;
}
[dir=rtl] .mdc-card__action--button, .mdc-card__action--button[dir=rtl] {
  /* @noflip */
  margin-left: 8px;
  /* @noflip */
  margin-right: 0;
}
.mdc-card__action--button:last-child {
  /* @noflip */
  margin-left: 0;
  /* @noflip */
  margin-right: 0;
}
[dir=rtl] .mdc-card__action--button:last-child, .mdc-card__action--button:last-child[dir=rtl] {
  /* @noflip */
  margin-left: 0;
  /* @noflip */
  margin-right: 0;
}

.mdc-card__actions--full-bleed .mdc-card__action--button {
  justify-content: space-between;
  width: 100%;
  height: auto;
  max-height: none;
  margin: 0;
  padding: 8px 16px;
  /* @noflip */
  text-align: left;
}
[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button, .mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl] {
  /* @noflip */
  text-align: right;
}

.mdc-card__action--icon {
  margin: -6px 0;
  padding: 12px;
}

.mdc-card__action--icon:not(:disabled) {
  color: rgba(0, 0, 0, 0.6);
}

@keyframes mdc-ripple-fg-radius-in {
  from {
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transform: translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1);
  }
  to {
    transform: translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1));
  }
}
@keyframes mdc-ripple-fg-opacity-in {
  from {
    animation-timing-function: linear;
    opacity: 0;
  }
  to {
    opacity: var(--mdc-ripple-fg-opacity, 0);
  }
}
@keyframes mdc-ripple-fg-opacity-out {
  from {
    animation-timing-function: linear;
    opacity: var(--mdc-ripple-fg-opacity, 0);
  }
  to {
    opacity: 0;
  }
}
.mdc-ripple-surface--test-edge-var-bug {
  --mdc-ripple-surface-test-edge-var: 1px solid #000;
  visibility: hidden;
}
.mdc-ripple-surface--test-edge-var-bug::before {
  border: var(--mdc-ripple-surface-test-edge-var);
}

.mdc-card__primary-action {
  --mdc-ripple-fg-size: 0;
  --mdc-ripple-left: 0;
  --mdc-ripple-top: 0;
  --mdc-ripple-fg-scale: 1;
  --mdc-ripple-fg-translate-end: 0;
  --mdc-ripple-fg-translate-start: 0;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
.mdc-card__primary-action::before, .mdc-card__primary-action::after {
  position: absolute;
  border-radius: 50%;
  opacity: 0;
  pointer-events: none;
  content: "";
}
.mdc-card__primary-action::before {
  transition: opacity 15ms linear, background-color 15ms linear;
  z-index: 1;
}
.mdc-card__primary-action.mdc-ripple-upgraded::before {
  transform: scale(var(--mdc-ripple-fg-scale, 1));
}
.mdc-card__primary-action.mdc-ripple-upgraded::after {
  top: 0;
  /* @noflip */
  left: 0;
  transform: scale(0);
  transform-origin: center center;
}
.mdc-card__primary-action.mdc-ripple-upgraded--unbounded::after {
  top: var(--mdc-ripple-top, 0);
  /* @noflip */
  left: var(--mdc-ripple-left, 0);
}
.mdc-card__primary-action.mdc-ripple-upgraded--foreground-activation::after {
  animation: mdc-ripple-fg-radius-in 225ms forwards, mdc-ripple-fg-opacity-in 75ms forwards;
}
.mdc-card__primary-action.mdc-ripple-upgraded--foreground-deactivation::after {
  animation: mdc-ripple-fg-opacity-out 150ms;
  transform: translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1));
}
.mdc-card__primary-action::before, .mdc-card__primary-action::after {
  top: calc(50% - 100%);
  /* @noflip */
  left: calc(50% - 100%);
  width: 200%;
  height: 200%;
}
.mdc-card__primary-action.mdc-ripple-upgraded::after {
  width: var(--mdc-ripple-fg-size, 100%);
  height: var(--mdc-ripple-fg-size, 100%);
}
.mdc-card__primary-action::before, .mdc-card__primary-action::after {
  background-color: #000;
}
.mdc-card__primary-action:hover::before {
  opacity: 0.04;
}
.mdc-card__primary-action:not(.mdc-ripple-upgraded):focus::before, .mdc-card__primary-action.mdc-ripple-upgraded--background-focused::before {
  transition-duration: 75ms;
  opacity: 0.12;
}
.mdc-card__primary-action:not(.mdc-ripple-upgraded)::after {
  transition: opacity 150ms linear;
}
.mdc-card__primary-action:not(.mdc-ripple-upgraded):active::after {
  transition-duration: 75ms;
  opacity: 0.12;
}
.mdc-card__primary-action.mdc-ripple-upgraded {
  --mdc-ripple-fg-opacity: 0.12;
}

:host {
  display: inline-block;
  width: 344px;
}

.mdc-card {
  height: 100%;
}

.mdc-card__primary-action {
  flex-grow: 1;
}
.mdc-card__primary-action--empty {
  display: none;
}

.mdc-card__actions--empty {
  display: none;
}
.mdc-card__actions ::slotted(*) {
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  box-sizing: border-box;
  justify-content: center;
  cursor: pointer;
  user-select: none;
}
.mdc-card__actions ::slotted(*):focus {
  outline: none;
}
.mdc-card__actions ::slotted(mwc-button) {
  /* @noflip */
  margin-left: 0;
  /* @noflip */
  margin-right: 8px;
}
[dir=rtl] .mdc-card__actions ::slotted(mwc-button), .mdc-card__actions ::slotted(mwc-button)[dir=rtl] {
  /* @noflip */
  margin-left: 8px;
  /* @noflip */
  margin-right: 0;
}
.mdc-card__actions ::slotted(mwc-button):last-child {
  /* @noflip */
  margin-left: 0;
  /* @noflip */
  margin-right: 0;
}
[dir=rtl] .mdc-card__actions ::slotted(mwc-button):last-child, .mdc-card__actions ::slotted(mwc-button):last-child[dir=rtl] {
  /* @noflip */
  margin-left: 0;
  /* @noflip */
  margin-right: 0;
}
.mdc-card__actions ::slotted(mwc-icon-button) {
  margin: -6px 0;
}
.mdc-card__actions ::slotted(mwc-icon-button:not(:disabled)) {
  color: rgba(0, 0, 0, 0.6);
}`)),tl=document.createElement("link");tl.rel="stylesheet",tl.href="https://fonts.googleapis.com/icon?family=Material+Icons",document.head.appendChild(tl);var nl=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};let rl=class extends s{constructor(){super(...arguments),this.outlined=!1,this.aspectRatio=""}get headerEls(){return this.slotHeaderEl&&Pc(this.slotHeaderEl,"*")}get mediaEls(){return this.slotMediaEl&&Pc(this.slotMediaEl,"*")}get contentEls(){return this.slotContentEl&&Pc(this.slotContentEl,"*")}get actionButtons(){return this.slotActionButtonsEl&&Pc(this.slotActionButtonsEl,"mwc-button")}get actionIcons(){return this.slotActionIconsEl&&Pc(this.slotActionIconsEl,"mwc-icon-button")}render(){const e={"mdc-card":!0,"mdc-card--outlined":this.outlined},t={"mdc-card__media":!0,[`mdc-card__media--${this.aspectRatio}`]:""!==this.aspectRatio};return l(Ic||(Ic=Rc`
      <div class="${0}">
        <div class="mdc-card__primary-action" tabindex="0" .ripple="${0}">
          <slot name="header"></slot>
          
          <div class="${0}">
            <div class="mdc-card__media-content">
              <slot name="media"></slot>
            </div>
          </div>

          <slot name="content"></slot>
        </div>

        <slot></slot>

        <div class="mdc-card__actions">
          <div class="mdc-card__action-buttons">
            <slot name="action-buttons"></slot>
          </div>

          <div class="mdc-card__action-icons">
            <slot name="action-icons"></slot>
          </div>
        </div>
      </div>
    `),S(e),Jc({unbounded:!1}),S(t))}updated(e){super.updated(e);const t=this.headerEls.length>0,n=this.mediaEls.length>0,r=this.contentEls.length>0,i=t||n||r,a=this.actionButtons.length>0,o=this.actionIcons.length>0,s=a||o;this.primaryActionEl.classList.toggle("mdc-card__primary-action--empty",!i),this.actionButtonsEl.classList.toggle("mdc-card__action-buttons--empty",!a),this.actionIconsEl.classList.toggle("mdc-card__action-icons--empty",!o),this.actionsEl.classList.toggle("mdc-card__actions--empty",!s)}};rl.styles=el,nl([b(".mdc-card__primary-action")],rl.prototype,"primaryActionEl",void 0),nl([b(".mdc-card__actions")],rl.prototype,"actionsEl",void 0),nl([b(".mdc-card__action-buttons")],rl.prototype,"actionButtonsEl",void 0),nl([b(".mdc-card__action-icons")],rl.prototype,"actionIconsEl",void 0),nl([b('slot[name="header"]')],rl.prototype,"slotHeaderEl",void 0),nl([b('slot[name="media"]')],rl.prototype,"slotMediaEl",void 0),nl([b('slot[name="content"]')],rl.prototype,"slotContentEl",void 0),nl([b('slot[name="action-buttons"]')],rl.prototype,"slotActionButtonsEl",void 0),nl([b('slot[name="action-icons"]')],rl.prototype,"slotActionIconsEl",void 0),nl([v({type:Boolean})],rl.prototype,"outlined",void 0),nl([v({type:String})],rl.prototype,"aspectRatio",void 0);class il extends(J(rl)){}il.styles=[el,c(Oc||(Oc=Rc`
      :host {
        width: auto;
      }
    `))];let al,ol,sl,cl,ll,dl,ul,pl,hl,fl,ml,gl=e=>e;
/**
 @license
 Copyright 2020 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 */class vl extends s{constructor(){super(...arguments),this.value="",this.group=null,this.tabindex=-1,this.disabled=!1,this.twoline=!1,this.activated=!1,this.graphic=null,this.multipleGraphics=!1,this.hasMeta=!1,this.noninteractive=!1,this.selected=!1,this.shouldRenderRipple=!1,this._managingList=null,this.boundOnClick=this.onClick.bind(this),this._firstChanged=!0,this._skipPropRequest=!1,this.rippleHandlers=new Xe((()=>(this.shouldRenderRipple=!0,this.ripple))),this.listeners=[{target:this,eventNames:["click"],cb:()=>{this.onClick()}},{target:this,eventNames:["mouseenter"],cb:this.rippleHandlers.startHover},{target:this,eventNames:["mouseleave"],cb:this.rippleHandlers.endHover},{target:this,eventNames:["focus"],cb:this.rippleHandlers.startFocus},{target:this,eventNames:["blur"],cb:this.rippleHandlers.endFocus},{target:this,eventNames:["mousedown","touchstart"],cb:e=>{const t=e.type;this.onDown("mousedown"===t?"mouseup":"touchend",e)}}]}get text(){const e=this.textContent;return e?e.trim():""}render(){const e=this.renderText(),t=this.graphic?this.renderGraphic():l(al||(al=gl``)),n=this.hasMeta?this.renderMeta():l(ol||(ol=gl``));return l(sl||(sl=gl`
      ${0}
      ${0}
      ${0}
      ${0}`),this.renderRipple(),t,e,n)}renderRipple(){return this.shouldRenderRipple?l(cl||(cl=gl`
      <mwc-ripple
        .activated=${0}>
      </mwc-ripple>`),this.activated):this.activated?l(ll||(ll=gl`<div class="fake-activated-ripple"></div>`)):""}renderGraphic(){const e={multi:this.multipleGraphics};return l(dl||(dl=gl`
      <span class="mdc-list-item__graphic material-icons ${0}">
        <slot name="graphic"></slot>
      </span>`),S(e))}renderMeta(){return l(ul||(ul=gl`
      <span class="mdc-list-item__meta material-icons">
        <slot name="meta"></slot>
      </span>`))}renderText(){const e=this.twoline?this.renderTwoline():this.renderSingleLine();return l(pl||(pl=gl`
      <span class="mdc-list-item__text">
        ${0}
      </span>`),e)}renderSingleLine(){return l(hl||(hl=gl`<slot></slot>`))}renderTwoline(){return l(fl||(fl=gl`
      <span class="mdc-list-item__primary-text">
        <slot></slot>
      </span>
      <span class="mdc-list-item__secondary-text">
        <slot name="secondary"></slot>
      </span>
    `))}onClick(){this.fireRequestSelected(!this.selected,"interaction")}onDown(e,t){const n=()=>{window.removeEventListener(e,n),this.rippleHandlers.endPress()};window.addEventListener(e,n),this.rippleHandlers.startPress(t)}fireRequestSelected(e,t){if(this.noninteractive)return;const n=new CustomEvent("request-selected",{bubbles:!0,composed:!0,detail:{source:t,selected:e}});this.dispatchEvent(n)}connectedCallback(){super.connectedCallback(),this.noninteractive||this.setAttribute("mwc-list-item","");for(const e of this.listeners)for(const t of e.eventNames)e.target.addEventListener(t,e.cb,{passive:!0})}disconnectedCallback(){super.disconnectedCallback();for(const e of this.listeners)for(const t of e.eventNames)e.target.removeEventListener(t,e.cb);this._managingList&&(this._managingList.debouncedLayout?this._managingList.debouncedLayout(!0):this._managingList.layout(!0))}firstUpdated(){const e=new Event("list-item-rendered",{bubbles:!0,composed:!0});this.dispatchEvent(e)}}re([b("slot")],vl.prototype,"slotElement",void 0),re([_("mwc-ripple")],vl.prototype,"ripple",void 0),re([v({type:String})],vl.prototype,"value",void 0),re([v({type:String,reflect:!0})],vl.prototype,"group",void 0),re([v({type:Number,reflect:!0})],vl.prototype,"tabindex",void 0),re([v({type:Boolean,reflect:!0}),he((function(e){e?this.setAttribute("aria-disabled","true"):this.setAttribute("aria-disabled","false")}))],vl.prototype,"disabled",void 0),re([v({type:Boolean,reflect:!0})],vl.prototype,"twoline",void 0),re([v({type:Boolean,reflect:!0})],vl.prototype,"activated",void 0),re([v({type:String,reflect:!0})],vl.prototype,"graphic",void 0),re([v({type:Boolean})],vl.prototype,"multipleGraphics",void 0),re([v({type:Boolean})],vl.prototype,"hasMeta",void 0),re([v({type:Boolean,reflect:!0}),he((function(e){e?(this.removeAttribute("aria-checked"),this.removeAttribute("mwc-list-item"),this.selected=!1,this.activated=!1,this.tabIndex=-1):this.setAttribute("mwc-list-item","")}))],vl.prototype,"noninteractive",void 0),re([v({type:Boolean,reflect:!0}),he((function(e){const t=this.getAttribute("role"),n="gridcell"===t||"option"===t||"row"===t||"tab"===t;n&&e?this.setAttribute("aria-selected","true"):n&&this.setAttribute("aria-selected","false"),this._firstChanged?this._firstChanged=!1:this._skipPropRequest||this.fireRequestSelected(e,"property")}))],vl.prototype,"selected",void 0),re([y()],vl.prototype,"shouldRenderRipple",void 0),re([y()],vl.prototype,"_managingList",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const yl=c(ml||(ml=gl`:host{cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent;height:48px;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mdc-list-side-padding, 16px);padding-right:var(--mdc-list-side-padding, 16px);outline:none;height:48px;color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}:host:focus{outline:none}:host([activated]){color:#6200ee;color:var(--mdc-theme-primary, #6200ee);--mdc-ripple-color: var(--mdc-theme-primary, #6200ee)}:host([activated]) .mdc-list-item__graphic{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host([activated]) .fake-activated-ripple::before{position:absolute;display:block;top:0;bottom:0;left:0;right:0;width:100%;height:100%;pointer-events:none;z-index:1;content:"";opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12);background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-list-item__graphic{flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;display:inline-flex}.mdc-list-item__graphic ::slotted(*){flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;width:100%;height:100%;text-align:center}.mdc-list-item__meta{width:var(--mdc-list-item-meta-size, 24px);height:var(--mdc-list-item-meta-size, 24px);margin-left:auto;margin-right:0;color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-hint-on-background, rgba(0, 0, 0, 0.38))}.mdc-list-item__meta.multi{width:auto}.mdc-list-item__meta ::slotted(*){width:var(--mdc-list-item-meta-size, 24px);line-height:var(--mdc-list-item-meta-size, 24px)}.mdc-list-item__meta ::slotted(.material-icons),.mdc-list-item__meta ::slotted(mwc-icon){line-height:var(--mdc-list-item-meta-size, 24px) !important}.mdc-list-item__meta ::slotted(:not(.material-icons):not(mwc-icon)){-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit)}:host[dir=rtl] .mdc-list-item__meta,[dir=rtl] :host .mdc-list-item__meta{margin-left:0;margin-right:auto}.mdc-list-item__meta ::slotted(*){width:100%;height:100%}.mdc-list-item__text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item__text ::slotted([for]),.mdc-list-item__text[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;margin-bottom:-20px;display:block}.mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;display:block}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list--dense .mdc-list-item__secondary-text{font-size:inherit}* ::slotted(a),a{color:inherit;text-decoration:none}:host([twoline]){height:72px}:host([twoline]) .mdc-list-item__text{align-self:flex-start}:host([disabled]),:host([noninteractive]){cursor:default;pointer-events:none}:host([disabled]) .mdc-list-item__text ::slotted(*){opacity:.38}:host([disabled]) .mdc-list-item__text ::slotted(*),:host([disabled]) .mdc-list-item__primary-text ::slotted(*),:host([disabled]) .mdc-list-item__secondary-text ::slotted(*){color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-list-item__secondary-text ::slotted(*){color:rgba(0, 0, 0, 0.54);color:var(--mdc-theme-text-secondary-on-background, rgba(0, 0, 0, 0.54))}.mdc-list-item__graphic ::slotted(*){background-color:transparent;color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-icon-on-background, rgba(0, 0, 0, 0.38))}.mdc-list-group__subheader ::slotted(*){color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}:host([graphic=avatar]) .mdc-list-item__graphic{width:var(--mdc-list-item-graphic-size, 40px);height:var(--mdc-list-item-graphic-size, 40px)}:host([graphic=avatar]) .mdc-list-item__graphic.multi{width:auto}:host([graphic=avatar]) .mdc-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 40px);line-height:var(--mdc-list-item-graphic-size, 40px)}:host([graphic=avatar]) .mdc-list-item__graphic ::slotted(.material-icons),:host([graphic=avatar]) .mdc-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 40px) !important}:host([graphic=avatar]) .mdc-list-item__graphic ::slotted(*){border-radius:50%}:host([graphic=avatar],[graphic=medium],[graphic=large],[graphic=control]) .mdc-list-item__graphic{margin-left:0;margin-right:var(--mdc-list-item-graphic-margin, 16px)}:host[dir=rtl] :host([graphic=avatar],[graphic=medium],[graphic=large],[graphic=control]) .mdc-list-item__graphic,[dir=rtl] :host :host([graphic=avatar],[graphic=medium],[graphic=large],[graphic=control]) .mdc-list-item__graphic{margin-left:var(--mdc-list-item-graphic-margin, 16px);margin-right:0}:host([graphic=icon]) .mdc-list-item__graphic{width:var(--mdc-list-item-graphic-size, 24px);height:var(--mdc-list-item-graphic-size, 24px);margin-left:0;margin-right:var(--mdc-list-item-graphic-margin, 32px)}:host([graphic=icon]) .mdc-list-item__graphic.multi{width:auto}:host([graphic=icon]) .mdc-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 24px);line-height:var(--mdc-list-item-graphic-size, 24px)}:host([graphic=icon]) .mdc-list-item__graphic ::slotted(.material-icons),:host([graphic=icon]) .mdc-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 24px) !important}:host[dir=rtl] :host([graphic=icon]) .mdc-list-item__graphic,[dir=rtl] :host :host([graphic=icon]) .mdc-list-item__graphic{margin-left:var(--mdc-list-item-graphic-margin, 32px);margin-right:0}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:56px}:host([graphic=medium]:not([twoLine])),:host([graphic=large]:not([twoLine])){height:72px}:host([graphic=medium]) .mdc-list-item__graphic,:host([graphic=large]) .mdc-list-item__graphic{width:var(--mdc-list-item-graphic-size, 56px);height:var(--mdc-list-item-graphic-size, 56px)}:host([graphic=medium]) .mdc-list-item__graphic.multi,:host([graphic=large]) .mdc-list-item__graphic.multi{width:auto}:host([graphic=medium]) .mdc-list-item__graphic ::slotted(*),:host([graphic=large]) .mdc-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 56px);line-height:var(--mdc-list-item-graphic-size, 56px)}:host([graphic=medium]) .mdc-list-item__graphic ::slotted(.material-icons),:host([graphic=medium]) .mdc-list-item__graphic ::slotted(mwc-icon),:host([graphic=large]) .mdc-list-item__graphic ::slotted(.material-icons),:host([graphic=large]) .mdc-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 56px) !important}:host([graphic=large]){padding-left:0px}`));class bl extends(J(vl)){static get scopedElements(){return{"mwc-ripple":ct}}}bl.styles=yl;
/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var _l="Unknown",xl="Backspace",wl="Enter",kl="Spacebar",El="PageUp",Cl="PageDown",Sl="End",Al="Home",Tl="ArrowLeft",Il="ArrowUp",Ol="ArrowRight",Rl="ArrowDown",Dl="Delete",Pl="Escape",Ll=new Set;Ll.add(xl),Ll.add(wl),Ll.add(kl),Ll.add(El),Ll.add(Cl),Ll.add(Sl),Ll.add(Al),Ll.add(Tl),Ll.add(Il),Ll.add(Ol),Ll.add(Rl),Ll.add(Dl),Ll.add(Pl);var Nl=8,Ml=13,Fl=32,zl=33,Bl=34,jl=35,Hl=36,Vl=37,$l=38,Ul=39,Gl=40,ql=46,Xl=27,Yl=new Map;Yl.set(Nl,xl),Yl.set(Ml,wl),Yl.set(Fl,kl),Yl.set(zl,El),Yl.set(Bl,Cl),Yl.set(jl,Sl),Yl.set(Hl,Al),Yl.set(Vl,Tl),Yl.set($l,Il),Yl.set(Ul,Ol),Yl.set(Gl,Rl),Yl.set(ql,Dl),Yl.set(Xl,Pl);var Kl=new Set;function Wl(e){var t=e.key;if(Ll.has(t))return t;var n=Yl.get(e.keyCode);return n||_l}
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Kl.add(El),Kl.add(Cl),Kl.add(Sl),Kl.add(Al),Kl.add(Tl),Kl.add(Il),Kl.add(Ol),Kl.add(Rl);var Zl="mdc-list-item",Ql="mdc-list-item--disabled",Jl={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:"\n    ."+Zl+" button:not(:disabled),\n    ."+Zl+" a\n  ",FOCUSABLE_CHILD_ELEMENTS:"\n    ."+Zl+" button:not(:disabled),\n    ."+Zl+" a,\n    ."+Zl+' input[type="radio"]:not(:disabled),\n    .'+Zl+' input[type="checkbox"]:not(:disabled)\n  ',RADIO_SELECTOR:'input[type="radio"]'},ed={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300};let td,nd,rd,id=e=>e;
/**
 @license
 Copyright 2020 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 */const ad=["input","button","textarea","select"];function od(e){return e instanceof Set}const sd=e=>{const t=e===ed.UNSET_INDEX?new Set:e;return od(t)?new Set(t):new Set([t])};class cd extends fe{constructor(e){super(Object.assign(Object.assign({},cd.defaultAdapter),e)),this.isMulti_=!1,this.wrapFocus_=!1,this.isVertical_=!0,this.selectedIndex_=ed.UNSET_INDEX,this.focusedItemIndex_=ed.UNSET_INDEX,this.useActivatedClass_=!1,this.ariaCurrentAttrValue_=null}static get strings(){return Jl}static get numbers(){return ed}static get defaultAdapter(){return{focusItemAtIndex:()=>{},getFocusedElementIndex:()=>0,getListItemCount:()=>0,isFocusInsideList:()=>!1,isRootFocused:()=>!1,notifyAction:()=>{},notifySelected:()=>{},getSelectedStateForElementIndex:()=>!1,setDisabledStateForElementIndex:()=>{},getDisabledStateForElementIndex:()=>!1,setSelectedStateForElementIndex:()=>{},setActivatedStateForElementIndex:()=>{},setTabIndexForElementIndex:()=>{},setAttributeForElementIndex:()=>{},getAttributeForElementIndex:()=>null}}setWrapFocus(e){this.wrapFocus_=e}setMulti(e){this.isMulti_=e;const t=this.selectedIndex_;if(e){if(!od(t)){const e=t===ed.UNSET_INDEX;this.selectedIndex_=e?new Set:new Set([t])}}else if(od(t))if(t.size){const e=Array.from(t).sort();this.selectedIndex_=e[0]}else this.selectedIndex_=ed.UNSET_INDEX}setVerticalOrientation(e){this.isVertical_=e}setUseActivatedClass(e){this.useActivatedClass_=e}getSelectedIndex(){return this.selectedIndex_}setSelectedIndex(e){this.isIndexValid_(e)&&(this.isMulti_?this.setMultiSelectionAtIndex_(sd(e)):this.setSingleSelectionAtIndex_(e))}handleFocusIn(e,t){t>=0&&this.adapter.setTabIndexForElementIndex(t,0)}handleFocusOut(e,t){t>=0&&this.adapter.setTabIndexForElementIndex(t,-1),setTimeout((()=>{this.adapter.isFocusInsideList()||this.setTabindexToFirstSelectedItem_()}),0)}handleKeydown(e,t,n){const r="ArrowLeft"===Wl(e),i="ArrowUp"===Wl(e),a="ArrowRight"===Wl(e),o="ArrowDown"===Wl(e),s="Home"===Wl(e),c="End"===Wl(e),l="Enter"===Wl(e),d="Spacebar"===Wl(e);if(this.adapter.isRootFocused())return void(i||c?(e.preventDefault(),this.focusLastElement()):(o||s)&&(e.preventDefault(),this.focusFirstElement()));let u,p=this.adapter.getFocusedElementIndex();if(!(-1===p&&(p=n,p<0))){if(this.isVertical_&&o||!this.isVertical_&&a)this.preventDefaultEvent(e),u=this.focusNextElement(p);else if(this.isVertical_&&i||!this.isVertical_&&r)this.preventDefaultEvent(e),u=this.focusPrevElement(p);else if(s)this.preventDefaultEvent(e),u=this.focusFirstElement();else if(c)this.preventDefaultEvent(e),u=this.focusLastElement();else if((l||d)&&t){const t=e.target;if(t&&"A"===t.tagName&&l)return;this.preventDefaultEvent(e),this.setSelectedIndexOnAction_(p,!0)}this.focusedItemIndex_=p,void 0!==u&&(this.setTabindexAtIndex_(u),this.focusedItemIndex_=u)}}handleSingleSelection(e,t,n){e!==ed.UNSET_INDEX&&(this.setSelectedIndexOnAction_(e,t,n),this.setTabindexAtIndex_(e),this.focusedItemIndex_=e)}focusNextElement(e){let t=e+1;if(t>=this.adapter.getListItemCount()){if(!this.wrapFocus_)return e;t=0}return this.adapter.focusItemAtIndex(t),t}focusPrevElement(e){let t=e-1;if(t<0){if(!this.wrapFocus_)return e;t=this.adapter.getListItemCount()-1}return this.adapter.focusItemAtIndex(t),t}focusFirstElement(){return this.adapter.focusItemAtIndex(0),0}focusLastElement(){const e=this.adapter.getListItemCount()-1;return this.adapter.focusItemAtIndex(e),e}setEnabled(e,t){this.isIndexValid_(e)&&this.adapter.setDisabledStateForElementIndex(e,!t)}preventDefaultEvent(e){const t=`${e.target.tagName}`.toLowerCase();-1===ad.indexOf(t)&&e.preventDefault()}setSingleSelectionAtIndex_(e,t=!0){this.selectedIndex_!==e&&(this.selectedIndex_!==ed.UNSET_INDEX&&(this.adapter.setSelectedStateForElementIndex(this.selectedIndex_,!1),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(this.selectedIndex_,!1)),t&&this.adapter.setSelectedStateForElementIndex(e,!0),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(e,!0),this.setAriaForSingleSelectionAtIndex_(e),this.selectedIndex_=e,this.adapter.notifySelected(e))}setMultiSelectionAtIndex_(e,t=!0){const n=((e,t)=>{const n=Array.from(e),r=Array.from(t),i={added:[],removed:[]},a=n.sort(),o=r.sort();let s=0,c=0;for(;s<a.length||c<o.length;){const e=a[s],t=o[c];e!==t?void 0!==e&&(void 0===t||e<t)?(i.removed.push(e),s++):void 0!==t&&(void 0===e||t<e)&&(i.added.push(t),c++):(s++,c++)}return i})(sd(this.selectedIndex_),e);if(n.removed.length||n.added.length){for(const e of n.removed)t&&this.adapter.setSelectedStateForElementIndex(e,!1),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(e,!1);for(const e of n.added)t&&this.adapter.setSelectedStateForElementIndex(e,!0),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(e,!0);this.selectedIndex_=e,this.adapter.notifySelected(e,n)}}setAriaForSingleSelectionAtIndex_(e){this.selectedIndex_===ed.UNSET_INDEX&&(this.ariaCurrentAttrValue_=this.adapter.getAttributeForElementIndex(e,Jl.ARIA_CURRENT));const t=null!==this.ariaCurrentAttrValue_,n=t?Jl.ARIA_CURRENT:Jl.ARIA_SELECTED;this.selectedIndex_!==ed.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex_,n,"false");const r=t?this.ariaCurrentAttrValue_:"true";this.adapter.setAttributeForElementIndex(e,n,r)}setTabindexAtIndex_(e){this.focusedItemIndex_===ed.UNSET_INDEX&&0!==e?this.adapter.setTabIndexForElementIndex(0,-1):this.focusedItemIndex_>=0&&this.focusedItemIndex_!==e&&this.adapter.setTabIndexForElementIndex(this.focusedItemIndex_,-1),this.adapter.setTabIndexForElementIndex(e,0)}setTabindexToFirstSelectedItem_(){let e=0;"number"==typeof this.selectedIndex_&&this.selectedIndex_!==ed.UNSET_INDEX?e=this.selectedIndex_:od(this.selectedIndex_)&&this.selectedIndex_.size>0&&(e=Math.min(...this.selectedIndex_)),this.setTabindexAtIndex_(e)}isIndexValid_(e){if(e instanceof Set){if(!this.isMulti_)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");if(0===e.size)return!0;{let t=!1;for(const n of e)if(t=this.isIndexInRange_(n),t)break;return t}}if("number"==typeof e){if(this.isMulti_)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+e);return e===ed.UNSET_INDEX||this.isIndexInRange_(e)}return!1}isIndexInRange_(e){const t=this.adapter.getListItemCount();return e>=0&&e<t}setSelectedIndexOnAction_(e,t,n){if(this.adapter.getDisabledStateForElementIndex(e))return;let r=e;if(this.isMulti_&&(r=new Set([e])),this.isIndexValid_(r)){if(this.isMulti_)this.toggleMultiAtIndex(e,n,t);else if(t||n)this.setSingleSelectionAtIndex_(e,t);else{this.selectedIndex_===e&&this.setSingleSelectionAtIndex_(ed.UNSET_INDEX)}t&&this.adapter.notifyAction(e)}}toggleMultiAtIndex(e,t,n=!0){let r=!1;r=void 0===t?!this.adapter.getSelectedStateForElementIndex(e):t;const i=sd(this.selectedIndex_);r?i.add(e):i.delete(e),this.setMultiSelectionAtIndex_(i,n)}}const ld=e=>e.hasAttribute("mwc-list-item");function dd(){const e=this.itemsReadyResolver;this.itemsReady=new Promise((e=>this.itemsReadyResolver=e)),e()}class ud extends pe{constructor(){super(),this.mdcAdapter=null,this.mdcFoundationClass=cd,this.activatable=!1,this.multi=!1,this.wrapFocus=!1,this.itemRoles=null,this.innerRole=null,this.innerAriaLabel=null,this.rootTabbable=!1,this.previousTabindex=null,this.noninteractive=!1,this.itemsReadyResolver=()=>{},this.itemsReady=Promise.resolve([]),this.items_=[];const e=function(e,t=50){let n;return function(r=!0){clearTimeout(n),n=setTimeout((()=>{e(r)}),t)}}(this.layout.bind(this));this.debouncedLayout=(t=!0)=>{dd.call(this),e(t)}}async _getUpdateComplete(){await super._getUpdateComplete(),await this.itemsReady}get assignedElements(){const e=this.slotElement;return e?e.assignedNodes({flatten:!0}).filter(ae):[]}get items(){return this.items_}updateItems(){const e=this.assignedElements,t=[];for(const n of e)ld(n)&&(t.push(n),n._managingList=this),n.hasAttribute("divider")&&!n.hasAttribute("role")&&n.setAttribute("role","separator");this.items_=t;const n=new Set;if(this.items_.forEach(((e,t)=>{this.itemRoles?e.setAttribute("role",this.itemRoles):e.removeAttribute("role"),e.selected&&n.add(t)})),this.multi)this.select(n);else{const e=n.size?n.entries().next().value[1]:-1;this.select(e)}const r=new Event("items-updated",{bubbles:!0,composed:!0});this.dispatchEvent(r)}get selected(){const e=this.index;if(!od(e))return-1===e?null:this.items[e];const t=[];for(const n of e)t.push(this.items[n]);return t}get index(){return this.mdcFoundation?this.mdcFoundation.getSelectedIndex():-1}render(){const e=null===this.innerRole?void 0:this.innerRole,t=null===this.innerAriaLabel?void 0:this.innerAriaLabel,n=this.rootTabbable?"0":"-1";return l(td||(td=id`
      <!-- @ts-ignore -->
      <ul
          tabindex=${0}
          role="${0}"
          aria-label="${0}"
          class="mdc-list"
          @keydown=${0}
          @focusin=${0}
          @focusout=${0}
          @request-selected=${0}
          @list-item-rendered=${0}>
        <slot></slot>
        ${0}
      </ul>
    `),n,T(e),T(t),this.onKeydown,this.onFocusIn,this.onFocusOut,this.onRequestSelected,this.onListItemConnected,this.renderPlaceholder())}renderPlaceholder(){return void 0!==this.emptyMessage&&0===this.assignedElements.length?l(nd||(nd=id`
        <mwc-list-item noninteractive>${0}</mwc-list-item>
      `),this.emptyMessage):null}firstUpdated(){super.firstUpdated(),this.items.length||(this.mdcFoundation.setMulti(this.multi),this.layout())}onFocusIn(e){if(this.mdcFoundation&&this.mdcRoot){const t=this.getIndexOfTarget(e);this.mdcFoundation.handleFocusIn(e,t)}}onFocusOut(e){if(this.mdcFoundation&&this.mdcRoot){const t=this.getIndexOfTarget(e);this.mdcFoundation.handleFocusOut(e,t)}}onKeydown(e){if(this.mdcFoundation&&this.mdcRoot){const t=this.getIndexOfTarget(e),n=e.target,r=ld(n);this.mdcFoundation.handleKeydown(e,r,t)}}onRequestSelected(e){if(this.mdcFoundation){let t=this.getIndexOfTarget(e);if(-1===t&&(this.layout(),t=this.getIndexOfTarget(e),-1===t))return;if(this.items[t].disabled)return;const n=e.detail.selected,r=e.detail.source;this.mdcFoundation.handleSingleSelection(t,"interaction"===r,n),e.stopPropagation()}}getIndexOfTarget(e){const t=this.items,n=e.composedPath();for(const e of n){let n=-1;if(ae(e)&&ld(e)&&(n=t.indexOf(e)),-1!==n)return n}return-1}createAdapter(){return this.mdcAdapter={getListItemCount:()=>this.mdcRoot?this.items.length:0,getFocusedElementIndex:this.getFocusedItemIndex,getAttributeForElementIndex:(e,t)=>{if(!this.mdcRoot)return"";const n=this.items[e];return n?n.getAttribute(t):""},setAttributeForElementIndex:(e,t,n)=>{if(!this.mdcRoot)return;const r=this.items[e];r&&r.setAttribute(t,n)},focusItemAtIndex:e=>{const t=this.items[e];t&&t.focus()},setTabIndexForElementIndex:(e,t)=>{const n=this.items[e];n&&(n.tabindex=t)},notifyAction:e=>{const t={bubbles:!0,composed:!0};t.detail={index:e};const n=new CustomEvent("action",t);this.dispatchEvent(n)},notifySelected:(e,t)=>{const n={bubbles:!0,composed:!0};n.detail={index:e,diff:t};const r=new CustomEvent("selected",n);this.dispatchEvent(r)},isFocusInsideList:()=>ue(this),isRootFocused:()=>{const e=this.mdcRoot;return e.getRootNode().activeElement===e},setDisabledStateForElementIndex:(e,t)=>{const n=this.items[e];n&&(n.disabled=t)},getDisabledStateForElementIndex:e=>{const t=this.items[e];return!!t&&t.disabled},setSelectedStateForElementIndex:(e,t)=>{const n=this.items[e];n&&(n.selected=t)},getSelectedStateForElementIndex:e=>{const t=this.items[e];return!!t&&t.selected},setActivatedStateForElementIndex:(e,t)=>{const n=this.items[e];n&&(n.activated=t)}},this.mdcAdapter}selectUi(e,t=!1){const n=this.items[e];n&&(n.selected=!0,n.activated=t)}deselectUi(e){const t=this.items[e];t&&(t.selected=!1,t.activated=!1)}select(e){this.mdcFoundation&&this.mdcFoundation.setSelectedIndex(e)}toggle(e,t){this.multi&&this.mdcFoundation.toggleMultiAtIndex(e,t)}onListItemConnected(e){const t=e.target;this.layout(-1===this.items.indexOf(t))}layout(e=!0){e&&this.updateItems();const t=this.items[0];for(const e of this.items)e.tabindex=-1;t&&(this.noninteractive?this.previousTabindex||(this.previousTabindex=t):t.tabindex=0),this.itemsReadyResolver()}getFocusedItemIndex(){if(!this.mdcRoot)return-1;if(!this.items.length)return-1;const e=de();if(!e.length)return-1;for(let t=e.length-1;t>=0;t--){const n=e[t];if(ld(n))return this.items.indexOf(n)}return-1}focusItemAtIndex(e){for(const e of this.items)if(0===e.tabindex){e.tabindex=-1;break}this.items[e].tabindex=0,this.items[e].focus()}focus(){const e=this.mdcRoot;e&&e.focus()}blur(){const e=this.mdcRoot;e&&e.blur()}}re([v({type:String})],ud.prototype,"emptyMessage",void 0),re([b(".mdc-list")],ud.prototype,"mdcRoot",void 0),re([b("slot")],ud.prototype,"slotElement",void 0),re([v({type:Boolean}),he((function(e){this.mdcFoundation&&this.mdcFoundation.setUseActivatedClass(e)}))],ud.prototype,"activatable",void 0),re([v({type:Boolean}),he((function(e,t){this.mdcFoundation&&this.mdcFoundation.setMulti(e),void 0!==t&&this.layout()}))],ud.prototype,"multi",void 0),re([v({type:Boolean}),he((function(e){this.mdcFoundation&&this.mdcFoundation.setWrapFocus(e)}))],ud.prototype,"wrapFocus",void 0),re([v({type:String}),he((function(e,t){void 0!==t&&this.updateItems()}))],ud.prototype,"itemRoles",void 0),re([v({type:String})],ud.prototype,"innerRole",void 0),re([v({type:String})],ud.prototype,"innerAriaLabel",void 0),re([v({type:Boolean})],ud.prototype,"rootTabbable",void 0),re([v({type:Boolean,reflect:!0}),he((function(e){const t=this.slotElement;if(e&&t){const e=oe(t,'[tabindex="0"]');this.previousTabindex=e,e&&e.setAttribute("tabindex","-1")}else!e&&this.previousTabindex&&(this.previousTabindex.setAttribute("tabindex","0"),this.previousTabindex=null)}))],ud.prototype,"noninteractive",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const pd=c(rd||(rd=id`@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}:host{display:block}.mdc-list{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);line-height:1.5rem;margin:0;padding:8px 0;list-style-type:none;color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87));padding:var(--mdc-list-vertical-padding, 8px) 0}.mdc-list:focus{outline:none}.mdc-list-item{height:48px}.mdc-list--dense{padding-top:4px;padding-bottom:4px;font-size:.812rem}.mdc-list ::slotted([divider]){height:0;margin:0;border:none;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgba(0, 0, 0, 0.12)}.mdc-list ::slotted([divider][padded]){margin:0 var(--mdc-list-side-padding, 16px)}.mdc-list ::slotted([divider][inset]){margin-left:var(--mdc-list-inset-margin, 72px);margin-right:0;width:calc(100% - var(--mdc-list-inset-margin, 72px))}.mdc-list-group[dir=rtl] .mdc-list ::slotted([divider][inset]),[dir=rtl] .mdc-list-group .mdc-list ::slotted([divider][inset]){margin-left:0;margin-right:var(--mdc-list-inset-margin, 72px)}.mdc-list ::slotted([divider][inset][padded]){width:calc(100% - var(--mdc-list-inset-margin, 72px) - var(--mdc-list-side-padding, 16px))}.mdc-list--dense ::slotted([mwc-list-item]){height:40px}.mdc-list--dense ::slotted([mwc-list]){--mdc-list-item-graphic-size: 20px}.mdc-list--two-line.mdc-list--dense ::slotted([mwc-list-item]),.mdc-list--avatar-list.mdc-list--dense ::slotted([mwc-list-item]){height:60px}.mdc-list--avatar-list.mdc-list--dense ::slotted([mwc-list]){--mdc-list-item-graphic-size: 36px}:host([noninteractive]){pointer-events:none;cursor:default}.mdc-list--dense ::slotted(.mdc-list-item__primary-text){display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list--dense ::slotted(.mdc-list-item__primary-text)::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list--dense ::slotted(.mdc-list-item__primary-text)::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}`));class hd extends(J(ud)){static get scopedElements(){return{"mwc-list-item":bl}}}hd.styles=pd,
/**
 * @license
 * Copyright 2016 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(()=>{var e,t,n;const r=Symbol(),i=Symbol(),a=Symbol(),o=Symbol(),s=Symbol(),c=Symbol(),l=Symbol(),d=Symbol(),u=Symbol(),p=Symbol(),h=Symbol(),f=Symbol(),m=Symbol();class g{constructor(){this[e]=[],this[t]=[],this[n]=new Set}destructor(){this[u](this[a]);const e=this;e[r]=null,e[a]=null,e[i]=null}get top(){const e=this[r];return e[e.length-1]||null}push(e){e&&e!==this.top&&(this.remove(e),this[c](e),this[r].push(e))}remove(e){const t=this[r].indexOf(e);return-1!==t&&(this[r].splice(t,1),t===this[r].length&&this[c](this.top),!0)}pop(){const e=this.top;return e&&this.remove(e),e}has(e){return-1!==this[r].indexOf(e)}[(e=r,t=a,n=i,c)](e){const t=this[i],n=this[a];if(!e)return this[u](n),t.clear(),void(this[a]=[]);const r=this[p](e);if(r[r.length-1].parentNode!==document.body)throw Error("Non-connected element cannot be a blocking element");this[a]=r;const o=this[h](e);if(!n.length)return void this[d](r,o,t);let s=n.length-1,c=r.length-1;for(;s>0&&c>0&&n[s]===r[c];)s--,c--;n[s]!==r[c]&&this[l](n[s],r[c]),s>0&&this[u](n.slice(0,s)),c>0&&this[d](r.slice(0,c),o,null)}[l](e,t){const n=e[o];this[f](e)&&!e.inert&&(e.inert=!0,n.add(e)),n.has(t)&&(t.inert=!1,n.delete(t)),t[s]=e[s],t[o]=n,e[s]=void 0,e[o]=void 0}[u](e){for(const t of e){t[s].disconnect(),t[s]=void 0;const e=t[o];for(const t of e)t.inert=!1;t[o]=void 0}}[d](e,t,n){for(const r of e){const e=r.parentNode,i=e.children,a=new Set;for(let e=0;e<i.length;e++){const o=i[e];o===r||!this[f](o)||t&&t.has(o)||(n&&o.inert?n.add(o):(o.inert=!0,a.add(o)))}r[o]=a;const c=new MutationObserver(this[m].bind(this));r[s]=c;let l=e;const d=l;d.__shady&&d.host&&(l=d.host),c.observe(l,{childList:!0})}}[m](e){const t=this[a],n=this[i];for(const r of e){const e=r.target.host||r.target,i=e===document.body?t.length:t.indexOf(e),a=t[i-1],s=a[o];for(let e=0;e<r.removedNodes.length;e++){const t=r.removedNodes[e];if(t===a)return console.info("Detected removal of the top Blocking Element."),void this.pop();s.has(t)&&(t.inert=!1,s.delete(t))}for(let e=0;e<r.addedNodes.length;e++){const t=r.addedNodes[e];this[f](t)&&(n&&t.inert?n.add(t):(t.inert=!0,s.add(t)))}}}[f](e){return!1===/^(style|template|script)$/.test(e.localName)}[p](e){const t=[];let n=e;for(;n&&n!==document.body;)if(n.nodeType===Node.ELEMENT_NODE&&t.push(n),n.assignedSlot){for(;n=n.assignedSlot;)t.push(n);n=t.pop()}else n=n.parentNode||n.host;return t}[h](e){const t=e.shadowRoot;if(!t)return null;const n=new Set;let r,i,a;const o=t.querySelectorAll("slot");if(o.length&&o[0].assignedNodes)for(r=0;r<o.length;r++)for(a=o[r].assignedNodes({flatten:!0}),i=0;i<a.length;i++)a[i].nodeType===Node.ELEMENT_NODE&&n.add(a[i]);return n}}document.$blockingElements=new g})();var fd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function md(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(){if("undefined"!=typeof window){var e=Array.prototype.slice,t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","details","summary","iframe","object","embed","[contenteditable]"].join(","),r=function(){function r(e,t){md(this,r),this._inertManager=t,this._rootElement=e,this._managedNodes=new Set,this._rootElement.hasAttribute("aria-hidden")?this._savedAriaHidden=this._rootElement.getAttribute("aria-hidden"):this._savedAriaHidden=null,this._rootElement.setAttribute("aria-hidden","true"),this._makeSubtreeUnfocusable(this._rootElement),this._observer=new MutationObserver(this._onMutation.bind(this)),this._observer.observe(this._rootElement,{attributes:!0,childList:!0,subtree:!0})}return fd(r,[{key:"destructor",value:function(){this._observer.disconnect(),this._rootElement&&(null!==this._savedAriaHidden?this._rootElement.setAttribute("aria-hidden",this._savedAriaHidden):this._rootElement.removeAttribute("aria-hidden")),this._managedNodes.forEach((function(e){this._unmanageNode(e.node)}),this),this._observer=null,this._rootElement=null,this._managedNodes=null,this._inertManager=null}},{key:"_makeSubtreeUnfocusable",value:function(e){var t=this;s(e,(function(e){return t._visitNode(e)}));var n=document.activeElement;if(!document.body.contains(e)){for(var r=e,i=void 0;r;){if(r.nodeType===Node.DOCUMENT_FRAGMENT_NODE){i=r;break}r=r.parentNode}i&&(n=i.activeElement)}e.contains(n)&&(n.blur(),n===document.activeElement&&document.body.focus())}},{key:"_visitNode",value:function(e){if(e.nodeType===Node.ELEMENT_NODE){var r=e;r!==this._rootElement&&r.hasAttribute("inert")&&this._adoptInertRoot(r),(t.call(r,n)||r.hasAttribute("tabindex"))&&this._manageNode(r)}}},{key:"_manageNode",value:function(e){var t=this._inertManager.register(e,this);this._managedNodes.add(t)}},{key:"_unmanageNode",value:function(e){var t=this._inertManager.deregister(e,this);t&&this._managedNodes.delete(t)}},{key:"_unmanageSubtree",value:function(e){var t=this;s(e,(function(e){return t._unmanageNode(e)}))}},{key:"_adoptInertRoot",value:function(e){var t=this._inertManager.getInertRoot(e);t||(this._inertManager.setInert(e,!0),t=this._inertManager.getInertRoot(e)),t.managedNodes.forEach((function(e){this._manageNode(e.node)}),this)}},{key:"_onMutation",value:function(t,n){t.forEach((function(t){var n=t.target;if("childList"===t.type)e.call(t.addedNodes).forEach((function(e){this._makeSubtreeUnfocusable(e)}),this),e.call(t.removedNodes).forEach((function(e){this._unmanageSubtree(e)}),this);else if("attributes"===t.type)if("tabindex"===t.attributeName)this._manageNode(n);else if(n!==this._rootElement&&"inert"===t.attributeName&&n.hasAttribute("inert")){this._adoptInertRoot(n);var r=this._inertManager.getInertRoot(n);this._managedNodes.forEach((function(e){n.contains(e.node)&&r._manageNode(e.node)}))}}),this)}},{key:"managedNodes",get:function(){return new Set(this._managedNodes)}},{key:"hasSavedAriaHidden",get:function(){return null!==this._savedAriaHidden}},{key:"savedAriaHidden",set:function(e){this._savedAriaHidden=e},get:function(){return this._savedAriaHidden}}]),r}(),i=function(){function e(t,n){md(this,e),this._node=t,this._overrodeFocusMethod=!1,this._inertRoots=new Set([n]),this._savedTabIndex=null,this._destroyed=!1,this.ensureUntabbable()}return fd(e,[{key:"destructor",value:function(){if(this._throwIfDestroyed(),this._node&&this._node.nodeType===Node.ELEMENT_NODE){var e=this._node;null!==this._savedTabIndex?e.setAttribute("tabindex",this._savedTabIndex):e.removeAttribute("tabindex"),this._overrodeFocusMethod&&delete e.focus}this._node=null,this._inertRoots=null,this._destroyed=!0}},{key:"_throwIfDestroyed",value:function(){if(this.destroyed)throw new Error("Trying to access destroyed InertNode")}},{key:"ensureUntabbable",value:function(){if(this.node.nodeType===Node.ELEMENT_NODE){var e=this.node;if(t.call(e,n)){if(-1===e.tabIndex&&this.hasSavedTabIndex)return;e.hasAttribute("tabindex")&&(this._savedTabIndex=e.tabIndex),e.setAttribute("tabindex","-1"),e.nodeType===Node.ELEMENT_NODE&&(e.focus=function(){},this._overrodeFocusMethod=!0)}else e.hasAttribute("tabindex")&&(this._savedTabIndex=e.tabIndex,e.removeAttribute("tabindex"))}}},{key:"addInertRoot",value:function(e){this._throwIfDestroyed(),this._inertRoots.add(e)}},{key:"removeInertRoot",value:function(e){this._throwIfDestroyed(),this._inertRoots.delete(e),0===this._inertRoots.size&&this.destructor()}},{key:"destroyed",get:function(){return this._destroyed}},{key:"hasSavedTabIndex",get:function(){return null!==this._savedTabIndex}},{key:"node",get:function(){return this._throwIfDestroyed(),this._node}},{key:"savedTabIndex",set:function(e){this._throwIfDestroyed(),this._savedTabIndex=e},get:function(){return this._throwIfDestroyed(),this._savedTabIndex}}]),e}(),a=function(){function n(e){if(md(this,n),!e)throw new Error("Missing required argument; InertManager needs to wrap a document.");this._document=e,this._managedNodes=new Map,this._inertRoots=new Map,this._observer=new MutationObserver(this._watchForInert.bind(this)),c(e.head||e.body||e.documentElement),"loading"===e.readyState?e.addEventListener("DOMContentLoaded",this._onDocumentLoaded.bind(this)):this._onDocumentLoaded()}return fd(n,[{key:"setInert",value:function(e,t){if(t){if(this._inertRoots.has(e))return;var n=new r(e,this);if(e.setAttribute("inert",""),this._inertRoots.set(e,n),!this._document.body.contains(e))for(var i=e.parentNode;i;)11===i.nodeType&&c(i),i=i.parentNode}else{if(!this._inertRoots.has(e))return;this._inertRoots.get(e).destructor(),this._inertRoots.delete(e),e.removeAttribute("inert")}}},{key:"getInertRoot",value:function(e){return this._inertRoots.get(e)}},{key:"register",value:function(e,t){var n=this._managedNodes.get(e);return void 0!==n?n.addInertRoot(t):n=new i(e,t),this._managedNodes.set(e,n),n}},{key:"deregister",value:function(e,t){var n=this._managedNodes.get(e);return n?(n.removeInertRoot(t),n.destroyed&&this._managedNodes.delete(e),n):null}},{key:"_onDocumentLoaded",value:function(){e.call(this._document.querySelectorAll("[inert]")).forEach((function(e){this.setInert(e,!0)}),this),this._observer.observe(this._document.body||this._document.documentElement,{attributes:!0,subtree:!0,childList:!0})}},{key:"_watchForInert",value:function(n,r){var i=this;n.forEach((function(n){switch(n.type){case"childList":e.call(n.addedNodes).forEach((function(n){if(n.nodeType===Node.ELEMENT_NODE){var r=e.call(n.querySelectorAll("[inert]"));t.call(n,"[inert]")&&r.unshift(n),r.forEach((function(e){this.setInert(e,!0)}),i)}}),i);break;case"attributes":if("inert"!==n.attributeName)return;var r=n.target,a=r.hasAttribute("inert");i.setInert(r,a)}}),this)}}]),n}();if(!Element.prototype.hasOwnProperty("inert")){var o=new a(document);Object.defineProperty(Element.prototype,"inert",{enumerable:!0,get:function(){return this.hasAttribute("inert")},set:function(e){o.setInert(this,e)}})}}function s(e,t,n){if(e.nodeType==Node.ELEMENT_NODE){var r=e;t&&t(r);var i=r.shadowRoot;if(i)return void s(i,t);if("content"==r.localName){for(var a=r,o=a.getDistributedNodes?a.getDistributedNodes():[],c=0;c<o.length;c++)s(o[c],t);return}if("slot"==r.localName){for(var l=r,d=l.assignedNodes?l.assignedNodes({flatten:!0}):[],u=0;u<d.length;u++)s(d[u],t);return}}for(var p=e.firstChild;null!=p;)s(p,t),p=p.nextSibling}function c(e){if(!e.querySelector("style#inert-style, link#inert-style")){var t=document.createElement("style");t.setAttribute("id","inert-style"),t.textContent="\n[inert] {\n  pointer-events: none;\n  cursor: default;\n}\n\n[inert], [inert] * {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n",e.appendChild(t)}}}();
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var gd={ANIMATE:"mdc-drawer--animate",CLOSING:"mdc-drawer--closing",DISMISSIBLE:"mdc-drawer--dismissible",MODAL:"mdc-drawer--modal",OPEN:"mdc-drawer--open",OPENING:"mdc-drawer--opening",ROOT:"mdc-drawer"},vd={APP_CONTENT_SELECTOR:".mdc-drawer-app-content",CLOSE_EVENT:"MDCDrawer:closed",OPEN_EVENT:"MDCDrawer:opened",SCRIM_SELECTOR:".mdc-drawer-scrim"},yd=function(e){function t(n){var r=e.call(this,ne(ne({},t.defaultAdapter),n))||this;return r.animationFrame_=0,r.animationTimer_=0,r}return te(t,e),Object.defineProperty(t,"strings",{get:function(){return vd},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return gd},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},elementHasClass:function(){return!1},notifyClose:function(){},notifyOpen:function(){},saveFocus:function(){},restoreFocus:function(){},focusActiveNavigationItem:function(){},trapFocus:function(){},releaseFocus:function(){}}},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.animationFrame_&&cancelAnimationFrame(this.animationFrame_),this.animationTimer_&&clearTimeout(this.animationTimer_)},t.prototype.open=function(){var e=this;this.isOpen()||this.isOpening()||this.isClosing()||(this.adapter.addClass(gd.OPEN),this.adapter.addClass(gd.ANIMATE),this.runNextAnimationFrame_((function(){e.adapter.addClass(gd.OPENING)})),this.adapter.saveFocus())},t.prototype.close=function(){!this.isOpen()||this.isOpening()||this.isClosing()||this.adapter.addClass(gd.CLOSING)},t.prototype.isOpen=function(){return this.adapter.hasClass(gd.OPEN)},t.prototype.isOpening=function(){return this.adapter.hasClass(gd.OPENING)||this.adapter.hasClass(gd.ANIMATE)},t.prototype.isClosing=function(){return this.adapter.hasClass(gd.CLOSING)},t.prototype.handleKeydown=function(e){var t=e.keyCode;("Escape"===e.key||27===t)&&this.close()},t.prototype.handleTransitionEnd=function(e){var t=gd.OPENING,n=gd.CLOSING,r=gd.OPEN,i=gd.ANIMATE,a=gd.ROOT;this.isElement_(e.target)&&this.adapter.elementHasClass(e.target,a)&&(this.isClosing()?(this.adapter.removeClass(r),this.closed_(),this.adapter.restoreFocus(),this.adapter.notifyClose()):(this.adapter.focusActiveNavigationItem(),this.opened_(),this.adapter.notifyOpen()),this.adapter.removeClass(i),this.adapter.removeClass(t),this.adapter.removeClass(n))},t.prototype.opened_=function(){},t.prototype.closed_=function(){},t.prototype.runNextAnimationFrame_=function(e){var t=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame((function(){t.animationFrame_=0,clearTimeout(t.animationTimer_),t.animationTimer_=setTimeout(e,0)}))},t.prototype.isElement_=function(e){return Boolean(e.classList)},t}(fe),bd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return te(t,e),t.prototype.handleScrimClick=function(){this.close()},t.prototype.opened_=function(){this.adapter.trapFocus()},t.prototype.closed_=function(){this.adapter.releaseFocus()},t}(yd);let _d,xd,wd,kd,Ed=e=>e;
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const Cd=document.$blockingElements;class Sd extends pe{constructor(){super(...arguments),this._previousFocus=null,this.open=!1,this.hasHeader=!1,this.type=""}get mdcFoundationClass(){return"modal"===this.type?bd:yd}createAdapter(){return Object.assign(Object.assign({},se(this.mdcRoot)),{elementHasClass:(e,t)=>e.classList.contains(t),saveFocus:()=>{this._previousFocus=this.getRootNode().activeElement},restoreFocus:()=>{this._previousFocus&&this._previousFocus.focus&&this._previousFocus.focus()},notifyClose:()=>{this.open=!1,this.dispatchEvent(new Event(vd.CLOSE_EVENT,{bubbles:!0,cancelable:!0}))},notifyOpen:()=>{this.open=!0,this.dispatchEvent(new Event(vd.OPEN_EVENT,{bubbles:!0,cancelable:!0}))},focusActiveNavigationItem:()=>{},trapFocus:()=>{Cd.push(this),this.appContent.inert=!0},releaseFocus:()=>{Cd.remove(this),this.appContent.inert=!1}})}_handleScrimClick(){this.mdcFoundation instanceof bd&&this.mdcFoundation.handleScrimClick()}render(){const e="dismissible"===this.type||"modal"===this.type,t="modal"===this.type,n=this.hasHeader?l(_d||(_d=Ed`
      <div class="mdc-drawer__header">
        <h3 class="mdc-drawer__title"><slot name="title"></slot></h3>
        <h6 class="mdc-drawer__subtitle"><slot name="subtitle"></slot></h6>
        <slot name="header"></slot>
      </div>
      `)):"";return l(xd||(xd=Ed`
      <aside class="mdc-drawer ${0}">
        ${0}
        <div class="mdc-drawer__content"><slot></slot></div>
      </aside>
      ${0}
      <div class="mdc-drawer-app-content">
        <slot name="appContent"></slot>
      </div>
      `),S({"mdc-drawer--dismissible":e,"mdc-drawer--modal":t}),n,t?l(wd||(wd=Ed`<div class="mdc-drawer-scrim"
                          @click="${0}"></div>`),this._handleScrimClick):"")}firstUpdated(){this.mdcRoot.addEventListener("keydown",(e=>this.mdcFoundation.handleKeydown(e))),this.mdcRoot.addEventListener("transitionend",(e=>this.mdcFoundation.handleTransitionEnd(e)))}updated(e){e.has("type")&&this.createFoundation()}}re([b(".mdc-drawer")],Sd.prototype,"mdcRoot",void 0),re([b(".mdc-drawer-app-content")],Sd.prototype,"appContent",void 0),re([he((function(e){""!==this.type&&(e?this.mdcFoundation.open():this.mdcFoundation.close())})),v({type:Boolean,reflect:!0})],Sd.prototype,"open",void 0),re([v({type:Boolean})],Sd.prototype,"hasHeader",void 0),re([v({reflect:!0})],Sd.prototype,"type",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Ad=c(kd||(kd=Ed`.mdc-drawer{border-color:rgba(0, 0, 0, 0.12);background-color:#fff;background-color:var(--mdc-theme-surface, #fff);border-top-left-radius:0;border-top-right-radius:0;border-top-right-radius:var(--mdc-shape-large, 0);border-bottom-right-radius:0;border-bottom-right-radius:var(--mdc-shape-large, 0);border-bottom-left-radius:0;z-index:6;width:256px;display:flex;flex-direction:column;flex-shrink:0;box-sizing:border-box;height:100%;border-right-width:1px;border-right-style:solid;overflow:hidden;transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.mdc-drawer .mdc-drawer__title{color:rgba(0, 0, 0, 0.87)}.mdc-drawer .mdc-list-group__subheader{color:rgba(0, 0, 0, 0.6)}.mdc-drawer .mdc-drawer__subtitle{color:rgba(0, 0, 0, 0.6)}.mdc-drawer .mdc-list-item__graphic{color:rgba(0, 0, 0, 0.6)}.mdc-drawer .mdc-list-item{color:rgba(0, 0, 0, 0.87)}.mdc-drawer .mdc-list-item--activated .mdc-list-item__graphic{color:#6200ee}.mdc-drawer .mdc-list-item--activated{color:rgba(98, 0, 238, 0.87)}[dir=rtl] .mdc-drawer,.mdc-drawer[dir=rtl]{border-top-left-radius:0;border-top-left-radius:var(--mdc-shape-large, 0);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;border-bottom-left-radius:var(--mdc-shape-large, 0)}.mdc-drawer .mdc-list-item{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content{margin-left:256px;margin-right:0}[dir=rtl] .mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content,.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content[dir=rtl]{margin-left:0;margin-right:256px}[dir=rtl] .mdc-drawer,.mdc-drawer[dir=rtl]{border-right-width:0;border-left-width:1px;border-right-style:none;border-left-style:solid}.mdc-drawer .mdc-list-item{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-subtitle2-font-size, 0.875rem);line-height:1.375rem;line-height:var(--mdc-typography-subtitle2-line-height, 1.375rem);font-weight:500;font-weight:var(--mdc-typography-subtitle2-font-weight, 500);letter-spacing:0.0071428571em;letter-spacing:var(--mdc-typography-subtitle2-letter-spacing, 0.0071428571em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle2-text-transform, inherit);height:calc(48px - 2 * 4px);margin:8px 8px;padding:0 8px}.mdc-drawer .mdc-list-item:nth-child(1){margin-top:2px}.mdc-drawer .mdc-list-item:nth-last-child(1){margin-bottom:0}.mdc-drawer .mdc-list-group__subheader{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin:0;padding:0 16px}.mdc-drawer .mdc-list-group__subheader::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-drawer .mdc-list-divider{margin:3px 0 4px}.mdc-drawer .mdc-list-item__text,.mdc-drawer .mdc-list-item__graphic{pointer-events:none}.mdc-drawer--animate{transform:translateX(-100%)}[dir=rtl] .mdc-drawer--animate,.mdc-drawer--animate[dir=rtl]{transform:translateX(100%)}.mdc-drawer--opening{transform:translateX(0);transition-duration:250ms}[dir=rtl] .mdc-drawer--opening,.mdc-drawer--opening[dir=rtl]{transform:translateX(0)}.mdc-drawer--closing{transform:translateX(-100%);transition-duration:200ms}[dir=rtl] .mdc-drawer--closing,.mdc-drawer--closing[dir=rtl]{transform:translateX(100%)}.mdc-drawer__header{flex-shrink:0;box-sizing:border-box;min-height:64px;padding:0 16px 4px}.mdc-drawer__title{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:0.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-drawer__title::before{display:inline-block;width:0;height:36px;content:"";vertical-align:0}.mdc-drawer__title::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-drawer__subtitle{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-bottom:0}.mdc-drawer__subtitle::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-drawer__content{height:100%;overflow-y:auto;-webkit-overflow-scrolling:touch}.mdc-drawer--dismissible{left:0;right:initial;display:none;position:absolute}[dir=rtl] .mdc-drawer--dismissible,.mdc-drawer--dismissible[dir=rtl]{left:initial;right:0}.mdc-drawer--dismissible.mdc-drawer--open{display:flex}.mdc-drawer-app-content{margin-left:0;margin-right:0;position:relative}[dir=rtl] .mdc-drawer-app-content,.mdc-drawer-app-content[dir=rtl]{margin-left:0;margin-right:0}.mdc-drawer--modal{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2),0px 16px 24px 2px rgba(0, 0, 0, 0.14),0px 6px 30px 5px rgba(0,0,0,.12);left:0;right:initial;display:none;position:fixed}.mdc-drawer--modal+.mdc-drawer-scrim{background-color:rgba(0, 0, 0, 0.32)}[dir=rtl] .mdc-drawer--modal,.mdc-drawer--modal[dir=rtl]{left:initial;right:0}.mdc-drawer--modal.mdc-drawer--open{display:flex}.mdc-drawer-scrim{display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:5;transition-property:opacity;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.mdc-drawer--open+.mdc-drawer-scrim{display:block}.mdc-drawer--animate+.mdc-drawer-scrim{opacity:0}.mdc-drawer--opening+.mdc-drawer-scrim{transition-duration:250ms;opacity:1}.mdc-drawer--closing+.mdc-drawer-scrim{transition-duration:200ms;opacity:0}.mdc-drawer-app-content{overflow:auto;flex:1}:host{display:flex;height:100%}.mdc-drawer{width:256px;width:var(--mdc-drawer-width, 256px)}.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content{margin-left:256px;margin-left:var(--mdc-drawer-width, 256px);margin-right:0}[dir=rtl] .mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content,.mdc-drawer.mdc-drawer--open:not(.mdc-drawer--closing)+.mdc-drawer-app-content[dir=rtl]{margin-left:0;margin-right:256px;margin-right:var(--mdc-drawer-width, 256px)}`));class Td extends Sd{}Td.styles=Ad;
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var Id={CLOSING:"mdc-dialog--closing",OPEN:"mdc-dialog--open",OPENING:"mdc-dialog--opening",SCROLLABLE:"mdc-dialog--scrollable",SCROLL_LOCK:"mdc-dialog-scroll-lock",STACKED:"mdc-dialog--stacked"},Od={ACTION_ATTRIBUTE:"data-mdc-dialog-action",BUTTON_DEFAULT_ATTRIBUTE:"data-mdc-dialog-button-default",BUTTON_SELECTOR:".mdc-dialog__button",CLOSED_EVENT:"MDCDialog:closed",CLOSE_ACTION:"close",CLOSING_EVENT:"MDCDialog:closing",CONTAINER_SELECTOR:".mdc-dialog__container",CONTENT_SELECTOR:".mdc-dialog__content",DESTROY_ACTION:"destroy",INITIAL_FOCUS_ATTRIBUTE:"data-mdc-dialog-initial-focus",OPENED_EVENT:"MDCDialog:opened",OPENING_EVENT:"MDCDialog:opening",SCRIM_SELECTOR:".mdc-dialog__scrim",SUPPRESS_DEFAULT_PRESS_SELECTOR:["textarea",".mdc-menu .mdc-list-item"].join(", "),SURFACE_SELECTOR:".mdc-dialog__surface"},Rd={DIALOG_ANIMATION_CLOSE_TIME_MS:75,DIALOG_ANIMATION_OPEN_TIME_MS:150},Dd=function(e){function t(n){var r=e.call(this,ne(ne({},t.defaultAdapter),n))||this;return r.isOpen_=!1,r.animationFrame_=0,r.animationTimer_=0,r.layoutFrame_=0,r.escapeKeyAction_=Od.CLOSE_ACTION,r.scrimClickAction_=Od.CLOSE_ACTION,r.autoStackButtons_=!0,r.areButtonsStacked_=!1,r.suppressDefaultPressSelector=Od.SUPPRESS_DEFAULT_PRESS_SELECTOR,r}return te(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Id},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Od},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Rd},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addBodyClass:function(){},addClass:function(){},areButtonsStacked:function(){return!1},clickDefaultButton:function(){},eventTargetMatches:function(){return!1},getActionFromEvent:function(){return""},getInitialFocusEl:function(){return null},hasClass:function(){return!1},isContentScrollable:function(){return!1},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeBodyClass:function(){},removeClass:function(){},reverseButtons:function(){},trapFocus:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.adapter.hasClass(Id.STACKED)&&this.setAutoStackButtons(!1)},t.prototype.destroy=function(){this.isOpen_&&this.close(Od.DESTROY_ACTION),this.animationTimer_&&(clearTimeout(this.animationTimer_),this.handleAnimationTimerEnd_()),this.layoutFrame_&&(cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=0)},t.prototype.open=function(){var e=this;this.isOpen_=!0,this.adapter.notifyOpening(),this.adapter.addClass(Id.OPENING),this.runNextAnimationFrame_((function(){e.adapter.addClass(Id.OPEN),e.adapter.addBodyClass(Id.SCROLL_LOCK),e.layout(),e.animationTimer_=setTimeout((function(){e.handleAnimationTimerEnd_(),e.adapter.trapFocus(e.adapter.getInitialFocusEl()),e.adapter.notifyOpened()}),Rd.DIALOG_ANIMATION_OPEN_TIME_MS)}))},t.prototype.close=function(e){var t=this;void 0===e&&(e=""),this.isOpen_&&(this.isOpen_=!1,this.adapter.notifyClosing(e),this.adapter.addClass(Id.CLOSING),this.adapter.removeClass(Id.OPEN),this.adapter.removeBodyClass(Id.SCROLL_LOCK),cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,clearTimeout(this.animationTimer_),this.animationTimer_=setTimeout((function(){t.adapter.releaseFocus(),t.handleAnimationTimerEnd_(),t.adapter.notifyClosed(e)}),Rd.DIALOG_ANIMATION_CLOSE_TIME_MS))},t.prototype.isOpen=function(){return this.isOpen_},t.prototype.getEscapeKeyAction=function(){return this.escapeKeyAction_},t.prototype.setEscapeKeyAction=function(e){this.escapeKeyAction_=e},t.prototype.getScrimClickAction=function(){return this.scrimClickAction_},t.prototype.setScrimClickAction=function(e){this.scrimClickAction_=e},t.prototype.getAutoStackButtons=function(){return this.autoStackButtons_},t.prototype.setAutoStackButtons=function(e){this.autoStackButtons_=e},t.prototype.getSuppressDefaultPressSelector=function(){return this.suppressDefaultPressSelector},t.prototype.setSuppressDefaultPressSelector=function(e){this.suppressDefaultPressSelector=e},t.prototype.layout=function(){var e=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){e.layoutInternal_(),e.layoutFrame_=0}))},t.prototype.handleClick=function(e){if(this.adapter.eventTargetMatches(e.target,Od.SCRIM_SELECTOR)&&""!==this.scrimClickAction_)this.close(this.scrimClickAction_);else{var t=this.adapter.getActionFromEvent(e);t&&this.close(t)}},t.prototype.handleKeydown=function(e){var t="Enter"===e.key||13===e.keyCode;if(t&&!this.adapter.getActionFromEvent(e)){var n=e.composedPath?e.composedPath()[0]:e.target,r=!this.adapter.eventTargetMatches(n,this.suppressDefaultPressSelector);t&&r&&this.adapter.clickDefaultButton()}},t.prototype.handleDocumentKeydown=function(e){("Escape"===e.key||27===e.keyCode)&&""!==this.escapeKeyAction_&&this.close(this.escapeKeyAction_)},t.prototype.layoutInternal_=function(){this.autoStackButtons_&&this.detectStackedButtons_(),this.detectScrollableContent_()},t.prototype.handleAnimationTimerEnd_=function(){this.animationTimer_=0,this.adapter.removeClass(Id.OPENING),this.adapter.removeClass(Id.CLOSING)},t.prototype.runNextAnimationFrame_=function(e){var t=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame((function(){t.animationFrame_=0,clearTimeout(t.animationTimer_),t.animationTimer_=setTimeout(e,0)}))},t.prototype.detectStackedButtons_=function(){this.adapter.removeClass(Id.STACKED);var e=this.adapter.areButtonsStacked();e&&this.adapter.addClass(Id.STACKED),e!==this.areButtonsStacked_&&(this.adapter.reverseButtons(),this.areButtonsStacked_=e)},t.prototype.detectScrollableContent_=function(){this.adapter.removeClass(Id.SCROLLABLE),this.adapter.isContentScrollable()&&this.adapter.addClass(Id.SCROLLABLE)},t}(fe);
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
function Pd(e){return void 0===e&&(e=window),!!function(e){void 0===e&&(e=window);var t=!1;try{var n={get passive(){return t=!0,!1}},r=function(){};e.document.addEventListener("test",r,n),e.document.removeEventListener("test",r,n)}catch(e){t=!1}return t}(e)&&{passive:!0}}let Ld,Nd,Md,Fd,zd=e=>e;const Bd=document.$blockingElements;class jd extends pe{constructor(){super(...arguments),this.hideActions=!1,this.stacked=!1,this.heading="",this.scrimClickAction="close",this.escapeKeyAction="close",this.open=!1,this.defaultAction="close",this.actionAttribute="dialogAction",this.initialFocusAttribute="dialogInitialFocus",this.mdcFoundationClass=Dd,this.boundLayout=null,this.boundHandleClick=null,this.boundHandleKeydown=null,this.boundHandleDocumentKeydown=null}get primaryButton(){let e=this.primarySlot.assignedNodes();e=e.filter((e=>e instanceof HTMLElement));const t=e[0];return t||null}emitNotification(e,t){const n=new CustomEvent(e,{detail:t?{action:t}:{}});this.dispatchEvent(n)}getInitialFocusEl(){const e=`[${this.initialFocusAttribute}]`,t=this.querySelector(e);if(t)return t;const n=this.primarySlot.assignedNodes({flatten:!0}),r=this.searchNodeTreesForAttribute(n,this.initialFocusAttribute);if(r)return r;const i=this.secondarySlot.assignedNodes({flatten:!0}),a=this.searchNodeTreesForAttribute(i,this.initialFocusAttribute);if(a)return a;const o=this.contentSlot.assignedNodes({flatten:!0});return this.searchNodeTreesForAttribute(o,this.initialFocusAttribute)}searchNodeTreesForAttribute(e,t){for(const n of e)if(n instanceof HTMLElement){if(n.hasAttribute(t))return n;{const e=n.querySelector(`[${t}]`);if(e)return e}}return null}createAdapter(){return Object.assign(Object.assign({},se(this.mdcRoot)),{addBodyClass:()=>document.body.style.overflow="hidden",removeBodyClass:()=>document.body.style.overflow="",areButtonsStacked:()=>this.stacked,clickDefaultButton:()=>{const e=this.primaryButton;e&&e.click()},eventTargetMatches:(e,t)=>!!e&&ie(e,t),getActionFromEvent:e=>{if(!e.target)return"";const t=function(e,t){if(e.closest)return e.closest(t);for(var n=e;n;){if(ie(n,t))return n;n=n.parentElement}return null}(e.target,`[${this.actionAttribute}]`);return t&&t.getAttribute(this.actionAttribute)},getInitialFocusEl:()=>this.getInitialFocusEl(),isContentScrollable:()=>{const e=this.contentElement;return!!e&&e.scrollHeight>e.offsetHeight},notifyClosed:e=>this.emitNotification("closed",e),notifyClosing:e=>{this.closingDueToDisconnect||(this.open=!1),this.emitNotification("closing",e)},notifyOpened:()=>this.emitNotification("opened"),notifyOpening:()=>{this.open=!0,this.emitNotification("opening")},reverseButtons:()=>{},releaseFocus:()=>{Bd.remove(this)},trapFocus:e=>{Bd.push(this),e&&e.focus()}})}render(){const e={[Id.STACKED]:this.stacked};let t=l(Ld||(Ld=zd``));this.heading&&(t=this.renderHeading());const n={"mdc-dialog__actions":!this.hideActions};return l(Nd||(Nd=zd`
    <div class="mdc-dialog ${0}"
        role="alertdialog"
        aria-modal="true"
        aria-labelledby="title"
        aria-describedby="content">
      <div class="mdc-dialog__container">
        <div class="mdc-dialog__surface">
          ${0}
          <div id="content" class="mdc-dialog__content">
            <slot id="contentSlot"></slot>
          </div>
          <footer
              id="actions"
              class="${0}">
            <span>
              <slot name="secondaryAction"></slot>
            </span>
            <span>
             <slot name="primaryAction"></slot>
            </span>
          </footer>
        </div>
      </div>
      <div class="mdc-dialog__scrim"></div>
    </div>`),S(e),t,S(n))}renderHeading(){return l(Md||(Md=zd`
      <h2 id="title" class="mdc-dialog__title">${0}</h2>`),this.heading)}firstUpdated(){super.firstUpdated(),this.mdcFoundation.setAutoStackButtons(!0)}connectedCallback(){super.connectedCallback(),this.open&&this.mdcFoundation&&!this.mdcFoundation.isOpen()&&(this.setEventListeners(),this.mdcFoundation.open())}disconnectedCallback(){super.disconnectedCallback(),this.open&&this.mdcFoundation&&(this.removeEventListeners(),this.closingDueToDisconnect=!0,this.mdcFoundation.close(this.currentAction||this.defaultAction),this.closingDueToDisconnect=!1,this.currentAction=void 0,Bd.remove(this))}forceLayout(){this.mdcFoundation.layout()}focus(){const e=this.getInitialFocusEl();e&&e.focus()}blur(){if(!this.shadowRoot)return;const e=this.shadowRoot.activeElement;if(e)e instanceof HTMLElement&&e.blur();else{const e=this.getRootNode(),t=e instanceof Document?e.activeElement:null;t instanceof HTMLElement&&t.blur()}}setEventListeners(){this.boundHandleClick=this.mdcFoundation.handleClick.bind(this.mdcFoundation),this.boundLayout=()=>{this.open&&this.mdcFoundation.layout.bind(this.mdcFoundation)},this.boundHandleKeydown=this.mdcFoundation.handleKeydown.bind(this.mdcFoundation),this.boundHandleDocumentKeydown=this.mdcFoundation.handleDocumentKeydown.bind(this.mdcFoundation),this.mdcRoot.addEventListener("click",this.boundHandleClick),window.addEventListener("resize",this.boundLayout,Pd()),window.addEventListener("orientationchange",this.boundLayout,Pd()),this.mdcRoot.addEventListener("keydown",this.boundHandleKeydown,Pd()),document.addEventListener("keydown",this.boundHandleDocumentKeydown,Pd())}removeEventListeners(){this.boundHandleClick&&this.mdcRoot.removeEventListener("click",this.boundHandleClick),this.boundLayout&&(window.removeEventListener("resize",this.boundLayout),window.removeEventListener("orientationchange",this.boundLayout)),this.boundHandleKeydown&&this.mdcRoot.removeEventListener("keydown",this.boundHandleKeydown),this.boundHandleDocumentKeydown&&this.mdcRoot.removeEventListener("keydown",this.boundHandleDocumentKeydown)}close(){this.open=!1}show(){this.open=!0}}re([b(".mdc-dialog")],jd.prototype,"mdcRoot",void 0),re([b('slot[name="primaryAction"]')],jd.prototype,"primarySlot",void 0),re([b('slot[name="secondaryAction"]')],jd.prototype,"secondarySlot",void 0),re([b("#contentSlot")],jd.prototype,"contentSlot",void 0),re([b(".mdc-dialog__content")],jd.prototype,"contentElement",void 0),re([b(".mdc-container")],jd.prototype,"conatinerElement",void 0),re([v({type:Boolean})],jd.prototype,"hideActions",void 0),re([v({type:Boolean}),he((function(){this.forceLayout()}))],jd.prototype,"stacked",void 0),re([v({type:String})],jd.prototype,"heading",void 0),re([v({type:String}),he((function(e){this.mdcFoundation.setScrimClickAction(e)}))],jd.prototype,"scrimClickAction",void 0),re([v({type:String}),he((function(e){this.mdcFoundation.setEscapeKeyAction(e)}))],jd.prototype,"escapeKeyAction",void 0),re([v({type:Boolean,reflect:!0}),he((function(e){this.mdcFoundation&&this.isConnected&&(e?(this.setEventListeners(),this.mdcFoundation.open()):(this.removeEventListeners(),this.mdcFoundation.close(this.currentAction||this.defaultAction),this.currentAction=void 0))}))],jd.prototype,"open",void 0),re([v()],jd.prototype,"defaultAction",void 0),re([v()],jd.prototype,"actionAttribute",void 0),re([v()],jd.prototype,"initialFocusAttribute",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Hd=c(Fd||(Fd=zd`.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:0;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:#fff;background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:7}.mdc-dialog .mdc-dialog__surface{background-color:#fff;background-color:var(--mdc-theme-surface, #fff)}.mdc-dialog .mdc-dialog__scrim{background-color:rgba(0,0,0,.32)}.mdc-dialog .mdc-dialog__title{color:rgba(0,0,0,.87)}.mdc-dialog .mdc-dialog__content{color:rgba(0,0,0,.6)}.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__title,.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__actions{border-color:rgba(0,0,0,.12)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog .mdc-dialog__surface{border-radius:4px;border-radius:var(--mdc-shape-medium, 4px)}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2),0px 24px 38px 3px rgba(0, 0, 0, 0.14),0px 9px 46px 8px rgba(0,0,0,.12);display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-dialog[dir=rtl] .mdc-dialog__surface,[dir=rtl] .mdc-dialog .mdc-dialog__surface{text-align:right}.mdc-dialog__title{display:block;margin-top:0;line-height:normal;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:0.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit);position:relative;flex-shrink:0;box-sizing:border-box;margin:0;padding:0 24px 9px;border-bottom:1px solid transparent}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-dialog[dir=rtl] .mdc-dialog__title,[dir=rtl] .mdc-dialog .mdc-dialog__title{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{padding-bottom:15px}.mdc-dialog__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-body1-font-size, 1rem);line-height:1.5rem;line-height:var(--mdc-typography-body1-line-height, 1.5rem);font-weight:400;font-weight:var(--mdc-typography-body1-font-weight, 400);letter-spacing:0.03125em;letter-spacing:var(--mdc-typography-body1-letter-spacing, 0.03125em);text-decoration:inherit;text-decoration:var(--mdc-typography-body1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body1-text-transform, inherit);flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;-webkit-overflow-scrolling:touch}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid transparent}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-dialog[dir=rtl] .mdc-dialog__button,[dir=rtl] .mdc-dialog .mdc-dialog__button{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog-scroll-lock{overflow:hidden}#actions:not(.mdc-dialog__actions){display:none}.mdc-dialog__surface{box-shadow:var(--mdc-dialog-box-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}@media(min-width: 560px){.mdc-dialog .mdc-dialog__surface{max-width:560px;max-width:var(--mdc-dialog-max-width, 560px)}}.mdc-dialog .mdc-dialog__scrim{background-color:rgba(0, 0, 0, 0.32);background-color:var(--mdc-dialog-scrim-color, rgba(0, 0, 0, 0.32))}.mdc-dialog .mdc-dialog__title{color:rgba(0, 0, 0, 0.87);color:var(--mdc-dialog-heading-ink-color, rgba(0, 0, 0, 0.87))}.mdc-dialog .mdc-dialog__content{color:rgba(0, 0, 0, 0.6);color:var(--mdc-dialog-content-ink-color, rgba(0, 0, 0, 0.6))}.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__title,.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__actions{border-color:rgba(0, 0, 0, 0.12);border-color:var(--mdc-dialog-scroll-divider-color, rgba(0, 0, 0, 0.12))}.mdc-dialog .mdc-dialog__surface{min-width:280px;min-width:var(--mdc-dialog-min-width, 280px)}.mdc-dialog .mdc-dialog__surface{max-height:var(--mdc-dialog-max-height, calc(100% - 32px))}#actions ::slotted(*){margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] #actions ::slotted(*),#actions ::slotted(*)[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog[dir=rtl] #actions ::slotted(*),[dir=rtl] .mdc-dialog #actions ::slotted(*){text-align:left}.mdc-dialog--stacked #actions{flex-direction:column-reverse}.mdc-dialog--stacked #actions *:not(:last-child) ::slotted(*){flex-basis:1e-9px;margin-top:12px}`));class Vd extends jd{}Vd.styles=Hd;
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var $d,Ud,Gd={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},qd={CLOSED_EVENT:"MDCMenuSurface:closed",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},Xd={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67};!function(e){e[e.BOTTOM=1]="BOTTOM",e[e.CENTER=2]="CENTER",e[e.RIGHT=4]="RIGHT",e[e.FLIP_RTL=8]="FLIP_RTL"}($d||($d={})),function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=4]="TOP_RIGHT",e[e.BOTTOM_LEFT=1]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",e[e.TOP_START=8]="TOP_START",e[e.TOP_END=12]="TOP_END",e[e.BOTTOM_START=9]="BOTTOM_START",e[e.BOTTOM_END=13]="BOTTOM_END"}(Ud||(Ud={}));var Yd=function(e){function t(n){var r=e.call(this,ne(ne({},t.defaultAdapter),n))||this;return r.isSurfaceOpen=!1,r.isQuickOpen=!1,r.isHoistedElement=!1,r.isFixedPosition=!1,r.openAnimationEndTimerId=0,r.closeAnimationEndTimerId=0,r.animationRequestId=0,r.anchorCorner=Ud.TOP_START,r.originCorner=Ud.TOP_START,r.anchorMargin={top:0,right:0,bottom:0,left:0},r.position={x:0,y:0},r}return te(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Gd},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return qd},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Xd},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Corner",{get:function(){return Ud},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyOpen:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=t.cssClasses,n=e.ROOT,r=e.OPEN;if(!this.adapter.hasClass(n))throw new Error(n+" class required in root element.");this.adapter.hasClass(r)&&(this.isSurfaceOpen=!0)},t.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},t.prototype.setAnchorCorner=function(e){this.anchorCorner=e},t.prototype.flipCornerHorizontally=function(){this.originCorner=this.originCorner^$d.RIGHT},t.prototype.setAnchorMargin=function(e){this.anchorMargin.top=e.top||0,this.anchorMargin.right=e.right||0,this.anchorMargin.bottom=e.bottom||0,this.anchorMargin.left=e.left||0},t.prototype.setIsHoisted=function(e){this.isHoistedElement=e},t.prototype.setFixedPosition=function(e){this.isFixedPosition=e},t.prototype.setAbsolutePosition=function(e,t){this.position.x=this.isFinite(e)?e:0,this.position.y=this.isFinite(t)?t:0},t.prototype.setQuickOpen=function(e){this.isQuickOpen=e},t.prototype.isOpen=function(){return this.isSurfaceOpen},t.prototype.open=function(){var e=this;this.isSurfaceOpen||(this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(t.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(t.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame((function(){e.adapter.addClass(t.cssClasses.OPEN),e.dimensions=e.adapter.getInnerDimensions(),e.autoposition(),e.openAnimationEndTimerId=setTimeout((function(){e.openAnimationEndTimerId=0,e.adapter.removeClass(t.cssClasses.ANIMATING_OPEN),e.adapter.notifyOpen()}),Xd.TRANSITION_OPEN_DURATION)})),this.isSurfaceOpen=!0))},t.prototype.close=function(e){var n=this;void 0===e&&(e=!1),this.isSurfaceOpen&&(this.isQuickOpen?(this.isSurfaceOpen=!1,e||this.maybeRestoreFocus(),this.adapter.removeClass(t.cssClasses.OPEN),this.adapter.removeClass(t.cssClasses.IS_OPEN_BELOW),this.adapter.notifyClose()):(this.adapter.addClass(t.cssClasses.ANIMATING_CLOSED),requestAnimationFrame((function(){n.adapter.removeClass(t.cssClasses.OPEN),n.adapter.removeClass(t.cssClasses.IS_OPEN_BELOW),n.closeAnimationEndTimerId=setTimeout((function(){n.closeAnimationEndTimerId=0,n.adapter.removeClass(t.cssClasses.ANIMATING_CLOSED),n.adapter.notifyClose()}),Xd.TRANSITION_CLOSE_DURATION)})),this.isSurfaceOpen=!1,e||this.maybeRestoreFocus()))},t.prototype.handleBodyClick=function(e){var t=e.target;this.adapter.isElementInContainer(t)||this.close()},t.prototype.handleKeydown=function(e){var t=e.keyCode;("Escape"===e.key||27===t)&&this.close()},t.prototype.autoposition=function(){var e;this.measurements=this.getAutoLayoutmeasurements();var n=this.getoriginCorner(),r=this.getMenuSurfaceMaxHeight(n),i=this.hasBit(n,$d.BOTTOM)?"bottom":"top",a=this.hasBit(n,$d.RIGHT)?"right":"left",o=this.getHorizontalOriginOffset(n),s=this.getVerticalOriginOffset(n),c=this.measurements,l=c.anchorSize,d=c.surfaceSize,u=((e={})[a]=o,e[i]=s,e);l.width/d.width>Xd.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(a="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(u),this.adapter.setTransformOrigin(a+" "+i),this.adapter.setPosition(u),this.adapter.setMaxHeight(r?r+"px":""),this.hasBit(n,$d.BOTTOM)||this.adapter.addClass(t.cssClasses.IS_OPEN_BELOW)},t.prototype.getAutoLayoutmeasurements=function(){var e=this.adapter.getAnchorDimensions(),t=this.adapter.getBodyDimensions(),n=this.adapter.getWindowDimensions(),r=this.adapter.getWindowScroll();return e||(e={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:e,bodySize:t,surfaceSize:this.dimensions,viewportDistance:{top:e.top,right:n.width-e.right,bottom:n.height-e.bottom,left:e.left},viewportSize:n,windowScroll:r}},t.prototype.getoriginCorner=function(){var e,n,r=this.originCorner,i=this.measurements,a=i.viewportDistance,o=i.anchorSize,s=i.surfaceSize,c=t.numbers.MARGIN_TO_EDGE;this.hasBit(this.anchorCorner,$d.BOTTOM)?(e=a.top-c+o.height+this.anchorMargin.bottom,n=a.bottom-c-this.anchorMargin.bottom):(e=a.top-c+this.anchorMargin.top,n=a.bottom-c+o.height-this.anchorMargin.top),!(n-s.height>0)&&e>=n&&(r=this.setBit(r,$d.BOTTOM));var l,d,u=this.adapter.isRtl(),p=this.hasBit(this.anchorCorner,$d.FLIP_RTL),h=this.hasBit(this.anchorCorner,$d.RIGHT)||this.hasBit(r,$d.RIGHT),f=!1;(f=u&&p?!h:h)?(l=a.left+o.width+this.anchorMargin.right,d=a.right-this.anchorMargin.right):(l=a.left+this.anchorMargin.left,d=a.right+o.width-this.anchorMargin.left);var m=l-s.width>0,g=d-s.width>0,v=this.hasBit(r,$d.FLIP_RTL)&&this.hasBit(r,$d.RIGHT);return g&&v&&u||!m&&v?r=this.unsetBit(r,$d.RIGHT):(m&&f&&u||m&&!f&&h||!g&&l>=d)&&(r=this.setBit(r,$d.RIGHT)),r},t.prototype.getMenuSurfaceMaxHeight=function(e){var n=this.measurements.viewportDistance,r=0,i=this.hasBit(e,$d.BOTTOM),a=this.hasBit(this.anchorCorner,$d.BOTTOM),o=t.numbers.MARGIN_TO_EDGE;return i?(r=n.top+this.anchorMargin.top-o,a||(r+=this.measurements.anchorSize.height)):(r=n.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-o,a&&(r-=this.measurements.anchorSize.height)),r},t.prototype.getHorizontalOriginOffset=function(e){var t=this.measurements.anchorSize,n=this.hasBit(e,$d.RIGHT),r=this.hasBit(this.anchorCorner,$d.RIGHT);if(n){var i=r?t.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?i-(this.measurements.viewportSize.width-this.measurements.bodySize.width):i}return r?t.width-this.anchorMargin.right:this.anchorMargin.left},t.prototype.getVerticalOriginOffset=function(e){var t=this.measurements.anchorSize,n=this.hasBit(e,$d.BOTTOM),r=this.hasBit(this.anchorCorner,$d.BOTTOM);return n?r?t.height-this.anchorMargin.top:-this.anchorMargin.bottom:r?t.height+this.anchorMargin.bottom:this.anchorMargin.top},t.prototype.adjustPositionForHoistedElement=function(e){var t,n,r=this.measurements,i=r.windowScroll,a=r.viewportDistance,o=Object.keys(e);try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),c=s.next();!c.done;c=s.next()){var l=c.value,d=e[l]||0;d+=a[l],this.isFixedPosition||("top"===l?d+=i.y:"bottom"===l?d-=i.y:"left"===l?d+=i.x:d-=i.x),e[l]=d}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},t.prototype.maybeRestoreFocus=function(){var e=this.adapter.isFocused(),t=document.activeElement&&this.adapter.isElementInContainer(document.activeElement);(e||t)&&this.adapter.restoreFocus()},t.prototype.hasBit=function(e,t){return Boolean(e&t)},t.prototype.setBit=function(e,t){return e|t},t.prototype.unsetBit=function(e,t){return e^t},t.prototype.isFinite=function(e){return"number"==typeof e&&isFinite(e)},t}(fe);let Kd,Wd,Zd=e=>e;const Qd={TOP_LEFT:Ud.TOP_LEFT,TOP_RIGHT:Ud.TOP_RIGHT,BOTTOM_LEFT:Ud.BOTTOM_LEFT,BOTTOM_RIGHT:Ud.BOTTOM_RIGHT,TOP_START:Ud.TOP_START,TOP_END:Ud.TOP_END,BOTTOM_START:Ud.BOTTOM_START,BOTTOM_END:Ud.BOTTOM_END};class Jd extends pe{constructor(){super(...arguments),this.mdcFoundationClass=Yd,this.absolute=!1,this.fullwidth=!1,this.fixed=!1,this.x=null,this.y=null,this.quick=!1,this.open=!1,this.bitwiseCorner=Ud.TOP_START,this.previousMenuCorner=null,this.menuCorner="START",this.corner="TOP_START",this.styleTop="",this.styleLeft="",this.styleRight="",this.styleBottom="",this.styleMaxHeight="",this.styleTransformOrigin="",this.anchor=null,this.previouslyFocused=null,this.previousAnchor=null,this.onBodyClickBound=()=>{}}render(){const e={"mdc-menu-surface--fixed":this.fixed,"mdc-menu-surface--fullwidth":this.fullwidth},t={top:this.styleTop,left:this.styleLeft,right:this.styleRight,bottom:this.styleBottom,"max-height":this.styleMaxHeight,"transform-origin":this.styleTransformOrigin};return l(Kd||(Kd=Zd`
      <div
          class="mdc-menu-surface ${0}"
          style="${0}"
          @keydown=${0}
          @opened=${0}
          @closed=${0}>
        <slot></slot>
      </div>`),S(e),O(t),this.onKeydown,this.registerBodyClick,this.deregisterBodyClick)}createAdapter(){return Object.assign(Object.assign({},se(this.mdcRoot)),{hasAnchor:()=>!!this.anchor,notifyClose:()=>{const e=new CustomEvent("closed",{bubbles:!0,composed:!0});this.open=!1,this.mdcRoot.dispatchEvent(e)},notifyOpen:()=>{const e=new CustomEvent("opened",{bubbles:!0,composed:!0});this.open=!0,this.mdcRoot.dispatchEvent(e)},isElementInContainer:()=>!1,isRtl:()=>!!this.mdcRoot&&"rtl"===getComputedStyle(this.mdcRoot).direction,setTransformOrigin:e=>{this.mdcRoot&&(this.styleTransformOrigin=e)},isFocused:()=>ue(this),saveFocus:()=>{const e=de(),t=e.length;t||(this.previouslyFocused=null),this.previouslyFocused=e[t-1]},restoreFocus:()=>{this.previouslyFocused&&"focus"in this.previouslyFocused&&this.previouslyFocused.focus()},getInnerDimensions:()=>{const e=this.mdcRoot;return e?{width:e.offsetWidth,height:e.offsetHeight}:{width:0,height:0}},getAnchorDimensions:()=>{const e=this.anchor;return e?e.getBoundingClientRect():null},getBodyDimensions:()=>({width:document.body.clientWidth,height:document.body.clientHeight}),getWindowDimensions:()=>({width:window.innerWidth,height:window.innerHeight}),getWindowScroll:()=>({x:window.pageXOffset,y:window.pageYOffset}),setPosition:e=>{this.mdcRoot&&(this.styleLeft="left"in e?`${e.left}px`:"",this.styleRight="right"in e?`${e.right}px`:"",this.styleTop="top"in e?`${e.top}px`:"",this.styleBottom="bottom"in e?`${e.bottom}px`:"")},setMaxHeight:async e=>{this.mdcRoot&&(this.styleMaxHeight=e,await this.updateComplete,this.styleMaxHeight=`var(--mdc-menu-max-height, ${e})`)}})}onKeydown(e){this.mdcFoundation&&this.mdcFoundation.handleKeydown(e)}onBodyClick(e){-1===e.composedPath().indexOf(this)&&this.close()}registerBodyClick(){this.onBodyClickBound=this.onBodyClick.bind(this),document.body.addEventListener("click",this.onBodyClickBound,{passive:!0,capture:!0})}deregisterBodyClick(){document.body.removeEventListener("click",this.onBodyClickBound,{capture:!0})}close(){this.open=!1}show(){this.open=!0}}re([b(".mdc-menu-surface")],Jd.prototype,"mdcRoot",void 0),re([b("slot")],Jd.prototype,"slotElement",void 0),re([v({type:Boolean}),he((function(e){this.mdcFoundation&&!this.fixed&&this.mdcFoundation.setIsHoisted(e)}))],Jd.prototype,"absolute",void 0),re([v({type:Boolean})],Jd.prototype,"fullwidth",void 0),re([v({type:Boolean}),he((function(e){this.mdcFoundation&&!this.absolute&&this.mdcFoundation.setIsHoisted(e)}))],Jd.prototype,"fixed",void 0),re([v({type:Number}),he((function(e){this.mdcFoundation&&null!==this.y&&null!==e&&(this.mdcFoundation.setAbsolutePosition(e,this.y),this.mdcFoundation.setAnchorMargin({left:e,top:this.y,right:-e,bottom:this.y}))}))],Jd.prototype,"x",void 0),re([v({type:Number}),he((function(e){this.mdcFoundation&&null!==this.x&&null!==e&&(this.mdcFoundation.setAbsolutePosition(this.x,e),this.mdcFoundation.setAnchorMargin({left:this.x,top:e,right:-this.x,bottom:e}))}))],Jd.prototype,"y",void 0),re([v({type:Boolean}),he((function(e){this.mdcFoundation&&this.mdcFoundation.setQuickOpen(e)}))],Jd.prototype,"quick",void 0),re([v({type:Boolean,reflect:!0}),he((function(e,t){this.mdcFoundation&&(e?this.mdcFoundation.open():void 0!==t&&this.mdcFoundation.close())}))],Jd.prototype,"open",void 0),re([y(),he((function(e){this.mdcFoundation&&this.mdcFoundation.setAnchorCorner(e)}))],Jd.prototype,"bitwiseCorner",void 0),re([v({type:String}),he((function(e){if(this.mdcFoundation){const t="START"===e||"END"===e,n=null===this.previousMenuCorner,r=!n&&e!==this.previousMenuCorner,i=n&&"END"===e;t&&(r||i)&&(this.bitwiseCorner=this.bitwiseCorner^$d.RIGHT,this.mdcFoundation.flipCornerHorizontally(),this.previousMenuCorner=e)}}))],Jd.prototype,"menuCorner",void 0),re([v({type:String}),he((function(e){if(this.mdcFoundation&&e){let t=Qd[e];"END"===this.menuCorner&&(t^=$d.RIGHT),this.bitwiseCorner=t}}))],Jd.prototype,"corner",void 0),re([y()],Jd.prototype,"styleTop",void 0),re([y()],Jd.prototype,"styleLeft",void 0),re([y()],Jd.prototype,"styleRight",void 0),re([y()],Jd.prototype,"styleBottom",void 0),re([y()],Jd.prototype,"styleMaxHeight",void 0),re([y()],Jd.prototype,"styleTransformOrigin",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const eu=c(Wd||(Wd=Zd`.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-height:calc(100vh - 32px);margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;transition:opacity .03s linear,transform .12s cubic-bezier(0, 0, 0.2, 1),height 250ms cubic-bezier(0, 0, 0.2, 1);box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12);background-color:#fff;background-color:var(--mdc-theme-surface, #fff);color:#000;color:var(--mdc-theme-on-surface, #000);border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0;transition:opacity .075s linear}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}:host(:not([open])){display:none}.mdc-menu-surface{z-index:8;z-index:var(--mdc-menu-z-index, 8);max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px))}`));class tu extends Jd{}tu.styles=eu;
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var nu={animation:{prefixed:"-webkit-animation",standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}},ru={animationend:{cssProperty:"animation",prefixed:"webkitAnimationEnd",standard:"animationend"},animationiteration:{cssProperty:"animation",prefixed:"webkitAnimationIteration",standard:"animationiteration"},animationstart:{cssProperty:"animation",prefixed:"webkitAnimationStart",standard:"animationstart"},transitionend:{cssProperty:"transition",prefixed:"webkitTransitionEnd",standard:"transitionend"}};function iu(e){return Boolean(e.document)&&"function"==typeof e.document.createElement}
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var au=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),ou={ACTIVE:"mdc-slider--active",DISABLED:"mdc-slider--disabled",DISCRETE:"mdc-slider--discrete",FOCUS:"mdc-slider--focus",HAS_TRACK_MARKER:"mdc-slider--display-markers",IN_TRANSIT:"mdc-slider--in-transit",IS_DISCRETE:"mdc-slider--discrete",DISABLE_TOUCH_ACTION:"mdc-slider--disable-touch-action"},su={ARIA_DISABLED:"aria-disabled",ARIA_VALUEMAX:"aria-valuemax",ARIA_VALUEMIN:"aria-valuemin",ARIA_VALUENOW:"aria-valuenow",CHANGE_EVENT:"MDCSlider:change",INPUT_EVENT:"MDCSlider:input",PIN_VALUE_MARKER_SELECTOR:".mdc-slider__pin-value-marker",STEP_DATA_ATTR:"data-step",THUMB_CONTAINER_SELECTOR:".mdc-slider__thumb-container",TRACK_MARKER_CONTAINER_SELECTOR:".mdc-slider__track-marker-container",TRACK_SELECTOR:".mdc-slider__track"},cu={PAGE_FACTOR:4},lu="undefined"!=typeof window,du=lu&&!!window.PointerEvent,uu=du?["pointerdown"]:["mousedown","touchstart"],pu=du?["pointerup"]:["mouseup","touchend"],hu={mousedown:"mousemove",pointerdown:"pointermove",touchstart:"touchmove"},fu="ArrowDown",mu="ArrowLeft",gu="ArrowRight",vu="ArrowUp",yu="End",bu="Home",_u="PageDown",xu="PageUp",wu=function(e){function t(n){var r=e.call(this,ne(ne({},t.defaultAdapter),n))||this;return r.savedTabIndex_=NaN,r.active_=!1,r.inTransit_=!1,r.isDiscrete_=!1,r.hasTrackMarker_=!1,r.handlingThumbTargetEvt_=!1,r.min_=0,r.max_=100,r.step_=0,r.value_=0,r.disabled_=!1,r.preventFocusState_=!1,r.thumbContainerPointerHandler_=function(){return r.handlingThumbTargetEvt_=!0},r.interactionStartHandler_=function(e){return r.handleDown_(e)},r.keydownHandler_=function(e){return r.handleKeydown_(e)},r.focusHandler_=function(){return r.handleFocus_()},r.blurHandler_=function(){return r.handleBlur_()},r.resizeHandler_=function(){return r.layout()},r}return te(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return ou},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return su},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return cu},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{hasClass:function(){return!1},addClass:function(){},removeClass:function(){},getAttribute:function(){return null},setAttribute:function(){},removeAttribute:function(){},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getTabIndex:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},registerThumbContainerInteractionHandler:function(){},deregisterThumbContainerInteractionHandler:function(){},registerBodyInteractionHandler:function(){},deregisterBodyInteractionHandler:function(){},registerResizeHandler:function(){},deregisterResizeHandler:function(){},notifyInput:function(){},notifyChange:function(){},setThumbContainerStyleProperty:function(){},setTrackStyleProperty:function(){},setMarkerValue:function(){},setTrackMarkers:function(){},isRTL:function(){return!1}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this;this.isDiscrete_=this.adapter.hasClass(ou.IS_DISCRETE),this.hasTrackMarker_=this.adapter.hasClass(ou.HAS_TRACK_MARKER),uu.forEach((function(t){e.adapter.registerInteractionHandler(t,e.interactionStartHandler_),e.adapter.registerThumbContainerInteractionHandler(t,e.thumbContainerPointerHandler_)})),du&&this.adapter.addClass(ou.DISABLE_TOUCH_ACTION),this.adapter.registerInteractionHandler("keydown",this.keydownHandler_),this.adapter.registerInteractionHandler("focus",this.focusHandler_),this.adapter.registerInteractionHandler("blur",this.blurHandler_),this.adapter.registerResizeHandler(this.resizeHandler_),this.layout(),this.isDiscrete_&&0===this.getStep()&&(this.step_=1)},t.prototype.destroy=function(){var e=this;uu.forEach((function(t){e.adapter.deregisterInteractionHandler(t,e.interactionStartHandler_),e.adapter.deregisterThumbContainerInteractionHandler(t,e.thumbContainerPointerHandler_)})),this.adapter.deregisterInteractionHandler("keydown",this.keydownHandler_),this.adapter.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter.deregisterResizeHandler(this.resizeHandler_)},t.prototype.setupTrackMarker=function(){this.isDiscrete_&&this.hasTrackMarker_&&0!==this.getStep()&&this.adapter.setTrackMarkers(this.getStep(),this.getMax(),this.getMin())},t.prototype.layout=function(){this.rect_=this.adapter.computeBoundingRect(),this.updateUIForCurrentValue_()},t.prototype.getValue=function(){return this.value_},t.prototype.setValue=function(e){this.setValue_(e,!1)},t.prototype.getMax=function(){return this.max_},t.prototype.setMax=function(e){if(e<this.min_)throw new Error("Cannot set max to be less than the slider's minimum value");this.max_=e,this.setValue_(this.value_,!1,!0),this.adapter.setAttribute(su.ARIA_VALUEMAX,String(this.max_)),this.setupTrackMarker()},t.prototype.getMin=function(){return this.min_},t.prototype.setMin=function(e){if(e>this.max_)throw new Error("Cannot set min to be greater than the slider's maximum value");this.min_=e,this.setValue_(this.value_,!1,!0),this.adapter.setAttribute(su.ARIA_VALUEMIN,String(this.min_)),this.setupTrackMarker()},t.prototype.getStep=function(){return this.step_},t.prototype.setStep=function(e){if(e<0)throw new Error("Step cannot be set to a negative number");this.isDiscrete_&&("number"!=typeof e||e<1)&&(e=1),this.step_=e,this.setValue_(this.value_,!1,!0),this.setupTrackMarker()},t.prototype.isDisabled=function(){return this.disabled_},t.prototype.setDisabled=function(e){this.disabled_=e,this.toggleClass_(ou.DISABLED,this.disabled_),this.disabled_?(this.savedTabIndex_=this.adapter.getTabIndex(),this.adapter.setAttribute(su.ARIA_DISABLED,"true"),this.adapter.removeAttribute("tabindex")):(this.adapter.removeAttribute(su.ARIA_DISABLED),isNaN(this.savedTabIndex_)||this.adapter.setAttribute("tabindex",String(this.savedTabIndex_)))},t.prototype.handleDown_=function(e){var t=this;if(!this.disabled_){this.preventFocusState_=!0,this.setInTransit_(!this.handlingThumbTargetEvt_),this.handlingThumbTargetEvt_=!1,this.setActive_(!0);var n=function(e){t.handleMove_(e)},r=hu[e.type],i=function(){t.handleUp_(),t.adapter.deregisterBodyInteractionHandler(r,n),pu.forEach((function(e){return t.adapter.deregisterBodyInteractionHandler(e,i)}))};this.adapter.registerBodyInteractionHandler(r,n),pu.forEach((function(e){return t.adapter.registerBodyInteractionHandler(e,i)})),this.setValueFromEvt_(e)}},t.prototype.handleMove_=function(e){e.preventDefault(),this.setValueFromEvt_(e)},t.prototype.handleUp_=function(){this.setActive_(!1),this.adapter.notifyChange()},t.prototype.getClientX_=function(e){return e.targetTouches&&e.targetTouches.length>0?e.targetTouches[0].clientX:e.clientX},t.prototype.setValueFromEvt_=function(e){var t=this.getClientX_(e),n=this.computeValueFromClientX_(t);this.setValue_(n,!0)},t.prototype.computeValueFromClientX_=function(e){var t=this.max_,n=this.min_,r=(e-this.rect_.left)/this.rect_.width;return this.adapter.isRTL()&&(r=1-r),n+r*(t-n)},t.prototype.handleKeydown_=function(e){var t=this.getKeyId_(e),n=this.getValueForKeyId_(t);isNaN(n)||(e.preventDefault(),this.adapter.addClass(ou.FOCUS),this.setValue_(n,!0),this.adapter.notifyChange())},t.prototype.getKeyId_=function(e){return e.key===mu||37===e.keyCode?mu:e.key===gu||39===e.keyCode?gu:e.key===vu||38===e.keyCode?vu:e.key===fu||40===e.keyCode?fu:e.key===bu||36===e.keyCode?bu:e.key===yu||35===e.keyCode?yu:e.key===xu||33===e.keyCode?xu:e.key===_u||34===e.keyCode?_u:""},t.prototype.getValueForKeyId_=function(e){var t=this,n=t.max_,r=t.min_,i=t.step_||(n-r)/100;switch(this.adapter.isRTL()&&(e===mu||e===gu)&&(i=-i),e){case mu:case fu:return this.value_-i;case gu:case vu:return this.value_+i;case bu:return this.min_;case yu:return this.max_;case xu:return this.value_+i*cu.PAGE_FACTOR;case _u:return this.value_-i*cu.PAGE_FACTOR;default:return NaN}},t.prototype.handleFocus_=function(){this.preventFocusState_||this.adapter.addClass(ou.FOCUS)},t.prototype.handleBlur_=function(){this.preventFocusState_=!1,this.adapter.removeClass(ou.FOCUS)},t.prototype.setValue_=function(e,t,n){if(void 0===n&&(n=!1),e!==this.value_||n){var r=this.min_,i=this.max_,a=e===r||e===i;this.step_&&!a&&(e=this.quantize_(e)),e<r?e=r:e>i&&(e=i),e=e||0,this.value_=e,this.adapter.setAttribute(su.ARIA_VALUENOW,String(this.value_)),this.updateUIForCurrentValue_(),t&&(this.adapter.notifyInput(),this.isDiscrete_&&this.adapter.setMarkerValue(e))}},t.prototype.quantize_=function(e){return Math.round(e/this.step_)*this.step_},t.prototype.updateUIForCurrentValue_=function(){var e=this,t=this,n=t.max_,r=t.min_,i=(t.value_-r)/(n-r),a=i*this.rect_.width;this.adapter.isRTL()&&(a=this.rect_.width-a);var o=lu?function(e,t){if(iu(e)&&t in nu){var n=e.document.createElement("div"),r=nu[t],i=r.standard,a=r.prefixed;return i in n.style?i:a}return t}(window,"transform"):"transform",s=lu?function(e,t){if(iu(e)&&t in ru){var n=e.document.createElement("div"),r=ru[t],i=r.standard,a=r.prefixed;return r.cssProperty in n.style?i:a}return t}(window,"transitionend"):"transitionend";if(this.inTransit_){var c=function(){e.setInTransit_(!1),e.adapter.deregisterThumbContainerInteractionHandler(s,c)};this.adapter.registerThumbContainerInteractionHandler(s,c)}requestAnimationFrame((function(){e.adapter.setThumbContainerStyleProperty(o,"translateX("+a+"px) translateX(-50%)"),e.adapter.setTrackStyleProperty(o,"scaleX("+i+")")}))},t.prototype.setActive_=function(e){this.active_=e,this.toggleClass_(ou.ACTIVE,this.active_)},t.prototype.setInTransit_=function(e){this.inTransit_=e,this.toggleClass_(ou.IN_TRANSIT,this.inTransit_)},t.prototype.toggleClass_=function(e,t){t?this.adapter.addClass(e):this.adapter.removeClass(e)},t}(au);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */let ku,Eu,Cu,Su,Au=e=>e;class Tu extends zo{constructor(){super(...arguments),this.mdcFoundationClass=wu,this.min=0,this.max=100,this._value=0,this.step=0,this.disabled=!1,this.pin=!1,this.markers=!1,this.pinMarkerText="",this.trackMarkerContainerStyles={},this.thumbContainerStyles={},this.trackStyles={},this.isFoundationDestroyed=!1}set value(e){this.mdcFoundation&&this.mdcFoundation.setValue(e),this._value=e,this.requestUpdate("value",e)}get value(){return this.mdcFoundation?this.mdcFoundation.getValue():this._value}render(){const e=0!==this.step,t={"mdc-slider--discrete":e,"mdc-slider--display-markers":this.markers&&e};let n="";e&&this.markers&&(n=l(ku||(ku=Au`
        <div
            class="mdc-slider__track-marker-container"
            style="${0}">
        </div>`),O(this.trackMarkerContainerStyles)));let r="";return this.pin&&(r=l(Eu||(Eu=Au`
      <div class="mdc-slider__pin">
        <span class="mdc-slider__pin-value-marker">${0}</span>
      </div>`),this.pinMarkerText)),l(Cu||(Cu=Au`
      <div class="mdc-slider ${0}"
           tabindex="0" role="slider"
           aria-valuemin="${0}" aria-valuemax="${0}"
           aria-valuenow="${0}"
           aria-disabled="${0}"
           data-step="${0}"
           @mousedown=${0}
           @touchstart=${0}>
        <div class="mdc-slider__track-container">
          <div
              class="mdc-slider__track"
              style="${0}">
          </div>
          ${0}
        </div>
        <div
            class="mdc-slider__thumb-container"
            style="${0}">
          <!-- TODO: use cache() directive -->
          ${0}
          <svg class="mdc-slider__thumb" width="21" height="21">
            <circle cx="10.5" cy="10.5" r="7.875"></circle>
          </svg>
        <div class="mdc-slider__focus-ring"></div>
      </div>
    </div>`),S(t),this.min,this.max,this.value,this.disabled.toString(),this.step,this.layout,this.layout,O(this.trackStyles),n,O(this.thumbContainerStyles),r)}connectedCallback(){super.connectedCallback(),this.mdcRoot&&this.isFoundationDestroyed&&(this.isFoundationDestroyed=!1,this.mdcFoundation.init())}updated(e){const t=e.has("min"),n=e.has("max");t&&n?this.max<this.mdcFoundation.getMin()?(this.mdcFoundation.setMin(this.min),this.mdcFoundation.setMax(this.max)):(this.mdcFoundation.setMax(this.max),this.mdcFoundation.setMin(this.min)):t?this.mdcFoundation.setMin(this.min):n&&this.mdcFoundation.setMax(this.max),super.updated(e)}disconnectedCallback(){super.disconnectedCallback(),this.isFoundationDestroyed=!0,this.mdcFoundation.destroy()}createAdapter(){return Object.assign(Object.assign({},se(this.mdcRoot)),{getAttribute:e=>this.mdcRoot.getAttribute(e),setAttribute:(e,t)=>this.mdcRoot.setAttribute(e,t),removeAttribute:e=>this.mdcRoot.removeAttribute(e),computeBoundingRect:()=>{const e=this.mdcRoot.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left+window.pageXOffset,right:e.right,top:e.top,width:e.width}},getTabIndex:()=>this.mdcRoot.tabIndex,registerInteractionHandler:(e,t)=>{const n="touchstart"===e?Pd():void 0;this.mdcRoot.addEventListener(e,t,n)},deregisterInteractionHandler:(e,t)=>this.mdcRoot.removeEventListener(e,t),registerThumbContainerInteractionHandler:(e,t)=>{const n="touchstart"===e?Pd():void 0;this.thumbContainer.addEventListener(e,t,n)},deregisterThumbContainerInteractionHandler:(e,t)=>this.thumbContainer.removeEventListener(e,t),registerBodyInteractionHandler:(e,t)=>document.body.addEventListener(e,t),deregisterBodyInteractionHandler:(e,t)=>document.body.removeEventListener(e,t),registerResizeHandler:e=>window.addEventListener("resize",e,Pd()),deregisterResizeHandler:e=>window.removeEventListener("resize",e),notifyInput:()=>{const e=this.mdcFoundation.getValue();e!==this._value&&(this.value=e,this.dispatchEvent(new CustomEvent("input",{detail:this,composed:!0,bubbles:!0,cancelable:!0})))},notifyChange:()=>{this.dispatchEvent(new CustomEvent("change",{detail:this,composed:!0,bubbles:!0,cancelable:!0}))},setThumbContainerStyleProperty:(e,t)=>{this.thumbContainerStyles[e]=t,this.requestUpdate()},setTrackStyleProperty:(e,t)=>{this.trackStyles[e]=t,this.requestUpdate()},setMarkerValue:e=>this.pinMarkerText=e.toLocaleString(),setTrackMarkers:(e,t,n)=>{const r=e.toLocaleString(),i=`linear-gradient(to right, currentColor 2px, transparent 0) ${`0 center / calc((100% - 2px) / ${`((${t.toLocaleString()} - ${n.toLocaleString()}) / ${r})`}) 100% repeat-x`}`;this.trackMarkerContainerStyles.background=i,this.requestUpdate()},isRTL:()=>"rtl"===getComputedStyle(this.mdcRoot).direction})}resetFoundation(){this.mdcFoundation&&(this.mdcFoundation.destroy(),this.mdcFoundation.init())}async firstUpdated(){await super.firstUpdated(),this.mdcFoundation.setValue(this._value)}layout(){this.mdcFoundation.layout()}}re([b(".mdc-slider")],Tu.prototype,"mdcRoot",void 0),re([b(".mdc-slider")],Tu.prototype,"formElement",void 0),re([b(".mdc-slider__thumb-container")],Tu.prototype,"thumbContainer",void 0),re([b(".mdc-slider__pin-value-marker")],Tu.prototype,"pinMarker",void 0),re([v({type:Number})],Tu.prototype,"min",void 0),re([v({type:Number})],Tu.prototype,"max",void 0),re([v({type:Number})],Tu.prototype,"value",null),re([v({type:Number}),he((function(e,t){0!==t!==(0!==e)&&this.resetFoundation(),this.mdcFoundation.setStep(e)}))],Tu.prototype,"step",void 0),re([v({type:Boolean,reflect:!0}),he((function(e){this.mdcFoundation.setDisabled(e)}))],Tu.prototype,"disabled",void 0),re([v({type:Boolean,reflect:!0})],Tu.prototype,"pin",void 0),re([v({type:Boolean,reflect:!0}),he((function(){this.mdcFoundation.setupTrackMarker()}))],Tu.prototype,"markers",void 0),re([v({type:String})],Tu.prototype,"pinMarkerText",void 0),re([v({type:Object})],Tu.prototype,"trackMarkerContainerStyles",void 0),re([v({type:Object})],Tu.prototype,"thumbContainerStyles",void 0),re([v({type:Object})],Tu.prototype,"trackStyles",void 0),re([k({capture:!0,passive:!0})],Tu.prototype,"layout",null);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Iu=c(Su||(Su=Au`@keyframes mdc-slider-emphasize{0%{animation-timing-function:ease-out}50%{animation-timing-function:ease-in;transform:scale(0.85)}100%{transform:scale(0.571)}}.mdc-slider{position:relative;width:100%;height:48px;cursor:pointer;touch-action:pan-x;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__track{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__track-container::after{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786);opacity:.26}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__track-marker-container{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__thumb{fill:#018786;fill:var(--mdc-theme-secondary, #018786);stroke:#018786;stroke:var(--mdc-theme-secondary, #018786)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__focus-ring{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__pin{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-slider:not(.mdc-slider--disabled) .mdc-slider__pin{color:#fff;color:var(--mdc-theme-text-primary-on-dark, white)}.mdc-slider--disable-touch-action{touch-action:none}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__track{background-color:#9a9a9a}.mdc-slider--disabled .mdc-slider__track-container::after{background-color:#9a9a9a;opacity:.26}.mdc-slider--disabled .mdc-slider__track-marker-container{background-color:#9a9a9a}.mdc-slider--disabled .mdc-slider__thumb{fill:#9a9a9a;stroke:#9a9a9a}.mdc-slider--disabled .mdc-slider__thumb{stroke:#fff;stroke:var(--mdc-slider-bg-color-behind-component, white)}.mdc-slider:focus{outline:none}.mdc-slider__track-container{position:absolute;top:50%;width:100%;height:2px;overflow:hidden}.mdc-slider__track-container::after{position:absolute;top:0;left:0;display:block;width:100%;height:100%;content:""}.mdc-slider__track{position:absolute;width:100%;height:100%;transform-origin:left top;will-change:transform}.mdc-slider[dir=rtl] .mdc-slider__track,[dir=rtl] .mdc-slider .mdc-slider__track{transform-origin:right top}.mdc-slider__track-marker-container{display:flex;margin-right:0;margin-left:-1px;visibility:hidden}.mdc-slider[dir=rtl] .mdc-slider__track-marker-container,[dir=rtl] .mdc-slider .mdc-slider__track-marker-container{margin-right:-1px;margin-left:0}.mdc-slider__track-marker-container::after{display:block;width:2px;height:2px;content:""}.mdc-slider__track-marker{flex:1}.mdc-slider__track-marker::after{display:block;width:2px;height:2px;content:""}.mdc-slider__track-marker:first-child::after{width:3px}.mdc-slider__thumb-container{position:absolute;top:15px;left:0;width:21px;height:100%;user-select:none;will-change:transform}.mdc-slider__thumb{position:absolute;top:0;left:0;transform:scale(0.571);stroke-width:3.5;transition:transform 100ms ease-out,fill 100ms ease-out,stroke 100ms ease-out}.mdc-slider__focus-ring{width:21px;height:21px;border-radius:50%;opacity:0;transition:transform 266.67ms ease-out,opacity 266.67ms ease-out,background-color 266.67ms ease-out}.mdc-slider__pin{display:flex;position:absolute;top:0;left:0;align-items:center;justify-content:center;width:26px;height:26px;margin-top:-2px;margin-left:-2px;transform:rotate(-45deg) scale(0) translate(0, 0);border-radius:50% 50% 50% 0%;z-index:1;transition:transform 100ms ease-out}.mdc-slider__pin-value-marker{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);transform:rotate(45deg)}.mdc-slider--active .mdc-slider__thumb{transform:scale3d(1, 1, 1)}.mdc-slider--focus .mdc-slider__thumb{animation:mdc-slider-emphasize 266.67ms linear}.mdc-slider--focus .mdc-slider__focus-ring{transform:scale3d(1.55, 1.55, 1.55);opacity:.25}.mdc-slider--in-transit .mdc-slider__thumb{transition-delay:140ms}.mdc-slider--in-transit .mdc-slider__thumb-container,.mdc-slider--in-transit .mdc-slider__track,.mdc-slider:focus:not(.mdc-slider--active) .mdc-slider__thumb-container,.mdc-slider:focus:not(.mdc-slider--active) .mdc-slider__track{transition:transform 80ms ease}.mdc-slider--discrete.mdc-slider--active .mdc-slider__thumb{transform:scale(calc(12 / 21))}.mdc-slider--discrete.mdc-slider--active .mdc-slider__pin{transform:rotate(-45deg) scale(1) translate(19px, -20px)}.mdc-slider--discrete.mdc-slider--focus .mdc-slider__thumb{animation:none}.mdc-slider--discrete.mdc-slider--display-markers .mdc-slider__track-marker-container{visibility:visible}:host{display:inline-block;min-width:120px;outline:none}`));class Ou extends Tu{}Ou.styles=Iu;
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ru={CHECKED:"mdc-switch--checked",DISABLED:"mdc-switch--disabled"},Du={ARIA_CHECKED_ATTR:"aria-checked",NATIVE_CONTROL_SELECTOR:".mdc-switch__native-control",RIPPLE_SURFACE_SELECTOR:".mdc-switch__thumb-underlay"},Pu=function(e){function t(n){return e.call(this,ne(ne({},t.defaultAdapter),n))||this}return te(t,e),Object.defineProperty(t,"strings",{get:function(){return Du},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return Ru},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlChecked:function(){},setNativeControlDisabled:function(){},setNativeControlAttr:function(){}}},enumerable:!0,configurable:!0}),t.prototype.setChecked=function(e){this.adapter.setNativeControlChecked(e),this.updateAriaChecked_(e),this.updateCheckedStyling_(e)},t.prototype.setDisabled=function(e){this.adapter.setNativeControlDisabled(e),e?this.adapter.addClass(Ru.DISABLED):this.adapter.removeClass(Ru.DISABLED)},t.prototype.handleChange=function(e){var t=e.target;this.updateAriaChecked_(t.checked),this.updateCheckedStyling_(t.checked)},t.prototype.updateCheckedStyling_=function(e){e?this.adapter.addClass(Ru.CHECKED):this.adapter.removeClass(Ru.CHECKED)},t.prototype.updateAriaChecked_=function(e){this.adapter.setNativeControlAttr(Du.ARIA_CHECKED_ATTR,""+!!e)},t}(fe);let Lu,Nu,Mu,Fu=e=>e;class zu extends zo{constructor(){super(...arguments),this.checked=!1,this.disabled=!1,this.shouldRenderRipple=!1,this.mdcFoundationClass=Pu,this.rippleHandlers=new Xe((()=>(this.shouldRenderRipple=!0,this.ripple)))}changeHandler(e){this.mdcFoundation.handleChange(e),this.checked=this.formElement.checked}createAdapter(){return Object.assign(Object.assign({},se(this.mdcRoot)),{setNativeControlChecked:e=>{this.formElement.checked=e},setNativeControlDisabled:e=>{this.formElement.disabled=e},setNativeControlAttr:(e,t)=>{this.formElement.setAttribute(e,t)}})}renderRipple(){return this.shouldRenderRipple?l(Lu||(Lu=Fu`
        <mwc-ripple 
          .accent="${0}"
          .disabled="${0}"
          unbounded>
        </mwc-ripple>`),this.checked,this.disabled):""}focus(){const e=this.formElement;e&&(this.rippleHandlers.startFocus(),e.focus())}blur(){const e=this.formElement;e&&(this.rippleHandlers.endFocus(),e.blur())}render(){return l(Nu||(Nu=Fu`
      <div class="mdc-switch">
        <div class="mdc-switch__track"></div>
        <div class="mdc-switch__thumb-underlay">
          ${0}
          <div class="mdc-switch__thumb">
            <input
              type="checkbox"
              id="basic-switch"
              class="mdc-switch__native-control"
              role="switch"
              @change="${0}"
              @focus="${0}"
              @blur="${0}"
              @mousedown="${0}"
              @mouseenter="${0}"
              @mouseleave="${0}"
              @touchstart="${0}"
              @touchend="${0}"
              @touchcancel="${0}">
          </div>
        </div>
      </div>`),this.renderRipple(),this.changeHandler,this.handleRippleFocus,this.handleRippleBlur,this.handleRippleMouseDown,this.handleRippleMouseEnter,this.handleRippleMouseLeave,this.handleRippleTouchStart,this.handleRippleDeactivate,this.handleRippleDeactivate)}handleRippleMouseDown(e){const t=()=>{window.removeEventListener("mouseup",t),this.handleRippleDeactivate()};window.addEventListener("mouseup",t),this.rippleHandlers.startPress(e)}handleRippleTouchStart(e){this.rippleHandlers.startPress(e)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}}re([v({type:Boolean}),he((function(e){this.mdcFoundation.setChecked(e)}))],zu.prototype,"checked",void 0),re([v({type:Boolean}),he((function(e){this.mdcFoundation.setDisabled(e)}))],zu.prototype,"disabled",void 0),re([b(".mdc-switch")],zu.prototype,"mdcRoot",void 0),re([b("input")],zu.prototype,"formElement",void 0),re([_("mwc-ripple")],zu.prototype,"ripple",void 0),re([y()],zu.prototype,"shouldRenderRipple",void 0),re([k({passive:!0})],zu.prototype,"handleRippleMouseDown",null),re([k({passive:!0})],zu.prototype,"handleRippleTouchStart",null);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Bu=c(Mu||(Mu=Fu`.mdc-switch__thumb-underlay{left:-14px;right:initial;top:-17px;width:48px;height:48px}[dir=rtl] .mdc-switch__thumb-underlay,.mdc-switch__thumb-underlay[dir=rtl]{left:initial;right:-14px}.mdc-switch__native-control{width:64px;height:48px}.mdc-switch{display:inline-block;position:relative;outline:none;user-select:none}.mdc-switch.mdc-switch--checked .mdc-switch__track{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-switch.mdc-switch--checked .mdc-switch__thumb{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786);border-color:#018786;border-color:var(--mdc-theme-secondary, #018786)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__track{background-color:#000;background-color:var(--mdc-theme-on-surface, #000)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb{background-color:#fff;background-color:var(--mdc-theme-surface, #fff);border-color:#fff;border-color:var(--mdc-theme-surface, #fff)}.mdc-switch__native-control{left:0;right:initial;position:absolute;top:0;margin:0;opacity:0;cursor:pointer;pointer-events:auto;transition:transform 90ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-switch__native-control,.mdc-switch__native-control[dir=rtl]{left:initial;right:0}.mdc-switch__track{box-sizing:border-box;width:36px;height:14px;border:1px solid transparent;border-radius:7px;opacity:.38;transition:opacity 90ms cubic-bezier(0.4, 0, 0.2, 1),background-color 90ms cubic-bezier(0.4, 0, 0.2, 1),border-color 90ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch__thumb-underlay{display:flex;position:absolute;align-items:center;justify-content:center;transform:translateX(0);transition:transform 90ms cubic-bezier(0.4, 0, 0.2, 1),background-color 90ms cubic-bezier(0.4, 0, 0.2, 1),border-color 90ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch__thumb{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0,0,0,.12);box-sizing:border-box;width:20px;height:20px;border:10px solid;border-radius:50%;pointer-events:none;z-index:1}.mdc-switch--checked .mdc-switch__track{opacity:.54}.mdc-switch--checked .mdc-switch__thumb-underlay{transform:translateX(16px)}[dir=rtl] .mdc-switch--checked .mdc-switch__thumb-underlay,.mdc-switch--checked .mdc-switch__thumb-underlay[dir=rtl]{transform:translateX(-16px)}.mdc-switch--checked .mdc-switch__native-control{transform:translateX(-16px)}[dir=rtl] .mdc-switch--checked .mdc-switch__native-control,.mdc-switch--checked .mdc-switch__native-control[dir=rtl]{transform:translateX(16px)}.mdc-switch--disabled{opacity:.38;pointer-events:none}.mdc-switch--disabled .mdc-switch__thumb{border-width:1px}.mdc-switch--disabled .mdc-switch__native-control{cursor:default;pointer-events:none}:host{display:inline-flex;outline:none;-webkit-tap-highlight-color:transparent}`));class ju extends(J(zu)){static get scopedElements(){return{"mwc-ripple":ct}}}ju.styles=Bu;let Hu,Vu,$u=e=>e;class Uu extends s{constructor(){super(...arguments),this.indeterminate=!1,this.progress=0,this.buffer=1,this.reverse=!1,this.closed=!1,this.ariaLabel="",this.stylePrimaryHalf="",this.stylePrimaryFull="",this.styleSecondaryQuarter="",this.styleSecondaryHalf="",this.styleSecondaryFull="",this.animationReady=!0,this.closedAnimationOff=!1,this.resizeObserver=null}connectedCallback(){super.connectedCallback(),this.rootEl&&this.attachResizeObserver()}render(){const e={"mdc-linear-progress--closed":this.closed,"mdc-linear-progress--closed-animation-off":this.closedAnimationOff,"mdc-linear-progress--indeterminate":this.indeterminate,"mdc-linear-progress--reversed":this.reverse,"mdc-linear-progress--animation-ready":this.animationReady},t={"--mdc-linear-progress-primary-half":this.stylePrimaryHalf,"--mdc-linear-progress-primary-half-neg":""!==this.stylePrimaryHalf?`-${this.stylePrimaryHalf}`:"","--mdc-linear-progress-primary-full":this.stylePrimaryFull,"--mdc-linear-progress-primary-full-neg":""!==this.stylePrimaryFull?`-${this.stylePrimaryFull}`:"","--mdc-linear-progress-secondary-quarter":this.styleSecondaryQuarter,"--mdc-linear-progress-secondary-quarter-neg":""!==this.styleSecondaryQuarter?`-${this.styleSecondaryQuarter}`:"","--mdc-linear-progress-secondary-half":this.styleSecondaryHalf,"--mdc-linear-progress-secondary-half-neg":""!==this.styleSecondaryHalf?`-${this.styleSecondaryHalf}`:"","--mdc-linear-progress-secondary-full":this.styleSecondaryFull,"--mdc-linear-progress-secondary-full-neg":""!==this.styleSecondaryFull?`-${this.styleSecondaryFull}`:""},n={"flex-basis":this.indeterminate?"100%":100*this.buffer+"%"},r={transform:this.indeterminate?"scaleX(1)":`scaleX(${this.progress})`};return l(Hu||(Hu=$u`
      <div
          role="progressbar"
          class="mdc-linear-progress ${0}"
          style=${0}
          aria-label=${0}
          aria-valuemin="0"
          aria-valuemax="1"
          aria-valuenow=${0}
        @transitionend=${0}>
        <div class="mdc-linear-progress__buffer">
          <div
            class="mdc-linear-progress__buffer-bar"
            style=${0}>
          </div>
          <div class="mdc-linear-progress__buffer-dots"></div>
        </div>
        <div
            class="mdc-linear-progress__bar mdc-linear-progress__primary-bar"
            style=${0}>
          <span class="mdc-linear-progress__bar-inner"></span>
        </div>
        <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar">
          <span class="mdc-linear-progress__bar-inner"></span>
        </div>
      </div>`),S(e),O(t),T(this.ariaLabel?this.ariaLabel:void 0),T(this.indeterminate?void 0:this.progress),this.syncClosedState,O(n),O(r))}update(e){!e.has("closed")||this.closed&&void 0!==e.get("closed")||this.syncClosedState(),super.update(e)}async firstUpdated(e){super.firstUpdated(e),this.attachResizeObserver()}syncClosedState(){this.closedAnimationOff=this.closed}updated(e){!e.has("indeterminate")&&e.has("reverse")&&this.indeterminate&&this.restartAnimation(),e.has("indeterminate")&&void 0!==e.get("indeterminate")&&this.indeterminate&&window.ResizeObserver&&this.calculateAndSetAnimationDimensions(this.rootEl.offsetWidth),super.updated(e)}disconnectedCallback(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),super.disconnectedCallback()}attachResizeObserver(){if(window.ResizeObserver)return this.resizeObserver=new ResizeObserver((e=>{if(this.indeterminate)for(const t of e)if(t.contentRect){const e=t.contentRect.width;this.calculateAndSetAnimationDimensions(e)}})),void this.resizeObserver.observe(this.rootEl);this.resizeObserver=null}calculateAndSetAnimationDimensions(e){const t=.8367142*e,n=2.00611057*e,r=.37651913*e,i=.84386165*e,a=1.60277782*e;this.stylePrimaryHalf=`${t}px`,this.stylePrimaryFull=`${n}px`,this.styleSecondaryQuarter=`${r}px`,this.styleSecondaryHalf=`${i}px`,this.styleSecondaryFull=`${a}px`,this.restartAnimation()}async restartAnimation(){this.animationReady=!1,await this.updateComplete,await new Promise(requestAnimationFrame),this.animationReady=!0,await this.updateComplete}open(){this.closed=!1}close(){this.closed=!0}}re([b(".mdc-linear-progress")],Uu.prototype,"rootEl",void 0),re([v({type:Boolean,reflect:!0})],Uu.prototype,"indeterminate",void 0),re([v({type:Number})],Uu.prototype,"progress",void 0),re([v({type:Number})],Uu.prototype,"buffer",void 0),re([v({type:Boolean,reflect:!0})],Uu.prototype,"reverse",void 0),re([v({type:Boolean,reflect:!0})],Uu.prototype,"closed",void 0),re([v()],Uu.prototype,"ariaLabel",void 0),re([y()],Uu.prototype,"stylePrimaryHalf",void 0),re([y()],Uu.prototype,"stylePrimaryFull",void 0),re([y()],Uu.prototype,"styleSecondaryQuarter",void 0),re([y()],Uu.prototype,"styleSecondaryHalf",void 0),re([y()],Uu.prototype,"styleSecondaryFull",void 0),re([y()],Uu.prototype,"animationReady",void 0),re([y()],Uu.prototype,"closedAnimationOff",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Gu=c(Vu||(Vu=$u`@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%);transform:translateX(var(--mdc-linear-progress-primary-half, 83.67142%))}100%{transform:translateX(200.611057%);transform:translateX(var(--mdc-linear-progress-primary-full, 200.611057%))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%);transform:translateX(var(--mdc-linear-progress-secondary-quarter, 37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%);transform:translateX(var(--mdc-linear-progress-secondary-half, 84.386165%))}100%{transform:translateX(160.277782%);transform:translateX(var(--mdc-linear-progress-secondary-full, 160.277782%))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(-10px)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%);transform:translateX(var(--mdc-linear-progress-primary-half-neg, -83.67142%))}100%{transform:translateX(-200.611057%);transform:translateX(var(--mdc-linear-progress-primary-full-neg, -200.611057%))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg, -37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%);transform:translateX(var(--mdc-linear-progress-secondary-half-neg, -84.386165%))}100%{transform:translateX(-160.277782%);transform:translateX(var(--mdc-linear-progress-secondary-full-neg, -160.277782%))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;height:4px;transform:translateZ(0);outline:1px solid transparent;overflow:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar{position:absolute;width:100%;height:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top:4px solid}.mdc-linear-progress__buffer{display:flex;position:absolute;width:100%;height:100%}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;background-size:10px 4px;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{visibility:hidden}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;visibility:visible}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--reversed .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress--reversed.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}.mdc-linear-progress--reversed.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}.mdc-linear-progress--reversed .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;order:0;transform:rotate(0)}.mdc-linear-progress--reversed .mdc-linear-progress__buffer-bar{order:1}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}.mdc-linear-progress__bar-inner{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-linear-progress__buffer-dots{background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E")}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6}.mdc-linear-progress--indeterminate.mdc-linear-progress--reversed .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress--indeterminate.mdc-linear-progress--reversed .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}:host{display:block}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6;background-color:var(--mdc-linear-progress-buffer-color, #e6e6e6)}.mdc-linear-progress__buffer-dots{background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E");background-image:var(--mdc-linear-progress-buffering-dots-image, url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E"))}`));class qu extends Uu{}function Xu(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */}qu.styles=[Gu];var Yu={ROOT:"mdc-form-field"},Ku={LABEL_SELECTOR:".mdc-form-field > label"},Wu=function(e){function t(n){var r=e.call(this,ne(ne({},t.defaultAdapter),n))||this;return r.click=function(){r.handleClick()},r}return te(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Yu},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Ku},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{activateInputRipple:function(){},deactivateInputRipple:function(){},deregisterInteractionHandler:function(){},registerInteractionHandler:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.adapter.registerInteractionHandler("click",this.click)},t.prototype.destroy=function(){this.adapter.deregisterInteractionHandler("click",this.click)},t.prototype.handleClick=function(){var e=this;this.adapter.activateInputRipple(),requestAnimationFrame((function(){e.adapter.deactivateInputRipple()}))},t}(fe);let Zu,Qu=e=>e;
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends pe{constructor(){super(...arguments),this.alignEnd=!1,this.spaceBetween=!1,this.nowrap=!1,this.label="",this.mdcFoundationClass=Wu}createAdapter(){return{registerInteractionHandler:(e,t)=>{this.labelEl.addEventListener(e,t)},deregisterInteractionHandler:(e,t)=>{this.labelEl.removeEventListener(e,t)},activateInputRipple:async()=>{const e=this.input;if(e instanceof zo){const t=await e.ripple;t&&t.startPress()}},deactivateInputRipple:async()=>{const e=this.input;if(e instanceof zo){const t=await e.ripple;t&&t.endPress()}}}}get input(){return oe(this.slotEl,"*")}render(){const e={"mdc-form-field--align-end":this.alignEnd,"mdc-form-field--space-between":this.spaceBetween,"mdc-form-field--nowrap":this.nowrap};return l(Zu||(Zu=Qu`
      <div class="mdc-form-field ${0}">
        <slot></slot>
        <label class="mdc-label"
               @click="${0}">${0}</label>
      </div>`),S(e),this._labelClick,this.label)}_labelClick(){const e=this.input;e&&(e.focus(),e.click())}}Xu([v({type:Boolean})],Ju.prototype,"alignEnd",void 0),Xu([v({type:Boolean})],Ju.prototype,"spaceBetween",void 0),Xu([v({type:Boolean})],Ju.prototype,"nowrap",void 0),Xu([v({type:String}),he((async function(e){const t=this.input;t&&("input"===t.localName?t.setAttribute("aria-label",e):t instanceof zo&&(await t.updateComplete,t.setAriaLabel(e)))}))],Ju.prototype,"label",void 0),Xu([b(".mdc-form-field")],Ju.prototype,"mdcRoot",void 0),Xu([b("slot")],Ju.prototype,"slotEl",void 0),Xu([b("label")],Ju.prototype,"labelEl",void 0);let ep;const tp=c(ep||(ep=(e=>e)`.mdc-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87));display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}:host{display:inline-flex}.mdc-form-field{width:100%}::slotted(*){-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}::slotted(mwc-switch){margin-right:10px}[dir=rtl] ::slotted(mwc-switch),::slotted(mwc-switch)[dir=rtl]{margin-left:10px}`));class np extends Ju{}function rp(e){return"function"==typeof e}np.styles=tp;var ip=!1,ap={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;ip=e},get useDeprecatedSynchronousErrorHandling(){return ip}};function op(e){setTimeout((function(){throw e}),0)}var sp={closed:!0,next:function(e){},error:function(e){if(ap.useDeprecatedSynchronousErrorHandling)throw e;op(e)},complete:function(){}},cp=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();var lp=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),dp=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n,r=this,i=r._parentOrParents,a=r._ctorUnsubscribe,o=r._unsubscribe,s=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof e)i.remove(this);else if(null!==i)for(var c=0;c<i.length;++c){i[c].remove(this)}if(rp(o)){a&&(this._unsubscribe=void 0);try{o.call(this)}catch(e){t=e instanceof lp?up(e.errors):[e]}}if(cp(s)){c=-1;for(var l=s.length;++c<l;){var d=s[c];if(null!==(n=d)&&"object"==typeof n)try{d.unsubscribe()}catch(e){t=t||[],e instanceof lp?t=t.concat(up(e.errors)):t.push(e)}}}if(t)throw new lp(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var a=this._subscriptions;return null===a?this._subscriptions=[n]:a.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function up(e){return e.reduce((function(e,t){return e.concat(t instanceof lp?t.errors:t)}),[])}var pp=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),hp=function(e){function t(n,r,i){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=sp;break;case 1:if(!n){a.destination=sp;break}if("object"==typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new fp(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new fp(a,n,r,i)}return a}return te(t,e),t.prototype[pp]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(dp),fp=function(e){function t(t,n,r,i){var a,o=e.call(this)||this;o._parentSubscriber=t;var s=o;return rp(n)?a=n:n&&(a=n.next,r=n.error,i=n.complete,n!==sp&&(rp((s=Object.create(n)).unsubscribe)&&o.add(s.unsubscribe.bind(s)),s.unsubscribe=o.unsubscribe.bind(o))),o._context=s,o._next=a,o._error=r,o._complete=i,o}return te(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;ap.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=ap.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):op(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;op(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};ap.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),ap.useDeprecatedSynchronousErrorHandling)throw e;op(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!ap.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return ap.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(op(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(hp);var mp=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function gp(e){return e}function vp(e){return 0===e.length?gp:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var yp=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof hp)return e;if(e[pp])return e[pp]()}return e||t||n?new hp(e,t,n):new hp(sp)}(e,t,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||ap.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),ap.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){ap.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof hp?r:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=bp(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[mp]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:vp(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=bp(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function bp(e){if(e||(e=Promise),!e)throw new Error("no Promise impl found");return e}var _p,xp=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),wp=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return te(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(dp),kp=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return te(t,e),t}(hp),Ep=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return te(t,e),t.prototype[pp]=function(){return new kp(this)},t.prototype.lift=function(e){var t=new Cp(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new xp;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new xp;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new xp;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new xp;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new xp;return this.hasError?(e.error(this.thrownError),dp.EMPTY):this.isStopped?(e.complete(),dp.EMPTY):(this.observers.push(e),new wp(this,e))},t.prototype.asObservable=function(){var e=new yp;return e.source=this,e},t.create=function(e,t){return new Cp(e,t)},t}(yp),Cp=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return te(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):dp.EMPTY},t}(Ep),Sp={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},Ap={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list",SELECTED_EVENT:"MDCMenu:selected"},Tp={FOCUS_ROOT_INDEX:-1};!function(e){e[e.NONE=0]="NONE",e[e.LIST_ROOT=1]="LIST_ROOT",e[e.FIRST_ITEM=2]="FIRST_ITEM",e[e.LAST_ITEM=3]="LAST_ITEM"}(_p||(_p={}));var Ip=function(e){function t(n){var r=e.call(this,ne(ne({},t.defaultAdapter),n))||this;return r.closeAnimationEndTimerId_=0,r.defaultFocusState_=_p.LIST_ROOT,r}return te(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Sp},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Ap},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Tp},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.closeAnimationEndTimerId_&&clearTimeout(this.closeAnimationEndTimerId_),this.adapter.closeSurface()},t.prototype.handleKeydown=function(e){var t=e.key,n=e.keyCode;("Tab"===t||9===n)&&this.adapter.closeSurface(!0)},t.prototype.handleItemAction=function(e){var t=this,n=this.adapter.getElementIndex(e);n<0||(this.adapter.notifySelected({index:n}),this.adapter.closeSurface(),this.closeAnimationEndTimerId_=setTimeout((function(){var n=t.adapter.getElementIndex(e);n>=0&&t.adapter.isSelectableItemAtIndex(n)&&t.setSelectedIndex(n)}),Yd.numbers.TRANSITION_CLOSE_DURATION))},t.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState_){case _p.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case _p.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case _p.NONE:break;default:this.adapter.focusListRoot()}},t.prototype.setDefaultFocusState=function(e){this.defaultFocusState_=e},t.prototype.setSelectedIndex=function(e){if(this.validatedIndex_(e),!this.adapter.isSelectableItemAtIndex(e))throw new Error("MDCMenuFoundation: No selection group at specified index.");var t=this.adapter.getSelectedSiblingOfItemAtIndex(e);t>=0&&(this.adapter.removeAttributeFromElementAtIndex(t,Ap.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(t,Sp.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(e,Sp.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(e,Ap.ARIA_CHECKED_ATTR,"true")},t.prototype.setEnabled=function(e,t){this.validatedIndex_(e),t?(this.adapter.removeClassFromElementAtIndex(e,Ql),this.adapter.addAttributeToElementAtIndex(e,Ap.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(e,Ql),this.adapter.addAttributeToElementAtIndex(e,Ap.ARIA_DISABLED_ATTR,"true"))},t.prototype.validatedIndex_=function(e){var t=this.adapter.getMenuItemCount();if(!(e>=0&&e<t))throw new Error("MDCMenuFoundation: No list item at specified index.")},t}(fe);let Op,Rp,Dp=e=>e,Pp=class extends ud{};
/**
@license
Copyright 2020 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/Pp.styles=pd,Pp=re([],Pp);
/**
@license
Copyright 2020 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
let Lp=class extends Jd{};Lp.styles=eu,Lp=re([],Lp);class Np extends pe{constructor(){super(...arguments),this.mdcFoundationClass=Ip,this.listElement_=null,this.anchor=null,this.open=!1,this.quick=!1,this.wrapFocus=!1,this.innerRole="menu",this.corner="TOP_START",this.x=null,this.y=null,this.absolute=!1,this.multi=!1,this.activatable=!1,this.fixed=!1,this.forceGroupSelection=!1,this.fullwidth=!1,this.menuCorner="START",this.defaultFocus="LIST_ROOT",this._listUpdateComplete=null}get listElement(){return this.listElement_||(this.listElement_=this.renderRoot.querySelector("mwc-list")),this.listElement_}get items(){const e=this.listElement;return e?e.items:[]}get index(){const e=this.listElement;return e?e.index:-1}get selected(){const e=this.listElement;return e?e.selected:null}render(){const e="menu"===this.innerRole?"menuitem":"option";return l(Op||(Op=Dp`
      <mwc-menu-surface
          ?hidden=${0}
          .anchor=${0}
          .open=${0}
          .quick=${0}
          .corner=${0}
          .x=${0}
          .y=${0}
          .absolute=${0}
          .fixed=${0}
          .fullwidth=${0}
          .menuCorner=${0}
          class="mdc-menu mdc-menu-surface"
          @closed=${0}
          @opened=${0}
          @keydown=${0}>
        <mwc-list
          rootTabbable
          .innerRole=${0}
          .multi=${0}
          class="mdc-list"
          .itemRoles=${0}
          .wrapFocus=${0}
          .activatable=${0}
          @action=${0}>
        <slot></slot>
      </mwc-list>
    </mwc-menu-surface>`),!this.open,this.anchor,this.open,this.quick,this.corner,this.x,this.y,this.absolute,this.fixed,this.fullwidth,this.menuCorner,this.onClosed,this.onOpened,this.onKeydown,this.innerRole,this.multi,e,this.wrapFocus,this.activatable,this.onAction)}createAdapter(){return{addClassToElementAtIndex:(e,t)=>{const n=this.listElement;if(!n)return;const r=n.items[e];r&&("mdc-menu-item--selected"===t?this.forceGroupSelection&&!r.selected&&n.toggle(e,!0):r.classList.add(t))},removeClassFromElementAtIndex:(e,t)=>{const n=this.listElement;if(!n)return;const r=n.items[e];r&&("mdc-menu-item--selected"===t?r.selected&&n.toggle(e,!1):r.classList.remove(t))},addAttributeToElementAtIndex:(e,t,n)=>{const r=this.listElement;if(!r)return;const i=r.items[e];i&&i.setAttribute(t,n)},removeAttributeFromElementAtIndex:(e,t)=>{const n=this.listElement;if(!n)return;const r=n.items[e];r&&r.removeAttribute(t)},elementContainsClass:(e,t)=>e.classList.contains(t),closeSurface:()=>{this.open=!1},getElementIndex:e=>{const t=this.listElement;return t?t.items.indexOf(e):-1},notifySelected:()=>{},getMenuItemCount:()=>{const e=this.listElement;return e?e.items.length:0},focusItemAtIndex:e=>{const t=this.listElement;if(!t)return;const n=t.items[e];n&&n.focus()},focusListRoot:()=>{this.listElement&&this.listElement.focus()},getSelectedSiblingOfItemAtIndex:e=>{const t=this.listElement;if(!t)return-1;const n=t.items[e];if(!n||!n.group)return-1;for(let r=0;r<t.items.length;r++){if(r===e)continue;const i=t.items[r];if(i.selected&&i.group===n.group)return r}return-1},isSelectableItemAtIndex:e=>{const t=this.listElement;if(!t)return!1;const n=t.items[e];return!!n&&n.hasAttribute("group")}}}onKeydown(e){this.mdcFoundation&&this.mdcFoundation.handleKeydown(e)}onAction(e){const t=this.listElement;if(this.mdcFoundation&&t){const n=e.detail.index,r=t.items[n];r&&this.mdcFoundation.handleItemAction(r)}}onOpened(){this.open=!0,this.mdcFoundation&&this.mdcFoundation.handleMenuSurfaceOpened()}onClosed(){this.open=!1}async _getUpdateComplete(){await this._listUpdateComplete,await super._getUpdateComplete()}async firstUpdated(){super.firstUpdated();const e=this.listElement;e&&(this._listUpdateComplete=e.updateComplete,await this._listUpdateComplete)}select(e){const t=this.listElement;t&&t.select(e)}close(){this.open=!1}show(){this.open=!0}getFocusedItemIndex(){const e=this.listElement;return e?e.getFocusedItemIndex():-1}focusItemAtIndex(e){const t=this.listElement;t&&t.focusItemAtIndex(e)}layout(e=!0){const t=this.listElement;t&&t.layout(e)}}re([b(".mdc-menu")],Np.prototype,"mdcRoot",void 0),re([b("slot")],Np.prototype,"slotElement",void 0),re([v({type:Object})],Np.prototype,"anchor",void 0),re([v({type:Boolean,reflect:!0})],Np.prototype,"open",void 0),re([v({type:Boolean})],Np.prototype,"quick",void 0),re([v({type:Boolean})],Np.prototype,"wrapFocus",void 0),re([v({type:String})],Np.prototype,"innerRole",void 0),re([v({type:String})],Np.prototype,"corner",void 0),re([v({type:Number})],Np.prototype,"x",void 0),re([v({type:Number})],Np.prototype,"y",void 0),re([v({type:Boolean})],Np.prototype,"absolute",void 0),re([v({type:Boolean})],Np.prototype,"multi",void 0),re([v({type:Boolean})],Np.prototype,"activatable",void 0),re([v({type:Boolean})],Np.prototype,"fixed",void 0),re([v({type:Boolean})],Np.prototype,"forceGroupSelection",void 0),re([v({type:Boolean})],Np.prototype,"fullwidth",void 0),re([v({type:String})],Np.prototype,"menuCorner",void 0),re([v({type:String}),he((function(e){this.mdcFoundation&&this.mdcFoundation.setDefaultFocusState(_p[e])}))],Np.prototype,"defaultFocus",void 0);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const Mp=c(Rp||(Rp=Dp`mwc-list ::slotted([mwc-list-item]:not([twoline])){height:var(--mdc-menu-item-height, 48px)}mwc-list{max-width:var(--mdc-menu-max-width, auto);min-width:var(--mdc-menu-min-width, auto)}`));class Fp extends(J(Np)){static get scopedElements(){return{"mwc-menu-surface":Lp,"mwc-list":hd}}}Fp.styles=Mp;let zp,Bp,jp,Hp=e=>e;class Vp extends zo{constructor(){super(...arguments),this.checked=!1,this.indeterminate=!1,this.disabled=!1,this.value="",this.reducedTouchTarget=!1,this.animationClass="",this.shouldRenderRipple=!1,this.focused=!1,this.mdcFoundationClass=void 0,this.mdcFoundation=void 0,this.rippleElement=null,this.rippleHandlers=new Xe((()=>(this.shouldRenderRipple=!0,this.ripple.then((e=>this.rippleElement=e)),this.ripple)))}createAdapter(){return{}}update(e){const t=e.get("indeterminate"),n=e.get("checked"),r=e.get("disabled");if(void 0!==t||void 0!==n||void 0!==r){const e=this.calculateAnimationStateName(!!n,!!t,!!r),i=this.calculateAnimationStateName(this.checked,this.indeterminate,this.disabled);this.animationClass=`${e}-${i}`}super.update(e)}calculateAnimationStateName(e,t,n){return n?"disabled":t?"indeterminate":e?"checked":"unchecked"}renderRipple(){const e=this.indeterminate||this.checked;return this.shouldRenderRipple?l(zp||(zp=Hp`
        <mwc-ripple
          .accent="${0}"
          .disabled="${0}"
          unbounded>
        </mwc-ripple>`),e,this.disabled):""}render(){const e=this.indeterminate||this.checked,t={"mdc-checkbox--disabled":this.disabled,"mdc-checkbox--selected":e,"mdc-checkbox--touch":!this.reducedTouchTarget,"mdc-ripple-upgraded--background-focused":this.focused,"mdc-checkbox--anim-checked-indeterminate":"checked-indeterminate"==this.animationClass,"mdc-checkbox--anim-checked-unchecked":"checked-unchecked"==this.animationClass,"mdc-checkbox--anim-indeterminate-checked":"indeterminate-checked"==this.animationClass,"mdc-checkbox--anim-indeterminate-unchecked":"indeterminate-unchecked"==this.animationClass,"mdc-checkbox--anim-unchecked-checked":"unchecked-checked"==this.animationClass,"mdc-checkbox--anim-unchecked-indeterminate":"unchecked-indeterminate"==this.animationClass},n=this.indeterminate?"mixed":void 0;return l(Bp||(Bp=Hp`
      <div class="mdc-checkbox mdc-checkbox--upgraded ${0}">
        <input type="checkbox"
              class="mdc-checkbox__native-control"
              aria-checked="${0}"
              data-indeterminate="${0}"
              ?disabled="${0}"
              .indeterminate="${0}"
              .checked="${0}"
              .value="${0}"
              @change="${0}"
              @focus="${0}"
              @blur="${0}"
              @mousedown="${0}"
              @mouseenter="${0}"
              @mouseleave="${0}"
              @touchstart="${0}"
              @touchend="${0}"
              @touchcancel="${0}">
        <div class="mdc-checkbox__background"
          @animationend="${0}">
          <svg class="mdc-checkbox__checkmark"
              viewBox="0 0 24 24">
            <path class="mdc-checkbox__checkmark-path"
                  fill="none"
                  d="M1.73,12.91 8.1,19.28 22.79,4.59"></path>
          </svg>
          <div class="mdc-checkbox__mixedmark"></div>
        </div>
        ${0}
      </div>`),S(t),T(n),this.indeterminate?"true":"false",this.disabled,this.indeterminate,this.checked,this.value,this._changeHandler,this._handleFocus,this._handleBlur,this.handleRippleMouseDown,this.handleRippleMouseEnter,this.handleRippleMouseLeave,this.handleRippleTouchStart,this.handleRippleDeactivate,this.handleRippleDeactivate,this.resetAnimationClass,this.renderRipple())}_handleFocus(){this.focused=!0,this.handleRippleFocus()}_handleBlur(){this.focused=!1,this.handleRippleBlur()}handleRippleMouseDown(e){const t=()=>{window.removeEventListener("mouseup",t),this.handleRippleDeactivate()};window.addEventListener("mouseup",t),this.rippleHandlers.startPress(e)}handleRippleTouchStart(e){this.rippleHandlers.startPress(e)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}_changeHandler(){this.checked=this.formElement.checked,this.indeterminate=this.formElement.indeterminate}resetAnimationClass(){this.animationClass=""}get isRippleActive(){var e;return(null===(e=this.rippleElement)||void 0===e?void 0:e.isActive)||!1}}re([b(".mdc-checkbox")],Vp.prototype,"mdcRoot",void 0),re([b("input")],Vp.prototype,"formElement",void 0),re([v({type:Boolean,reflect:!0})],Vp.prototype,"checked",void 0),re([v({type:Boolean})],Vp.prototype,"indeterminate",void 0),re([v({type:Boolean,reflect:!0})],Vp.prototype,"disabled",void 0),re([v({type:String})],Vp.prototype,"value",void 0),re([v({type:Boolean})],Vp.prototype,"reducedTouchTarget",void 0),re([y()],Vp.prototype,"animationClass",void 0),re([y()],Vp.prototype,"shouldRenderRipple",void 0),re([y()],Vp.prototype,"focused",void 0),re([_("mwc-ripple")],Vp.prototype,"ripple",void 0),re([k({passive:!0})],Vp.prototype,"handleRippleTouchStart",null);
/**
@license
Copyright 2018 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
const $p=c(jp||(jp=Hp`.mdc-checkbox{padding:11px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-checkbox .mdc-checkbox__ripple::before,.mdc-checkbox .mdc-checkbox__ripple::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}.mdc-checkbox:hover .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-ripple-surface--hover .mdc-checkbox__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__ripple::before,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-checkbox:not(.mdc-ripple-upgraded) .mdc-checkbox__ripple::after{transition:opacity 150ms linear}.mdc-checkbox:not(.mdc-ripple-upgraded):active .mdc-checkbox__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-checkbox.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-checkbox .mdc-checkbox__native-control:checked~.mdc-checkbox__background::before,.mdc-checkbox .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background::before,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background::before{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-checkbox.mdc-checkbox--selected:hover .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-checkbox--selected.mdc-ripple-surface--hover .mdc-checkbox__ripple::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mdc-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded--background-focused .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):focus .mdc-checkbox__ripple::before{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded) .mdc-checkbox__ripple::after{transition:opacity 150ms linear}.mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):active .mdc-checkbox__ripple::after{transition-duration:75ms;opacity:0.12;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mdc-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: var(--mdc-ripple-press-opacity, 0.12)}.mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::after{background-color:#018786;background-color:var(--mdc-ripple-color, var(--mdc-theme-secondary, #018786))}.mdc-checkbox .mdc-checkbox__background{top:11px;left:11px}.mdc-checkbox .mdc-checkbox__background::before{top:-13px;left:-13px;width:40px;height:40px}.mdc-checkbox .mdc-checkbox__native-control{top:0px;right:0px;left:0px;width:40px;height:40px}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unchecked-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#018786;border-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unchecked-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:#018786;border-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:#018786;border-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--mdc-checkbox-checked-color, var(--mdc-theme-secondary, #018786))}100%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unchecked-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.38);border-color:var(--mdc-checkbox-disabled-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:rgba(0, 0, 0, 0.38);background-color:var(--mdc-checkbox-disabled-color, rgba(0, 0, 0, 0.38))}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff;color:var(--mdc-checkbox-ink-color, #fff)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff;border-color:var(--mdc-checkbox-ink-color, #fff)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff;color:var(--mdc-checkbox-ink-color, #fff)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff;border-color:var(--mdc-checkbox-ink-color, #fff)}.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}@media screen and (-ms-high-contrast: active){.mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:GrayText;border-color:var(--mdc-checkbox-disabled-color, GrayText);background-color:transparent}.mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:GrayText;background-color:transparent;background-color:var(--mdc-checkbox-disabled-color, transparent)}.mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:GrayText;color:var(--mdc-checkbox-ink-color, GrayText)}.mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:GrayText;border-color:var(--mdc-checkbox-ink-color, GrayText)}.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:transparent;pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__background .mdc-checkbox__background::before{background-color:#000;background-color:var(--mdc-theme-on-surface, #000)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";will-change:opacity,transform;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:focus~.mdc-checkbox__background::before{transform:scale(1);opacity:.12;transition:opacity 80ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 80ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-checkbox--touch .mdc-checkbox__native-control{top:-4px;right:-4px;left:-4px;width:48px;height:48px}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}:host{outline:none;display:inline-flex;-webkit-tap-highlight-color:transparent}.mdc-checkbox .mdc-checkbox__background::before{content:none}`));class Up extends(J(Vp)){static get scopedElements(){return{"mwc-ripple":ct}}}Up.styles=$p;let Gp,qp,Xp,Yp,Kp,Wp,Zp,Qp,Jp,eh,th,nh,rh,ih,ah,oh,sh,ch,lh,dh,uh,ph,hh,fh,mh,gh,vh,yh,bh,_h,xh,wh,kh,Eh,Ch,Sh,Ah,Th,Ih,Oh,Rh,Dh,Ph,Lh,Nh,Mh,Fh,zh,Bh,jh,Hh,Vh,$h,Uh,Gh,qh,Xh,Yh,Kh,Wh,Zh,Qh,Jh,ef,tf,nf,rf,af,of,sf,cf,lf,df,uf,pf,hf,ff,mf,gf,vf,yf,bf,_f,xf,wf,kf,Ef,Cf,Sf,Af,Tf,If,Of,Rf,Df,Pf=e=>e;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Lf(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function Nf(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class Mf extends(gt(J(s))){constructor(){super(...arguments),this.numberOfSimulatedConductors=10,this.simulatedDnaTemplate=mo(),this.conductors=[]}static get provide(){return["activeDna","activeAgentPubKey","activeHash","conductors","conductorsUrls"]}static get styles(){return c(Gp||(Gp=Pf`
      :host {
        display: contents;
      }
    `))}async firstUpdated(){this.conductorsUrls||(this.conductors=await yo(this.numberOfSimulatedConductors,[],this.simulatedDnaTemplate),this.activeDna=this.conductors[0].getAllCells()[0].dnaHash,this.dispatchEvent(new CustomEvent("ready",{bubbles:!0,composed:!0,detail:{activeDna:this.activeDna,activeAgentPubKey:this.activeAgentPubKey,activeHash:this.activeHash,conductors:this.conductors,conductorsUrls:this.conductorsUrls}}))),this.addEventListener("update-context",(e=>{const t=Object.keys(e.detail);for(const n of t)this[n]=e.detail[n]})),this.addEventListener("show-message",(e=>{this.showMessage(e.detail.message)}))}showMessage(e){this.message=e,this.snackbar.show()}renderSnackbar(){return l(qp||(qp=Pf`
      <mwc-snackbar id="snackbar" labelText=${0}>
        <mwc-icon-button icon="close" slot="dismiss"></mwc-icon-button>
      </mwc-snackbar>
    `),this.message)}render(){return l(Xp||(Xp=Pf`
      ${0}
      ${0}
    `),this.renderSnackbar(),this.conductors?l(Yp||(Yp=Pf` <slot></slot> `)):l(Kp||(Kp=Pf` <mwc-circular-progress></mwc-circular-progress>`)))}static get scopedElements(){return{"mwc-circular-progress":qe,"mwc-snackbar":Fe,"mwc-icon-button":ft}}}Lf([v({type:Number}),Nf("design:type",Number)],Mf.prototype,"numberOfSimulatedConductors",void 0),Lf([v({type:Object}),Nf("design:type",Object)],Mf.prototype,"simulatedDnaTemplate",void 0),Lf([b("#snackbar"),Nf("design:type",Fe)],Mf.prototype,"snackbar",void 0),Lf([v({type:String}),Nf("design:type",String)],Mf.prototype,"message",void 0),Lf([v({type:String}),Nf("design:type",String)],Mf.prototype,"activeDna",void 0),Lf([v({type:String}),Nf("design:type",String)],Mf.prototype,"activeAgentPubKey",void 0),Lf([v({type:String}),Nf("design:type",String)],Mf.prototype,"activeHash",void 0),Lf([v({type:Array}),Nf("design:type",Array)],Mf.prototype,"conductors",void 0),Lf([v({type:Array}),Nf("design:type",Array)],Mf.prototype,"conductorsUrls",void 0);const Ff=e=>{class t extends(mt(e)){constructor(){super(...arguments),this.conductors=[]}static get inject(){return["activeDna","activeAgentPubKey","activeHash","conductors","conductorsUrls"]}updatePlayground(e){this.dispatchEvent(new CustomEvent("update-context",{bubbles:!0,composed:!0,detail:e}))}showMessage(e){this.dispatchEvent(new CustomEvent("show-message",{bubbles:!0,composed:!0,detail:{message:e}}))}}return Lf([v({type:String}),Nf("design:type",String)],t.prototype,"activeDna",void 0),Lf([v({type:String}),Nf("design:type",String)],t.prototype,"activeAgentPubKey",void 0),Lf([v({type:String}),Nf("design:type",String)],t.prototype,"activeHash",void 0),Lf([v({type:Array}),Nf("design:type",Array)],t.prototype,"conductors",void 0),Lf([v({type:Array}),Nf("design:type",Array)],t.prototype,"conductorsUrls",void 0),t};class zf extends(Ff(J(s))){constructor(){super(...arguments),this._subscriptions={},this._observedCells=[]}observedCells(){return[]}onNewObservedCell(e){return[]}onCellsChanged(){}getStrCellId(e){return`${e.dnaHash}/${e.agentPubKey}`}updated(e){super.updated(e),this._observedCells=this.observedCells().filter((e=>!!e));const t=this._observedCells.reduce(((e,t)=>({...e,[this.getStrCellId(t)]:t})),{}),n=Object.keys(t),r=Object.keys(this._subscriptions),i=n.filter((e=>!r.includes(e))),a=r.filter((e=>!n.includes(e)));for(const e of i){const n=t[e],r=n.workflowExecutor.success((async()=>{this.requestUpdate()}));this._subscriptions[e]=[...this.onNewObservedCell(n),r]}a.forEach((e=>this.unsubscribeFromCellId(e))),(i.length>0||a.length>0)&&this.onCellsChanged()}unsubscribeFromCellId(e){for(const t of this._subscriptions[e])t.unsubscribe();this._subscriptions[e]=void 0,delete this._subscriptions[e]}disconnectedCallback(){super.disconnectedCallback();for(const e of Object.values(this._subscriptions))for(const t of e)t.unsubscribe()}}const Bf=c(Wp||(Wp=Pf`
  .row {
    display: flex;
    flex-direction: row;
  }
  .column {
    display: flex;
    flex-direction: column;
  }
  .fill {
    flex: 1;
  }

  .center-content {
    align-items: center;
    justify-content: center;
    display: flex;
  }

  span {
    margin-block-start: 0;
  }

  .title {
    font-size: 20px;
  }

  .placeholder {
    opacity: 0.6;
  }

  .flex-scrollable-parent {
    position: relative;
    display: flex;
    flex: 1;
  }

  .flex-scrollable-container {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }

  .flex-scrollable-x {
    max-width: 100%;
    overflow-x: auto;
  }
  .flex-scrollable-y {
    max-height: 100%;
    overflow-y: auto;
  }

  .json-info {
    padding: 4px;
    max-width: 400px;
  }

  .block-card {
    width: auto;
    position: relative;
    flex: 1;
  }

  .block-title {
    font-size: 20px;
  }

  .block-help {
    position: absolute;
    right: 8px;
    top: 8px;
  }

  .horizontal-divider {
    background-color: grey;
    height: 1px;
    opacity: 0.3;
    margin-bottom: 0;
    width: 100%;
  }
  .vertical-divider {
    background-color: grey;
    width: 1px;
    height: 60%; 
    opacity: 0.3;
    margin-bottom: 0;
  }
  
`));function jf(e,t){return t.getCells(e)}function Hf(e,t){const n=t.map((t=>jf(e,t)));return[].concat(...n)}function Vf(e,t,n){for(const r of n)for(const n of r.getAllCells())if(n.agentPubKey===t&&n.dnaHash===e)return n}function $f(e){return e.p2p.redundancyFactor}const Uf=(...e)=>e.reduce(((e,t)=>(...n)=>e(t(...n)))),Gf=e=>"string"==typeof e,qf=e=>e.trim(),Xf=(...e)=>t=>t.replace(...e);var Yf;const Kf=Uf((e=>Object.fromEntries?Object.fromEntries(e):e.reduce(((e,[t,n])=>({[t]:n,...e})),{})),(Yf=([e,t])=>void 0===t?[]:[[e,t]],e=>"flatMap"in Array.prototype?e.flatMap(Yf):e.reduce(((e,t)=>e.concat(Yf(t))),[])),Object.entries),Wf=(e,t)=>{return""===e?t:(n=t)instanceof Element?`<mark part='string'>${n.outerHTML.replace(/</g,"&lt;").replace(/"/g,"'")}</mark>`:(e=>null!==e&&"[object Object]"==`${e}`)(n)||Array.isArray(n)?n:`<mark part='${null===n?"null":typeof n}'>${n}</mark>`;var n},Zf=Xf(/"(.*)":/g,((e,t)=>`<mark part="key">"${t}"</mark>:`)),Qf=Uf(Xf(/"<mark(.*)>(.*)<\/mark>"/g,((e,t,n)=>`<mark${t}>${t.includes("string")?`"${n}"`:n}</mark>`)),Zf,(e=>JSON.stringify(e,Wf,2)),Kf),Jf='\n[hidden],\n:host([hidden]) {\n  display: none !important;\n}\n\n:host {\n  display: block;\n  position: relative;\n  color: var(--json-viewer-color, currentColor);\n}\n\ncode { white-space: pre; }\nmark { background: none; }\n\n@media (prefers-color-scheme: dark), (prefers-color-scheme: no-preference) {\n  :host { background: var(--json-viewer-background, #212529); }\n  [part="key"] { color: var(--json-viewer-key-color, #ff922b); }\n  [part="boolean"] { color: var(--json-viewer-boolean-color, #22b8cf); }\n  [part="number"] { color: var(--json-viewer-number-color, #51cf66); }\n  [part="null"] { color: var(--json-viewer-null-color, #ff6b6b); }\n  [part="string"] { color: var(--json-viewer-string-color, #22b8cf); }\n}\n\n@media (prefers-color-scheme: light) {\n  :host { background: var(--json-viewer-background, white); }\n  [part="key"] { color: var(--json-viewer-key-color, #f76707); }\n  [part="boolean"] { color: var(--json-viewer-boolean-color, #0c8599); }\n  [part="number"] { color: var(--json-viewer-number-color, #0ca678); }\n  [part="null"] { color: var(--json-viewer-null-color, #e03131); }\n  [part="string"] { color: var(--json-viewer-string-color, #0c8599); }\n}\n',em=document.createElement("template");em.innerHTML='<code hidden part="code"></code>';class tm extends HTMLElement{static get is(){return"json-viewer"}static get observedAttributes(){return["allowlist","object"]}get object(){return this.__object}set object(e){e&&"string"==typeof e&&(e=this.tryParse(e)),this.__object=e,this.render()}get allowlist(){return this.__allowlist}set allowlist(e){if(t=e,!Array.isArray(t)||!t.every(Gf))throw new Error("allowlist must be an array of strings");var t;this.__allowlist=e;const n=e.join(",");n&&this.setAttribute("allowlist",n),this.render()}get error(){return this.__error}set error(e){this.__error=e,e instanceof Error&&this.dispatchEvent(new CustomEvent("json-parse-error"))}constructor(){if(super(),this.__error=null,this.__allowlist=[],this.__mo=new MutationObserver(this.parse.bind(this)),this.__mo.observe(this,{subtree:!0,characterData:!0,childList:!0}),this.attachShadow({mode:"open"}),"adoptedStyleSheets"in Document.prototype){const e=new CSSStyleSheet;e.replaceSync(Jf),this.shadowRoot.adoptedStyleSheets=[e]}else this.shadowRoot.innerHTML=`<style>${Jf}</style>`;this.shadowRoot.append(em.content.cloneNode(!0))}connectedCallback(){this.parse(),this.object&&this.shadowRoot.querySelector("code").hidden&&this.render()}attributeChangedCallback(e,t,n){switch(e){case"allowlist":return this.allowlistAttrChanged(n,t);case"object":return this.objectAttrChanged(n,t)}}allowlistAttrChanged(e,t){const n=e;this.allowlist.join(",")!==n&&(this.allowlist=(e=>(e||"").split(",").map(qf).filter(Boolean))(n))}objectAttrChanged(e,t){e!==t&&(this.object=this.tryParse(e))}getHighlightedDomString(){const{allowlist:e,object:t}=this;if(void 0===t)return"";const n=Array.isArray(e)&&e.length?((e,t)=>e.reduce(((e,n)=>Object.assign(e,{[n]:t[n]})),{}))(e,t):t;return Qf(n)}render(){const e=this.getHighlightedDomString();this.shadowRoot.querySelector("code").hidden=!e,this.shadowRoot.querySelector("code").innerHTML=e}parse(){const e=this.querySelector('script[type="application/json"]')||this.querySelector('script[type="application/ld+json"]')||this,{textContent:t=""}=e;t.trim()&&(this.object=this.tryParse(t))}tryParse(e){let t;try{t=JSON.parse(e)}catch(n){const{name:r,message:i}=n;t={name:r,message:i,string:e},this.error=n}return t}}customElements.define(tm.is,tm);class nm extends(J(s)){constructor(){super(...arguments),this._expanded=!1}render(){return l(Zp||(Zp=Pf`
      <div class="row">
        <mwc-icon-button
          style="--mdc-icon-button-size: 30px; margin-right: 4px;"
          .icon=${0}
          @click=${0}
        ></mwc-icon-button>

        <div
          style=${0}
        >
          <div
            style=${0}
          ></div>
          <div
            style=${0}
          >
            <slot></slot>
          </div>
        </div>
      </div>
    `),this._expanded?"arrow_drop_up":"arrow_drop_down",(()=>this._expanded=!this._expanded),O({position:this._expanded?"unset":"relative",flex:"1",display:"flex"}),O({display:this._expanded?"none":"block","z-index":"3",position:this._expanded?"unset":"absolute",width:"100%",height:"100%","box-shadow":this._expanded?"":"inset 0 -10px 10px -10px #000000"}),O({height:this._expanded?"auto":"30px",width:this._expanded?"auto":"100%",overflow:this._expanded?"auto":"hidden",position:this._expanded?"unset":"absolute",flex:"1"}))}static get styles(){return Bf}static get scopedElements(){return{"mwc-icon-button":ft}}}Lf([v({type:Boolean}),Nf("design:type",Object)],nm.prototype,"_expanded",void 0);class rm extends zf{constructor(){super(...arguments),this.hideResults=!1,this.hideZomeSelector=!1,this.hideAgentPubKey=!1,this.selectedZomeFnName=void 0,this._selectedZomeIndex=0,this._results={},this._arguments={}}get activeCell(){return Vf(this.activeDna,this.activeAgentPubKey,this.conductors)}get activeZome(){return this.activeCell.getSimulatedDna().zomes[this._selectedZomeIndex]}get activeZomeFn(){let e=Object.keys(this.activeZome.zome_functions)[0];return this.selectedZomeFnName&&(e=this.selectedZomeFnName),{name:e,fn:this.activeZome.zome_functions[e]}}observedCells(){return[this.activeCell]}setResultValue(e,t){const n=this.activeCell.dnaHash,r=this.activeCell.agentPubKey;this._results[n]||(this._results[n]={}),this._results[n][r]||(this._results[n][r]={}),this._results[n][r][e]=t}getResultValue(e){return this.getActiveResults()[e]}getActiveResults(){const e=this.activeCell.dnaHash,t=this.activeCell.agentPubKey;return this._results[e]&&this._results[e][t]||{}}setFunctionArgument(e,t,n){const r=this.activeCell.dnaHash,i=this.activeCell.agentPubKey,a=this.activeZome.name;this._arguments[r]||(this._arguments[r]={}),this._arguments[r][i]||(this._arguments[r][i]={}),this._arguments[r][i][a]||(this._arguments[r][i][a]={}),this._arguments[r][i][a][e]||(this._arguments[r][i][a][e]={}),this._arguments[r][i][a][e][t]=n,this.requestUpdate()}getFunctionArguments(e){const t=this.activeCell.dnaHash,n=this.activeCell.agentPubKey,r=this.activeZome.name;return this._arguments[t]&&this._arguments[t][n]&&this._arguments[t][n][r]&&this._arguments[t][n][r][e]}getFunctionArgument(e,t){const n=this.activeCell.dnaHash,r=this.activeCell.agentPubKey,i=this.activeZome.name;return this._arguments[n]&&this._arguments[n][r]&&this._arguments[n][r][i]&&this._arguments[n][r][i][e]&&this._arguments[n][r][i][e][t]}async callZomeFunction(e){const t=this.activeZome,n=Date.now(),r={cellId:this.activeCell.cellId,result:void 0,fnName:e,zome:t};this.setResultValue(n,r),this.requestUpdate();try{const i=await this.activeCell.conductor.callZomeFn({cellId:this.activeCell.cellId,zome:t.name,payload:this.getFunctionArguments(e),fnName:e,cap:null});r.result={success:!0,payload:i},this.setResultValue(n,r)}catch(e){r.result={success:!1,payload:e.message},this.setResultValue(n,r)}finally{this.requestUpdate()}}renderCallableFunction(e,t){return l(Qp||(Qp=Pf` <div class="column" style="flex: 1; margin: 16px;">
      <div class="flex-scrollable-parent">
        <div class="flex-scrollable-container">
          <div class="flex-scrollable-y">
            <div class="column" style="flex: 1;">
              ${0}
            </div>
          </div>
        </div>
      </div>
      <mwc-button raised @click=${0}
        >Execute</mwc-button
      >
    </div>`),0===t.arguments.length?l(Jp||(Jp=Pf`<span class="placeholder" style="margin-top: 28px;"
                    >This function has no arguments</span
                  >`)):t.arguments.map((t=>l(eh||(eh=Pf`<mwc-textfield
                      style="margin-top: 8px"
                      outlined
                      label=${0}
                      .value=${0}
                      @input=${0}
                    ></mwc-textfield>`),t.name+": "+t.type,this.getFunctionArgument(e,t.name)||"",(n=>this.setFunctionArgument(e,t.name,n.target.value))))),(()=>this.callZomeFunction(e)))}renderActiveZomeFns(){const e=this.activeCell.getSimulatedDna().zomes[this._selectedZomeIndex],t=Object.entries(e.zome_functions);return 0===t.length?l(th||(th=Pf`<div class="fill center-content">
        <span class="placeholder" style="padding: 24px;"
          >This zome has no functions</span
        >
      </div> `)):l(nh||(nh=Pf`
      <mwc-drawer style="--mdc-drawer-width: auto;">
        <mwc-list
          activatable
          @selected=${0}
        >
          ${0}
        </mwc-list>
        <div slot="appContent" class="column" style="height: 100%;">
          <div class="column" style="flex: 1;">
            ${0}
          </div>
        </div>
      </mwc-drawer>
    `),(e=>this.selectedZomeFnName=t[e.detail.index][0]),t.map((([e,t])=>l(rh||(rh=Pf`
              <mwc-list-item .activated=${0}
                >${0}
              </mwc-list-item>
            `),this.activeZomeFn.name===e,e))),this.renderCallableFunction(this.activeZomeFn.name,this.activeZomeFn.fn))}renderResult(e){return e.result?e.result.payload&&"string"!=typeof e.result.payload?l(oh||(oh=Pf`
        <expandable-line>
          <json-viewer
            .object=${0}
            class="fill"
          ></json-viewer>
        </expandable-line>
      `),e.result.payload):l(ah||(ah=Pf`<span>${0}</span>`),e.result.payload):l(ih||(ih=Pf`<span class="placeholder">Executing...</span>`))}renderResults(){const e=this.getActiveResults(),t=Object.keys(e).sort().map((t=>[t,e[t]]));return l(sh||(sh=Pf`
      <div class="column" style="flex: 1;">
        ${0}
      </div>
    `),0===t.length?l(ch||(ch=Pf`
              <div class="row fill center-content">
                <span class="placeholder" style="margin: 0 24px;"
                  >Call a ZomeFn to see its results</span
                >
              </div>
            `)):l(lh||(lh=Pf` <div class="flex-scrollable-parent">
              <div class="flex-scrollable-container">
                <div class="flex-scrollable-y">
                  <div style="margin: 0 16px;">
                    ${0}
                  </div>
                </div>
              </div>
            </div>`),t.map((([e,n],r)=>l(dh||(dh=Pf`
                          <div class="column" style="flex: 1;">
                            <div class="row" style="margin: 8px 0;">
                              ${0}
                              <div
                                class="column"
                                style="flex: 1; margin: 12px; margin-right: 0;"
                              >
                                <div class="row" style="flex: 1;">
                                  <span style="flex: 1; margin-bottom: 8px;">
                                    ${0}
                                    <span class="placeholder">
                                      in ${0}
                                      zome${0}
                                    </span>
                                  </span>
                                  <span class="placeholder">
                                    ${0}
                                  </span>
                                </div>
                                ${0}
                              </div>
                            </div>
                            ${0}
                          </div>
                        `),n.result?l(uh||(uh=Pf`
                                    <mwc-icon
                                      style=${0}
                                      >${0}</mwc-icon
                                    >
                                  `),O({color:n.result.success?"green":"red","align-self":"start","margin-top":"16px","--mdc-icon-size":"36px"}),n.result.success?"check_circle_outline":"error_outline"):l(ph||(ph=Pf`
                                    <mwc-circular-progress
                                      indeterminate
                                      density="-2"
                                      style="align-self: center;"
                                    ></mwc-circular-progress>
                                  `)),n.fnName,n.zome.name,n.result?n.result.success?", result:":", error:":"",new Date(parseInt(e)).toLocaleTimeString(),this.renderResult(n),r<t.length-1?l(hh||(hh=Pf`
                                  <span
                                    class="horizontal-divider"
                                    style="align-self: center;"
                                  ></span>
                                `)):l(fh||(fh=Pf``)))))))}render(){return l(mh||(mh=Pf`
      <mwc-card style="width: auto; flex: 1;">
        ${0}
      </mwc-card>
    `),this.activeCell?l(gh||(gh=Pf`
              <div class="column" style="flex: 1">
                <span class="title" style="margin: 16px;"
                  >Call Zome
                  Fns${0}</span
                >
                ${0}
                <div class="row" style="flex: 1;">
                  <div class="column" style="flex: 1">
                    ${0}
                    ${0}
                  </div>

                  ${0}
                </div>
              </div>
            `),this.hideAgentPubKey?l(vh||(vh=Pf``)):l(yh||(yh=Pf`,
                        <span class="placeholder"
                          >for agent ${0}</span
                        > `),this.activeAgentPubKey),this.hideZomeSelector?l(bh||(bh=Pf` <span class="horizontal-divider"></span> `)):l(_h||(_h=Pf``)),this.hideZomeSelector?l(xh||(xh=Pf``)):l(wh||(wh=Pf`
                          <mwc-tab-bar
                            .activeIndex=${0}
                            @MDCTabBar:activated=${0}
                          >
                            ${0}
                          </mwc-tab-bar>
                        `),this._selectedZomeIndex,(e=>{this.selectedZomeFnName=void 0,this._selectedZomeIndex=e.detail.index}),this.activeCell.getSimulatedDna().zomes.map((e=>l(kh||(kh=Pf`
                                    <mwc-tab .label=${0}></mwc-tab>
                                  `),e.name)))),this.renderActiveZomeFns(),this.hideResults?l(Eh||(Eh=Pf``)):l(Ch||(Ch=Pf`
                        <span
                          class="vertical-divider"
                          style="height: 100%;"
                        ></span>
                        ${0}
                      `),this.renderResults())):l(Sh||(Sh=Pf`<div class="fill center-content placeholder">
              <span style="padding: 24px;"
                >Select a cell to call its zome functions</span
              >
            </div>`)))}static get styles(){return[Bf,c(Ah||(Ah=Pf`
        :host {
          display: flex;
          flex: 1;
        }
      `))]}static get scopedElements(){return{"mwc-button":Ss,"mwc-textfield":ps,"mwc-circular-progress":qe,"mwc-icon":vs,"mwc-tab":tc,"mwc-list":hd,"mwc-drawer":Td,"mwc-list-item":bl,"mwc-tab-bar":Sc,"mwc-card":il,"json-viewer":tm,"expandable-line":nm}}}Lf([v({type:Boolean,attribute:"hide-results"}),Nf("design:type",Object)],rm.prototype,"hideResults",void 0),Lf([v({type:Boolean,attribute:"hide-zome-selector"}),Nf("design:type",Object)],rm.prototype,"hideZomeSelector",void 0),Lf([v({type:Boolean,attribute:"hide-agent-pub-key"}),Nf("design:type",Object)],rm.prototype,"hideAgentPubKey",void 0),Lf([v({type:String}),Nf("design:type",String)],rm.prototype,"selectedZomeFnName",void 0),Lf([v({type:Number}),Nf("design:type",Number)],rm.prototype,"_selectedZomeIndex",void 0),Lf([v({type:Array}),Nf("design:type",Object)],rm.prototype,"_results",void 0);class im extends zf{constructor(){super(...arguments),this.cell=void 0}static style(){return Bf}get activeCell(){return Vf(this.activeDna,this.activeAgentPubKey,this.conductors)||Hf(this.activeDna,this.conductors)[0]}render(){return l(Th||(Th=Pf`
      <div class="column">
        ${0}
      </div>
    `),this.activeCell?l(Ih||(Ih=Pf`
              <span>
                <strong>
                  Entries with associated metadata, and agent ids with all their
                  headers
                </strong>
              </span>
              <json-viewer
                id="dht-shard"
                style="margin-top: 16px;"
                .object=${0}
              >
              </json-viewer>
            `),JSON.stringify(function(e){const t=ta(e),n={};for(const r of t)n[r]={details:ea(e,r),links:ra(e,r)};return n}(this.activeCell.getState()))):l(Oh||(Oh=Pf`
              <span class="placeholder">
                Select a cell to see its DHT Shard
              </span>
            `)))}static get scopedElements(){return{"json-viewer":tm}}}function am(e){if(null==e)return e;if(Array.isArray(e))return e.map(am);if("object"==typeof e){for(const t of Object.keys(e))e[t]=am(e[t]);return e}return"string"==typeof e&&e.length>23?`${e.substring(0,20)}...`:e}Lf([v({type:Object}),Nf("design:type",Object)],im.prototype,"cell",void 0);class om extends zf{static get styles(){return[Bf,c(Rh||(Rh=Pf`
        :host {
          display: flex;
        }
      `))]}get activeHashedContent(){const e=Hf(this.activeDna,this.conductors);return function(e,t){if(e)for(const n of t){const t=n.getState().CAS[e];if(t)return t}}(this.activeHash,e)}render(){return l(Dh||(Dh=Pf`
      <mwc-card style="width: auto; min-height: 200px;" class="fill">
        <div class="column fill" style="padding: 16px;">
          <span class="title">
            ${0}
            Contents</span
          >
          ${0}
        </div>
      </mwc-card>
    `),this.activeHashedContent&&this.activeHashedContent.header?"Header":"Entry",this.activeHashedContent?l(Ph||(Ph=Pf`
                <div class="column fill">
                  <span style="margin-bottom: 16px;">
                    ${0}
                    Hash: ${0}
                  </span>
                  <div class="fill flex-scrollable-parent">
                    <div class="flex-scrollable-container">
                      <div class="flex-scrollable-y" style="height: 100%;">
                        <json-viewer
                          .object=${0}
                          class="fill"
                        ></json-viewer>
                      </div>
                    </div>
                  </div>
                </div>
              `),this.activeHashedContent.header?"Header":"Entry",this.activeHash,am(this.activeHashedContent)):l(Lh||(Lh=Pf`
                <div class="column fill center-content">
                  <span class="placeholder">Select entry to inspect</span>
                </div>
              `)))}static get scopedElements(){return{"json-viewer":tm,"mwc-card":il}}}class sm extends zf{constructor(){super(...arguments),this.selectedTabIndex=0}firstUpdated(){this.addEventListener("entry-committed",(e=>{this.selectedTabIndex=0}))}static get styles(){return[Bf,c(Nh||(Nh=Pf`
        :host {
          display: flex;
        }

        mwc-card {
          padding: 16px;
        }
      `))]}renderAgentHelp(){return l(Mh||(Mh=Pf`
      <mwc-dialog
        id="conductor-help"
        heading="Node Help"
        style="--mdc-dialog-max-width: 700px"
      >
        <span>
          You've selected the node or conductor with Agent ID
          ${0}. Here you can see its internal state:
          <ul>
            <li>
              <strong>Source Chain</strong>: entries that this node has
              committed. Here you can see in grey the
              <a
                href="https://developer.holochain.org/docs/concepts/3_private_data/"
                target="_blank"
                >headers
              </a>
              of the entries, and in colors the entries themselves. When you
              select an entry, the other nodes that are holding the entry DHT
              will be hightlighted in the DHT.
            </li>
            <br />
            <li>
              <strong>DHT Shard</strong>: slice of the DHT that this node is
              holding. You can see the list of all the entries that this node is
              holding indexed by their hash, and metadata associated to those
              entries.
            </li>
            <br />
            <li>
              <strong>Commit Entries</strong>: here you can actually create
              entries yourself. They will be created on behalf of this node. Try
              it! You can create an entry and see where it lands on the DHT, and
              go to the DHT Shard of those nodes and check it's there.
            </li>
          </ul>
        </span>
        <mwc-button slot="primaryAction" dialogAction="cancel">
          Got it!
        </mwc-button>
      </mwc-dialog>
    `),this.activeAgentPubKey)}render(){return l(Fh||(Fh=Pf`
      ${0}
      <mwc-card style="width: auto;" class="fill">
        <div class="column fill">
          <div class="row" style="padding: 16px">
            <div class="column" style="flex: 1;">
              <span class="title">Conductor Detail</span>
              <span>Agent Pub Key: ${0}</span>
            </div>
            <mwc-icon-button
              icon="help_outline"
              @click=${0}
            ></mwc-icon-button>
          </div>
          <div class="column fill">
            <mwc-tab-bar
              @MDCTabBar:activated=${0}
              .activeIndex=${0}
            >
              <mwc-tab label="Source Chain"></mwc-tab>
              <mwc-tab label="DHT Shard"></mwc-tab>
              <mwc-tab label="Commit entries"></mwc-tab>
            </mwc-tab-bar>
            <div style="padding: 16px;" class="column fill">
              ${0}
            </div>
          </div>
        </div>
      </mwc-card>
    `),this.renderAgentHelp(),this.activeAgentPubKey,(()=>this.conductorHelp.open=!0),(e=>this.selectedTabIndex=e.detail.index),this.selectedTabIndex,0===this.selectedTabIndex?l(zh||(zh=Pf`
                    <div class="row fill">
                      <holochain-playground-source-chain
                        class="fill"
                      ></holochain-playground-source-chain>
                      <div class="flex-scrollable-parent">
                        <div class="flex-scrollable-container">
                          <div class="flex-scrollable-y">
                            <holochain-playground-entry-detail
                              class="fill"
                            ></holochain-playground-entry-detail>
                          </div>
                        </div>
                      </div>
                    </div>
                  `)):1===this.selectedTabIndex?l(Bh||(Bh=Pf`
                    <div class="flex-scrollable-parent">
                      <div class="flex-scrollable-container">
                        <div class="flex-scrollable-y">
                          <holochain-playground-dht-shard></holochain-playground-dht-shard>
                        </div>
                      </div>
                    </div>
                  `)):l(jh||(jh=Pf`
                    <holochain-playground-create-entries></holochain-playground-create-entries>
                  `)))}static get scopedElements(){return{"holochain-playground-dht-shard":im,"holochain-playground-entry-detail":om,"mwc-tab":tc,"mwc-tab-bar":Sc,"mwc-card":il,"mwc-icon-button":ft,"mwc-dialog":Vd}}}Lf([v({type:Number}),Nf("design:type",Number)],sm.prototype,"selectedTabIndex",void 0),Lf([b("#conductor-help"),Nf("design:type",Vd)],sm.prototype,"conductorHelp",void 0);var cm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function lm(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return dm(null==t&&n.path)}},n.exports),n.exports}function dm(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var um=/^\s+|\s+$/g,pm=/^[-+]0x[0-9a-f]+$/i,hm=/^0b[01]+$/i,fm=/^0o[0-7]+$/i,mm=parseInt,gm="object"==typeof cm&&cm&&cm.Object===Object&&cm,vm="object"==typeof self&&self&&self.Object===Object&&self,ym=gm||vm||Function("return this")(),bm=Object.prototype.toString,_m=Math.max,xm=Math.min,wm=function(){return ym.Date.now()};function km(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Em(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==bm.call(e)}(e))return NaN;if(km(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=km(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(um,"");var n=hm.test(e);return n||fm.test(e)?mm(e.slice(2),n?2:8):pm.test(e)?NaN:+e}var Cm=function(e,t,n){var r,i,a,o,s,c,l=0,d=!1,u=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,a=i;return r=i=void 0,l=t,o=e.apply(a,n)}function f(e){return l=e,s=setTimeout(g,t),d?h(e):o}function m(e){var n=e-c;return void 0===c||n>=t||n<0||u&&e-l>=a}function g(){var e=wm();if(m(e))return v(e);s=setTimeout(g,function(e){var n=t-(e-c);return u?xm(n,a-(e-l)):n}(e))}function v(e){return s=void 0,p&&r?h(e):(r=i=void 0,o)}function y(){var e=wm(),n=m(e);if(r=arguments,i=this,c=e,n){if(void 0===s)return f(c);if(u)return s=setTimeout(g,t),h(c)}return void 0===s&&(s=setTimeout(g,t)),o}return t=Em(t)||0,km(n)&&(d=!!n.leading,a=(u="maxWait"in n)?_m(Em(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=c=i=s=void 0},y.flush=function(){return void 0===s?o:v(wm())},y},Sm=lm((function(e,t){(function(){var t,n,r,i,a,o,s,c,l,d,u,p,h,f,m;r=Math.floor,d=Math.min,n=function(e,t){return e<t?-1:e>t?1:0},l=function(e,t,i,a,o){var s;if(null==i&&(i=0),null==o&&(o=n),i<0)throw new Error("lo must be non-negative");for(null==a&&(a=e.length);i<a;)o(t,e[s=r((i+a)/2)])<0?a=s:i=s+1;return[].splice.apply(e,[i,i-i].concat(t)),t},o=function(e,t,r){return null==r&&(r=n),e.push(t),f(e,0,e.length-1,r)},a=function(e,t){var r,i;return null==t&&(t=n),r=e.pop(),e.length?(i=e[0],e[0]=r,m(e,0,t)):i=r,i},c=function(e,t,r){var i;return null==r&&(r=n),i=e[0],e[0]=t,m(e,0,r),i},s=function(e,t,r){var i;return null==r&&(r=n),e.length&&r(e[0],t)<0&&(t=(i=[e[0],t])[0],e[0]=i[1],m(e,0,r)),t},i=function(e,t){var i,a,o,s,c,l;for(null==t&&(t=n),c=[],a=0,o=(s=function(){l=[];for(var t=0,n=r(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)l.push(t);return l}.apply(this).reverse()).length;a<o;a++)i=s[a],c.push(m(e,i,t));return c},h=function(e,t,r){var i;if(null==r&&(r=n),-1!==(i=e.indexOf(t)))return f(e,0,i,r),m(e,i,r)},u=function(e,t,r){var a,o,c,l,d;if(null==r&&(r=n),!(o=e.slice(0,t)).length)return o;for(i(o,r),c=0,l=(d=e.slice(t)).length;c<l;c++)a=d[c],s(o,a,r);return o.sort(r).reverse()},p=function(e,t,r){var o,s,c,u,p,h,f,m,g;if(null==r&&(r=n),10*t<=e.length){if(!(c=e.slice(0,t).sort(r)).length)return c;for(s=c[c.length-1],u=0,h=(f=e.slice(t)).length;u<h;u++)r(o=f[u],s)<0&&(l(c,o,0,null,r),c.pop(),s=c[c.length-1]);return c}for(i(e,r),g=[],p=0,m=d(t,e.length);0<=m?p<m:p>m;0<=m?++p:--p)g.push(a(e,r));return g},f=function(e,t,r,i){var a,o,s;for(null==i&&(i=n),a=e[r];r>t&&i(a,o=e[s=r-1>>1])<0;)e[r]=o,r=s;return e[r]=a},m=function(e,t,r){var i,a,o,s,c;for(null==r&&(r=n),a=e.length,c=t,o=e[t],i=2*t+1;i<a;)(s=i+1)<a&&!(r(e[i],e[s])<0)&&(i=s),e[t]=e[i],i=2*(t=i)+1;return e[t]=o,f(e,c,t,r)},t=function(){function e(e){this.cmp=null!=e?e:n,this.nodes=[]}return e.push=o,e.pop=a,e.replace=c,e.pushpop=s,e.heapify=i,e.updateItem=h,e.nlargest=u,e.nsmallest=p,e.prototype.push=function(e){return o(this.nodes,e,this.cmp)},e.prototype.pop=function(){return a(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return c(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return s(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return i(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return h(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),e.exports=t}).call(cm)}));function Am(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var Tm=Am(Cm),Im=Am(Sm);function Om(e){return(Om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pm(e,t,n){return t&&Dm(e.prototype,t),n&&Dm(e,n),e}function Lm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Mm="undefined"==typeof window?null:window,Fm=Mm?Mm.navigator:null;Mm&&Mm.document;var zm=Om(""),Bm=Om({}),jm=Om((function(){})),Hm="undefined"==typeof HTMLElement?"undefined":Om(HTMLElement),Vm=function(e){return e&&e.instanceString&&Um(e.instanceString)?e.instanceString():null},$m=function(e){return null!=e&&Om(e)==zm},Um=function(e){return null!=e&&Om(e)===jm},Gm=function(e){return!Km(e)&&(Array.isArray?Array.isArray(e):null!=e&&e instanceof Array)},qm=function(e){return null!=e&&Om(e)===Bm&&!Gm(e)&&e.constructor===Object},Xm=function(e){return null!=e&&Om(e)===Om(1)&&!isNaN(e)},Ym=function(e){return"undefined"===Hm?void 0:null!=e&&e instanceof HTMLElement},Km=function(e){return Wm(e)||Zm(e)},Wm=function(e){return"collection"===Vm(e)&&e._private.single},Zm=function(e){return"collection"===Vm(e)&&!e._private.single},Qm=function(e){return"core"===Vm(e)},Jm=function(e){return"stylesheet"===Vm(e)},eg=function(e){return null==e||!(""!==e&&!e.match(/^\s+$/))},tg=function(e){return function(e){return null!=e&&Om(e)===Bm}(e)&&Um(e.then)},ng=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var n=function n(){var r,i=this,a=arguments,o=t.apply(i,a),s=n.cache;return(r=s[o])||(r=s[o]=e.apply(i,a)),r};return n.cache={},n},rg=ng((function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))})),ig=ng((function(e){return e.replace(/(-\w)/g,(function(e){return e[1].toUpperCase()}))})),ag=ng((function(e,t){return e+t[0].toUpperCase()+t.substring(1)}),(function(e,t){return e+"$"+t})),og=function(e){return eg(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},sg="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",cg=function(e,t){return e<t?-1:e>t?1:0},lg=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(null!=r)for(var i=Object.keys(r),a=0;a<i.length;a++){var o=i[a];e[o]=r[o]}}return e},dg=function(e){return(Gm(e)?e:null)||function(e){return ug[e.toLowerCase()]}(e)||function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,n,r,i=16;return 4===e.length?(t=parseInt(e[1]+e[1],i),n=parseInt(e[2]+e[2],i),r=parseInt(e[3]+e[3],i)):(t=parseInt(e[1]+e[2],i),n=parseInt(e[3]+e[4],i),r=parseInt(e[5]+e[6],i)),[t,n,r]}}(e)||function(e){var t,n=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(n){t=[];for(var r=[],i=1;i<=3;i++){var a=n[i];if("%"===a[a.length-1]&&(r[i]=!0),a=parseFloat(a),r[i]&&(a=a/100*255),a<0||a>255)return;t.push(Math.floor(a))}var o=r[1]||r[2]||r[3],s=r[1]&&r[2]&&r[3];if(o&&!s)return;var c=n[4];if(void 0!==c){if((c=parseFloat(c))<0||c>1)return;t.push(c)}}return t}(e)||function(e){var t,n,r,i,a,o,s,c;function l(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var d=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(d){if((n=parseInt(d[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(r=parseFloat(d[2]))<0||r>100)return;if(r/=100,(i=parseFloat(d[3]))<0||i>100)return;if(i/=100,void 0!==(a=d[4])&&((a=parseFloat(a))<0||a>1))return;if(0===r)o=s=c=Math.round(255*i);else{var u=i<.5?i*(1+r):i+r-i*r,p=2*i-u;o=Math.round(255*l(p,u,n+1/3)),s=Math.round(255*l(p,u,n)),c=Math.round(255*l(p,u,n-1/3))}t=[o,s,c,a]}return t}(e)},ug={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},pg=function(e){for(var t=e.map,n=e.keys,r=n.length,i=0;i<r;i++){var a=n[i];if(qm(a))throw Error("Tried to set map with object key");i<n.length-1?(null==t[a]&&(t[a]={}),t=t[a]):t[a]=e.value}},hg=function(e){for(var t=e.map,n=e.keys,r=n.length,i=0;i<r;i++){var a=n[i];if(qm(a))throw Error("Tried to get map with object key");if(null==(t=t[a]))return t}return t},fg=Mm?Mm.performance:null,mg=fg&&fg.now?function(){return fg.now()}:function(){return Date.now()},gg=function(){if(Mm){if(Mm.requestAnimationFrame)return function(e){Mm.requestAnimationFrame(e)};if(Mm.mozRequestAnimationFrame)return function(e){Mm.mozRequestAnimationFrame(e)};if(Mm.webkitRequestAnimationFrame)return function(e){Mm.webkitRequestAnimationFrame(e)};if(Mm.msRequestAnimationFrame)return function(e){Mm.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout((function(){e(mg())}),1e3/60)}}(),vg=function(e){return gg(e)},yg=mg,bg=65599,_g=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9261,r=n;!(t=e.next()).done;)r=r*bg+t.value|0;return r},xg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9261;return t*bg+e|0},wg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381;return(t<<5)+t+e|0},kg=function(e){return 2097152*e[0]+e[1]},Eg=function(e,t){return[xg(e[0],t[0]),wg(e[1],t[1])]},Cg=function(e,t){var n={value:0,done:!1},r=0,i=e.length;return _g({next:function(){return r<i?n.value=e.charCodeAt(r++):n.done=!0,n}},t)},Sg=function(){return Ag(arguments)},Ag=function(e){for(var t,n=0;n<e.length;n++){var r=e[n];t=0===n?Cg(r):Cg(r,t)}return t},Tg=!0,Ig=null!=console.warn,Og=null!=console.trace,Rg=Number.MAX_SAFE_INTEGER||9007199254740991,Dg=function(){return!0},Pg=function(){return!1},Lg=function(){return 0},Ng=function(){},Mg=function(e){throw new Error(e)},Fg=function(e){if(void 0===e)return Tg;Tg=!!e},zg=function(e){Fg()&&(Ig?console.warn(e):(console.log(e),Og&&console.trace()))},Bg=function(e){return null==e?e:Gm(e)?e.slice():qm(e)?function(e){return lg({},e)}(e):e},jg=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},Hg={},Vg=function(){return Hg},$g=function(e){var t=Object.keys(e);return function(n){for(var r={},i=0;i<t.length;i++){var a=t[i],o=null==n?void 0:n[a];r[a]=void 0===o?e[a]:o}return r}},Ug=function(e,t,n){for(var r=e.length;r>=0&&(e[r]!==t||(e.splice(r,1),n));r--);},Gg=function(e){e.splice(0,e.length)},qg=function(e,t,n){return n&&(t=ag(n,t)),e[t]},Xg=function(e,t,n,r){n&&(t=ag(n,t)),e[t]=r},Yg="undefined"!=typeof Map?Map:function(){function e(){Rm(this,e),this._obj={}}return Pm(e,[{key:"set",value:function(e,t){return this._obj[e]=t,this}},{key:"delete",value:function(e){return this._obj[e]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(e){return void 0!==this._obj[e]}},{key:"get",value:function(e){return this._obj[e]}}]),e}(),Kg=function(){function e(t){if(Rm(this,e),this._obj=Object.create(null),this.size=0,null!=t){var n;n=null!=t.instanceString&&t.instanceString()===this.instanceString()?t.toArray():t;for(var r=0;r<n.length;r++)this.add(n[r])}}return Pm(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){var t=this._obj;1!==t[e]&&(t[e]=1,this.size++)}},{key:"delete",value:function(e){var t=this._obj;1===t[e]&&(t[e]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter((function(t){return e.has(t)}))}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}}]),e}(),Wg="undefined"!==("undefined"==typeof Set?"undefined":Om(Set))?Set:Kg,Zg=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==e&&void 0!==t&&Qm(e)){var r=t.group;if(null==r&&(r=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===r||"edges"===r){this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:r,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,pannable:void 0===t.pannable?"edges"===r:!!t.pannable,active:!1,classes:new Wg,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==i.position.x&&(i.position.x=0),null==i.position.y&&(i.position.y=0),t.renderedPosition){var a=t.renderedPosition,o=e.pan(),s=e.zoom();i.position={x:(a.x-o.x)/s,y:(a.y-o.y)/s}}var c=[];Gm(t.classes)?c=t.classes:$m(t.classes)&&(c=t.classes.split(/\s+/));for(var l=0,d=c.length;l<d;l++){var u=c[l];u&&""!==u&&i.classes.add(u)}this.createEmitter();var p=t.style||t.css;p&&(zg("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(p)),(void 0===n||n)&&this.restore()}else Mg("An element must be of type `nodes` or `edges`; you specified `"+r+"`")}else Mg("An element must have a core reference and parameters set")},Qg=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,r){var i;qm(t)&&!Km(t)&&(t=(i=t).roots||i.root,n=i.visit,r=i.directed),r=2!==arguments.length||Um(n)?r:n,n=Um(n)?n:function(){};for(var a,o=this._private.cy,s=t=$m(t)?this.filter(t):t,c=[],l=[],d={},u={},p={},h=0,f=this.byGroup(),m=f.nodes,g=f.edges,v=0;v<s.length;v++){var y=s[v],b=y.id();y.isNode()&&(c.unshift(y),e.bfs&&(p[b]=!0,l.push(y)),u[b]=0)}var _=function(){var t=e.bfs?c.shift():c.pop(),i=t.id();if(e.dfs){if(p[i])return"continue";p[i]=!0,l.push(t)}var o,s=u[i],f=d[i],v=null!=f?f.source():null,y=null!=f?f.target():null,b=null==f?void 0:t.same(v)?y[0]:v[0];if(!0===(o=n(t,f,b,h++,s)))return a=t,"break";if(!1===o)return"break";for(var _=t.connectedEdges().filter((function(e){return(!r||e.source().same(t))&&g.has(e)})),x=0;x<_.length;x++){var w=_[x],k=w.connectedNodes().filter((function(e){return!e.same(t)&&m.has(e)})),E=k.id();0===k.length||p[E]||(k=k[0],c.push(k),e.bfs&&(p[E]=!0,l.push(k)),d[E]=w,u[E]=u[i]+1)}};e:for(;0!==c.length;){var x=_();switch(x){case"continue":continue;case"break":break e}}for(var w=o.collection(),k=0;k<l.length;k++){var E=l[k],C=d[E.id()];null!=C&&w.push(C),w.push(E)}return{path:o.collection(w),found:o.collection(a)}}},Jg={breadthFirstSearch:Qg({bfs:!0}),depthFirstSearch:Qg({dfs:!0})};Jg.bfs=Jg.breadthFirstSearch,Jg.dfs=Jg.depthFirstSearch;var ev=$g({root:null,weight:function(e){return 1},directed:!1}),tv={dijkstra:function(e){if(!qm(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=ev(e),r=n.root,i=n.weight,a=n.directed,o=this,s=i,c=$m(r)?this.filter(r)[0]:r[0],l={},d={},u={},p=this.byGroup(),h=p.nodes,f=p.edges;f.unmergeBy((function(e){return e.isLoop()}));for(var m=function(e){return l[e.id()]},g=function(e,t){l[e.id()]=t,v.updateItem(e)},v=new Im((function(e,t){return m(e)-m(t)})),y=0;y<h.length;y++){var b=h[y];l[b.id()]=b.same(c)?0:1/0,v.push(b)}for(var _=function(e,t){for(var n,r=(a?e.edgesTo(t):e.edgesWith(t)).intersect(f),i=1/0,o=0;o<r.length;o++){var c=r[o],l=s(c);(l<i||!n)&&(i=l,n=c)}return{edge:n,dist:i}};v.size()>0;){var x=v.pop(),w=m(x),k=x.id();if(u[k]=w,w!==1/0)for(var E=x.neighborhood().intersect(h),C=0;C<E.length;C++){var S=E[C],A=S.id(),T=_(x,S),I=w+T.dist;I<m(S)&&(g(S,I),d[A]={node:x,edge:T.edge})}}return{distanceTo:function(e){var t=$m(e)?h.filter(e)[0]:e[0];return u[t.id()]},pathTo:function(e){var t=$m(e)?h.filter(e)[0]:e[0],n=[],r=t,i=r.id();if(t.length>0)for(n.unshift(t);d[i];){var a=d[i];n.unshift(a.edge),n.unshift(a.node),i=(r=a.node).id()}return o.spawn(n)}}}},nv={kruskal:function(e){e=e||function(e){return 1};for(var t=this.byGroup(),n=t.nodes,r=t.edges,i=n.length,a=new Array(i),o=n,s=function(e){for(var t=0;t<a.length;t++){if(a[t].has(e))return t}},c=0;c<i;c++)a[c]=this.spawn(n[c]);for(var l=r.sort((function(t,n){return e(t)-e(n)})),d=0;d<l.length;d++){var u=l[d],p=u.source()[0],h=u.target()[0],f=s(p),m=s(h),g=a[f],v=a[m];f!==m&&(o.merge(u),g.merge(v),a.splice(m,1))}return o}},rv=$g({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),iv={aStar:function(e){var t=this.cy(),n=rv(e),r=n.root,i=n.goal,a=n.heuristic,o=n.directed,s=n.weight;r=t.collection(r)[0],i=t.collection(i)[0];var c,l,d=r.id(),u=i.id(),p={},h={},f={},m=new Im((function(e,t){return h[e.id()]-h[t.id()]})),g=new Wg,v={},y={},b=function(e,t){m.push(e),g.add(t)};b(r,d),p[d]=0,h[d]=a(r);for(var _,x=0;m.size()>0;){if(c=m.pop(),l=c.id(),g.delete(l),x++,l===u){for(var w=[],k=i,E=u,C=y[E];w.unshift(k),null!=C&&w.unshift(C),null!=(k=v[E]);)C=y[E=k.id()];return{found:!0,distance:p[l],path:this.spawn(w),steps:x}}f[l]=!0;for(var S=c._private.edges,A=0;A<S.length;A++){var T=S[A];if(this.hasElementWithId(T.id())&&(!o||T.data("source")===l)){var I=T.source(),O=T.target(),R=I.id()!==l?I:O,D=R.id();if(this.hasElementWithId(D)&&!f[D]){var P=p[l]+s(T);_=D,g.has(_)?P<p[D]&&(p[D]=P,h[D]=P+a(R),v[D]=c):(p[D]=P,h[D]=P+a(R),b(R,D),v[D]=c,y[D]=T)}}}}return{found:!1,distance:void 0,path:void 0,steps:x}}},av=$g({weight:function(e){return 1},directed:!1}),ov={floydWarshall:function(e){for(var t=this.cy(),n=av(e),r=n.weight,i=n.directed,a=r,o=this.byGroup(),s=o.nodes,c=o.edges,l=s.length,d=l*l,u=function(e){return s.indexOf(e)},p=function(e){return s[e]},h=new Array(d),f=0;f<d;f++){var m=f%l,g=(f-m)/l;h[f]=g===m?0:1/0}for(var v=new Array(d),y=new Array(d),b=0;b<c.length;b++){var _=c[b],x=_.source()[0],w=_.target()[0];if(x!==w){var k=u(x),E=u(w),C=k*l+E,S=a(_);if(h[C]>S&&(h[C]=S,v[C]=E,y[C]=_),!i){var A=E*l+k;!i&&h[A]>S&&(h[A]=S,v[A]=k,y[A]=_)}}}for(var T=0;T<l;T++)for(var I=0;I<l;I++)for(var O=I*l+T,R=0;R<l;R++){var D=I*l+R,P=T*l+R;h[O]+h[P]<h[D]&&(h[D]=h[O]+h[P],v[D]=v[O])}var L=function(e){return u(function(e){return($m(e)?t.filter(e):e)[0]}(e))};return{distance:function(e,t){var n=L(e),r=L(t);return h[n*l+r]},path:function(e,n){var r=L(e),i=L(n),a=p(r);if(r===i)return a.collection();if(null==v[r*l+i])return t.collection();var o,s=t.collection(),c=r;for(s.merge(a);r!==i;)c=r,r=v[r*l+i],o=y[c*l+r],s.merge(o),s.merge(p(r));return s}}}},sv=$g({weight:function(e){return 1},directed:!1,root:null}),cv={bellmanFord:function(e){var t=this,n=sv(e),r=n.weight,i=n.directed,a=n.root,o=r,s=this,c=this.cy(),l=this.byGroup(),d=l.edges,u=l.nodes,p=u.length,h=new Yg,f=!1;a=c.collection(a)[0],d.unmergeBy((function(e){return e.isLoop()}));for(var m=d.length,g=function(e){var t=h.get(e.id());return t||(t={},h.set(e.id(),t)),t},v=function(e){return($m(e)?c.$(e):e)[0]},y=0;y<p;y++){var b=u[y],_=g(b);b.same(a)?_.dist=0:_.dist=1/0,_.pred=null,_.edge=null}for(var x=!1,w=function(e,t,n,r,i,a){var o=r.dist+a;o<i.dist&&!n.same(r.edge)&&(i.dist=o,i.pred=e,i.edge=n,x=!0)},k=1;k<p;k++){x=!1;for(var E=0;E<m;E++){var C=d[E],S=C.source(),A=C.target(),T=o(C),I=g(S),O=g(A);w(S,0,C,I,O,T),i||w(A,0,C,O,I,T)}if(!x)break}if(x)for(var R=0;R<m;R++){var D=d[R],P=D.source(),L=D.target(),N=o(D),M=g(P).dist,F=g(L).dist;if(M+N<F||!i&&F+N<M){zg("Graph contains a negative weight cycle for Bellman-Ford"),f=!0;break}}return{distanceTo:function(e){return g(v(e)).dist},pathTo:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,r=v(e),i=[],o=r;;){if(null==o)return t.spawn();var c=g(o),l=c.edge,d=c.pred;if(i.unshift(o[0]),o.same(n)&&i.length>0)break;null!=l&&i.unshift(l),o=d}return s.spawn(i)},hasNegativeWeightCycle:f,negativeWeightCycles:[]}}},lv=Math.sqrt(2),dv=function(e,t,n){0===n.length&&Mg("Karger-Stein must be run on a connected (sub)graph");for(var r=n[e],i=r[1],a=r[2],o=t[i],s=t[a],c=n,l=c.length-1;l>=0;l--){var d=c[l],u=d[1],p=d[2];(t[u]===o&&t[p]===s||t[u]===s&&t[p]===o)&&c.splice(l,1)}for(var h=0;h<c.length;h++){var f=c[h];f[1]===s?(c[h]=f.slice(),c[h][1]=o):f[2]===s&&(c[h]=f.slice(),c[h][2]=o)}for(var m=0;m<t.length;m++)t[m]===s&&(t[m]=o);return c},uv=function(e,t,n,r){for(;n>r;){var i=Math.floor(Math.random()*t.length);t=dv(i,e,t),n--}return t},pv={kargerStein:function(){var e=this,t=this.byGroup(),n=t.nodes,r=t.edges;r.unmergeBy((function(e){return e.isLoop()}));var i=n.length,a=r.length,o=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),s=Math.floor(i/lv);if(!(i<2)){for(var c=[],l=0;l<a;l++){var d=r[l];c.push([l,n.indexOf(d.source()),n.indexOf(d.target())])}for(var u=1/0,p=[],h=new Array(i),f=new Array(i),m=new Array(i),g=function(e,t){for(var n=0;n<i;n++)t[n]=e[n]},v=0;v<=o;v++){for(var y=0;y<i;y++)f[y]=y;var b=uv(f,c.slice(),i,s),_=b.slice();g(f,m);var x=uv(f,b,s,2),w=uv(m,_,s,2);x.length<=w.length&&x.length<u?(u=x.length,p=x,g(f,h)):w.length<=x.length&&w.length<u&&(u=w.length,p=w,g(m,h))}for(var k=this.spawn(p.map((function(e){return r[e[0]]}))),E=this.spawn(),C=this.spawn(),S=h[0],A=0;A<h.length;A++){var T=h[A],I=n[A];T===S?E.merge(I):C.merge(I)}var O=function(t){var n=e.spawn();return t.forEach((function(t){n.merge(t),t.connectedEdges().forEach((function(t){e.contains(t)&&!k.contains(t)&&n.merge(t)}))})),n},R=[O(E),O(C)];return{cut:k,components:R,partition1:E,partition2:C}}Mg("At least 2 nodes are required for Karger-Stein algorithm")}},hv=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},fv=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},mv=function(e){return{x:e[0],y:e[1]}},gv=function(e,t){return Math.atan2(t,e)-Math.PI/2},vv=Math.log2||function(e){return Math.log(e)/Math.log(2)},yv=function(e){return e>0?1:e<0?-1:0},bv=function(e,t){return Math.sqrt(_v(e,t))},_v=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},xv=function(e){for(var t=e.length,n=0,r=0;r<t;r++)n+=e[r];for(var i=0;i<t;i++)e[i]=e[i]/n;return e},wv=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},kv=function(e,t,n,r){return{x:wv(e.x,t.x,n.x,r),y:wv(e.y,t.y,n.y,r)}},Ev=function(e,t,n){return Math.max(e,Math.min(n,t))},Cv=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},Sv=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Av=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Tv=function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===a.length)t=n=r=i=a[0];else if(2===a.length)t=r=a[0],i=n=a[1];else if(4===a.length){var o=Nm(a,4);t=o[0],n=o[1],r=o[2],i=o[3]}return e.x1-=i,e.x2+=n,e.y1-=t,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Iv=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Ov=function(e,t){return!(e.x1>t.x2)&&(!(t.x1>e.x2)&&(!(e.x2<t.x1)&&(!(t.x2<e.x1)&&(!(e.y2<t.y1)&&(!(t.y2<e.y1)&&(!(e.y1>t.y2)&&!(t.y1>e.y2)))))))},Rv=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},Dv=function(e,t){return Rv(e,t.x1,t.y1)&&Rv(e,t.x2,t.y2)},Pv=function(e,t,n,r,i,a,o){var s,c=Zv(i,a),l=i/2,d=a/2,u=r-d-o;if((s=Gv(e,t,n,r,n-l+c-o,u,n+l-c+o,u,!1)).length>0)return s;var p=n+l+o;if((s=Gv(e,t,n,r,p,r-d+c-o,p,r+d-c+o,!1)).length>0)return s;var h=r+d+o;if((s=Gv(e,t,n,r,n-l+c-o,h,n+l-c+o,h,!1)).length>0)return s;var f,m=n-l-o;if((s=Gv(e,t,n,r,m,r-d+c-o,m,r+d-c+o,!1)).length>0)return s;var g=n-l+c,v=r-d+c;if((f=$v(e,t,n,r,g,v,c+o)).length>0&&f[0]<=g&&f[1]<=v)return[f[0],f[1]];var y=n+l-c,b=r-d+c;if((f=$v(e,t,n,r,y,b,c+o)).length>0&&f[0]>=y&&f[1]<=b)return[f[0],f[1]];var _=n+l-c,x=r+d-c;if((f=$v(e,t,n,r,_,x,c+o)).length>0&&f[0]>=_&&f[1]>=x)return[f[0],f[1]];var w=n-l+c,k=r+d-c;return(f=$v(e,t,n,r,w,k,c+o)).length>0&&f[0]<=w&&f[1]>=k?[f[0],f[1]]:[]},Lv=function(e,t,n,r,i,a,o){var s=o,c=Math.min(n,i),l=Math.max(n,i),d=Math.min(r,a),u=Math.max(r,a);return c-s<=e&&e<=l+s&&d-s<=t&&t<=u+s},Nv=function(e,t,n,r,i,a,o,s,c){var l=Math.min(n,o,i)-c,d=Math.max(n,o,i)+c,u=Math.min(r,s,a)-c,p=Math.max(r,s,a)+c;return!(e<l||e>d||t<u||t>p)},Mv=function(e,t,n,r,i,a,o,s){var c=[];!function(e,t,n,r,i){var a,o,s,c,l,d,u,p;0===e&&(e=1e-5),s=-27*(r/=e)+(t/=e)*(9*(n/=e)-t*t*2),a=(o=(3*n-t*t)/9)*o*o+(s/=54)*s,i[1]=0,u=t/3,a>0?(l=(l=s+Math.sqrt(a))<0?-Math.pow(-l,1/3):Math.pow(l,1/3),d=(d=s-Math.sqrt(a))<0?-Math.pow(-d,1/3):Math.pow(d,1/3),i[0]=-u+l+d,u+=(l+d)/2,i[4]=i[2]=-u,u=Math.sqrt(3)*(-d+l)/2,i[3]=u,i[5]=-u):(i[5]=i[3]=0,0===a?(p=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=2*p-u,i[4]=i[2]=-(p+u)):(c=(o=-o)*o*o,c=Math.acos(s/Math.sqrt(c)),p=2*Math.sqrt(o),i[0]=-u+p*Math.cos(c/3),i[2]=-u+p*Math.cos((c+2*Math.PI)/3),i[4]=-u+p*Math.cos((c+4*Math.PI)/3)))}(1*n*n-4*n*i+2*n*o+4*i*i-4*i*o+o*o+r*r-4*r*a+2*r*s+4*a*a-4*a*s+s*s,9*n*i-3*n*n-3*n*o-6*i*i+3*i*o+9*r*a-3*r*r-3*r*s-6*a*a+3*a*s,3*n*n-6*n*i+n*o-n*e+2*i*i+2*i*e-o*e+3*r*r-6*r*a+r*s-r*t+2*a*a+2*a*t-s*t,1*n*i-n*n+n*e-i*e+r*a-r*r+r*t-a*t,c);for(var l=[],d=0;d<6;d+=2)Math.abs(c[d+1])<1e-7&&c[d]>=0&&c[d]<=1&&l.push(c[d]);l.push(1),l.push(0);for(var u,p,h,f=-1,m=0;m<l.length;m++)u=Math.pow(1-l[m],2)*n+2*(1-l[m])*l[m]*i+l[m]*l[m]*o,p=Math.pow(1-l[m],2)*r+2*(1-l[m])*l[m]*a+l[m]*l[m]*s,h=Math.pow(u-e,2)+Math.pow(p-t,2),f>=0?h<f&&(f=h):f=h;return f},Fv=function(e,t,n,r,i,a){var o=[e-n,t-r],s=[i-n,a-r],c=s[0]*s[0]+s[1]*s[1],l=o[0]*o[0]+o[1]*o[1],d=o[0]*s[0]+o[1]*s[1],u=d*d/c;return d<0?l:u>c?(e-i)*(e-i)+(t-a)*(t-a):l-u},zv=function(e,t,n){for(var r,i,a,o,s=0,c=0;c<n.length/2;c++)if(r=n[2*c],i=n[2*c+1],c+1<n.length/2?(a=n[2*(c+1)],o=n[2*(c+1)+1]):(a=n[2*(c+1-n.length/2)],o=n[2*(c+1-n.length/2)+1]),r==e&&a==e);else{if(!(r>=e&&e>=a||r<=e&&e<=a))continue;(e-r)/(a-r)*(o-i)+i>t&&s++}return s%2!=0},Bv=function(e,t,n,r,i,a,o,s,c){var l,d=new Array(n.length);null!=s[0]?(l=Math.atan(s[1]/s[0]),s[0]<0?l+=Math.PI/2:l=-l-Math.PI/2):l=s;for(var u,p=Math.cos(-l),h=Math.sin(-l),f=0;f<d.length/2;f++)d[2*f]=a/2*(n[2*f]*p-n[2*f+1]*h),d[2*f+1]=o/2*(n[2*f+1]*p+n[2*f]*h),d[2*f]+=r,d[2*f+1]+=i;if(c>0){var m=Hv(d,-c);u=jv(m)}else u=d;return zv(e,t,u)},jv=function(e){for(var t,n,r,i,a,o,s,c,l=new Array(e.length/2),d=0;d<e.length/4;d++){t=e[4*d],n=e[4*d+1],r=e[4*d+2],i=e[4*d+3],d<e.length/4-1?(a=e[4*(d+1)],o=e[4*(d+1)+1],s=e[4*(d+1)+2],c=e[4*(d+1)+3]):(a=e[0],o=e[1],s=e[2],c=e[3]);var u=Gv(t,n,r,i,a,o,s,c,!0);l[2*d]=u[0],l[2*d+1]=u[1]}return l},Hv=function(e,t){for(var n,r,i,a,o=new Array(2*e.length),s=0;s<e.length/2;s++){n=e[2*s],r=e[2*s+1],s<e.length/2-1?(i=e[2*(s+1)],a=e[2*(s+1)+1]):(i=e[0],a=e[1]);var c=a-r,l=-(i-n),d=Math.sqrt(c*c+l*l),u=c/d,p=l/d;o[4*s]=n+u*t,o[4*s+1]=r+p*t,o[4*s+2]=i+u*t,o[4*s+3]=a+p*t}return o},Vv=function(e,t,n,r,i,a,o){return e-=i,t-=a,(e/=n/2+o)*e+(t/=r/2+o)*t<=1},$v=function(e,t,n,r,i,a,o){var s=[n-e,r-t],c=[e-i,t-a],l=s[0]*s[0]+s[1]*s[1],d=2*(c[0]*s[0]+c[1]*s[1]),u=d*d-4*l*(c[0]*c[0]+c[1]*c[1]-o*o);if(u<0)return[];var p=(-d+Math.sqrt(u))/(2*l),h=(-d-Math.sqrt(u))/(2*l),f=Math.min(p,h),m=Math.max(p,h),g=[];if(f>=0&&f<=1&&g.push(f),m>=0&&m<=1&&g.push(m),0===g.length)return[];var v=g[0]*s[0]+e,y=g[0]*s[1]+t;return g.length>1?g[0]==g[1]?[v,y]:[v,y,g[1]*s[0]+e,g[1]*s[1]+t]:[v,y]},Uv=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},Gv=function(e,t,n,r,i,a,o,s,c){var l=e-i,d=n-e,u=o-i,p=t-a,h=r-t,f=s-a,m=u*p-f*l,g=d*p-h*l,v=f*d-u*h;if(0!==v){var y=m/v,b=g/v,_=-.001;return _<=y&&y<=1.001&&_<=b&&b<=1.001||c?[e+y*d,t+y*h]:[]}return 0===m||0===g?Uv(e,n,o)===o?[o,s]:Uv(e,n,i)===i?[i,a]:Uv(i,o,n)===n?[n,r]:[]:[]},qv=function(e,t,n,r,i,a,o,s){var c,l,d,u,p,h,f=[],m=new Array(n.length),g=!0;if(null==a&&(g=!1),g){for(var v=0;v<m.length/2;v++)m[2*v]=n[2*v]*a+r,m[2*v+1]=n[2*v+1]*o+i;if(s>0){var y=Hv(m,-s);l=jv(y)}else l=m}else l=n;for(var b=0;b<l.length/2;b++)d=l[2*b],u=l[2*b+1],b<l.length/2-1?(p=l[2*(b+1)],h=l[2*(b+1)+1]):(p=l[0],h=l[1]),0!==(c=Gv(e,t,r,i,d,u,p,h)).length&&f.push(c[0],c[1]);return f},Xv=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),a=(i-n)/i;return a<0&&(a=1e-5),[t[0]+a*r[0],t[1]+a*r[1]]},Yv=function(e,t){var n=Wv(e,t);return n=Kv(n)},Kv=function(e){for(var t,n,r=e.length/2,i=1/0,a=1/0,o=-1/0,s=-1/0,c=0;c<r;c++)t=e[2*c],n=e[2*c+1],i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,n),s=Math.max(s,n);for(var l=2/(o-i),d=2/(s-a),u=0;u<r;u++)t=e[2*u]=e[2*u]*l,n=e[2*u+1]=e[2*u+1]*d,i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,n),s=Math.max(s,n);if(a<-1)for(var p=0;p<r;p++)n=e[2*p+1]=e[2*p+1]+(-1-a);return e},Wv=function(e,t){var n=1/e*2*Math.PI,r=e%2==0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var i,a=new Array(2*e),o=0;o<e;o++)i=o*n+r,a[2*o]=Math.cos(i),a[2*o+1]=Math.sin(-i);return a},Zv=function(e,t){return Math.min(e/4,t/4,8)},Qv=function(e,t){return Math.min(e/10,t/10,8)},Jv=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},ey=$g({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),ty={pageRank:function(e){for(var t=ey(e),n=t.dampingFactor,r=t.precision,i=t.iterations,a=t.weight,o=this._private.cy,s=this.byGroup(),c=s.nodes,l=s.edges,d=c.length,u=d*d,p=l.length,h=new Array(u),f=new Array(d),m=(1-n)/d,g=0;g<d;g++){for(var v=0;v<d;v++){h[g*d+v]=0}f[g]=0}for(var y=0;y<p;y++){var b=l[y],_=b.data("source"),x=b.data("target");if(_!==x){var w=c.indexOfId(_),k=c.indexOfId(x),E=a(b);h[k*d+w]+=E,f[w]+=E}}for(var C=1/d+m,S=0;S<d;S++)if(0===f[S])for(var A=0;A<d;A++){h[A*d+S]=C}else for(var T=0;T<d;T++){var I=T*d+S;h[I]=h[I]/f[S]+m}for(var O,R=new Array(d),D=new Array(d),P=0;P<d;P++)R[P]=1;for(var L=0;L<i;L++){for(var N=0;N<d;N++)D[N]=0;for(var M=0;M<d;M++)for(var F=0;F<d;F++){var z=M*d+F;D[M]+=h[z]*R[F]}xv(D),O=R,R=D,D=O;for(var B=0,j=0;j<d;j++){var H=O[j]-R[j];B+=H*H}if(B<r)break}return{rank:function(e){return e=o.collection(e)[0],R[c.indexOf(e)]}}}},ny=$g({root:null,weight:function(e){return 1},directed:!1,alpha:0}),ry={degreeCentralityNormalized:function(e){e=ny(e);var t=this.cy(),n=this.nodes(),r=n.length;if(e.directed){for(var i={},a={},o=0,s=0,c=0;c<r;c++){var l=n[c],d=l.id();e.root=l;var u=this.degreeCentrality(e);o<u.indegree&&(o=u.indegree),s<u.outdegree&&(s=u.outdegree),i[d]=u.indegree,a[d]=u.outdegree}return{indegree:function(e){return 0==o?0:($m(e)&&(e=t.filter(e)),i[e.id()]/o)},outdegree:function(e){return 0===s?0:($m(e)&&(e=t.filter(e)),a[e.id()]/s)}}}for(var p={},h=0,f=0;f<r;f++){var m=n[f];e.root=m;var g=this.degreeCentrality(e);h<g.degree&&(h=g.degree),p[m.id()]=g.degree}return{degree:function(e){return 0===h?0:($m(e)&&(e=t.filter(e)),p[e.id()]/h)}}},degreeCentrality:function(e){e=ny(e);var t=this.cy(),n=this,r=e,i=r.root,a=r.weight,o=r.directed,s=r.alpha;if(i=t.collection(i)[0],o){for(var c=i.connectedEdges(),l=c.filter((function(e){return e.target().same(i)&&n.has(e)})),d=c.filter((function(e){return e.source().same(i)&&n.has(e)})),u=l.length,p=d.length,h=0,f=0,m=0;m<l.length;m++)h+=a(l[m]);for(var g=0;g<d.length;g++)f+=a(d[g]);return{indegree:Math.pow(u,1-s)*Math.pow(h,s),outdegree:Math.pow(p,1-s)*Math.pow(f,s)}}for(var v=i.connectedEdges().intersection(n),y=v.length,b=0,_=0;_<v.length;_++)b+=a(v[_]);return{degree:Math.pow(y,1-s)*Math.pow(b,s)}}};ry.dc=ry.degreeCentrality,ry.dcn=ry.degreeCentralityNormalised=ry.degreeCentralityNormalized;var iy=$g({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),ay={closenessCentralityNormalized:function(e){for(var t=iy(e),n=t.harmonic,r=t.weight,i=t.directed,a=this.cy(),o={},s=0,c=this.nodes(),l=this.floydWarshall({weight:r,directed:i}),d=0;d<c.length;d++){for(var u=0,p=c[d],h=0;h<c.length;h++)if(d!==h){var f=l.distance(p,c[h]);u+=n?1/f:f}n||(u=1/u),s<u&&(s=u),o[p.id()]=u}return{closeness:function(e){return 0==s?0:(e=$m(e)?a.filter(e)[0].id():e.id(),o[e]/s)}}},closenessCentrality:function(e){var t=iy(e),n=t.root,r=t.weight,i=t.directed,a=t.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:r,directed:i}),s=0,c=this.nodes(),l=0;l<c.length;l++){var d=c[l];if(!d.same(n)){var u=o.distanceTo(d);s+=a?1/u:u}}return a?s:1/s}};ay.cc=ay.closenessCentrality,ay.ccn=ay.closenessCentralityNormalised=ay.closenessCentralityNormalized;var oy=$g({weight:null,directed:!1}),sy={betweennessCentrality:function(e){for(var t=oy(e),n=t.directed,r=t.weight,i=null!=r,a=this.cy(),o=this.nodes(),s={},c={},l=0,d=function(e,t){c[e]=t,t>l&&(l=t)},u=function(e){return c[e]},p=0;p<o.length;p++){var h=o[p],f=h.id();s[f]=n?h.outgoers().nodes():h.openNeighborhood().nodes(),d(f,0)}for(var m=function(e){for(var t=o[e].id(),n=[],c={},l={},p={},h=new Im((function(e,t){return p[e]-p[t]})),f=0;f<o.length;f++){var m=o[f].id();c[m]=[],l[m]=0,p[m]=1/0}for(l[t]=1,p[t]=0,h.push(t);!h.empty();){var g=h.pop();if(n.push(g),i)for(var v=0;v<s[g].length;v++){var y=s[g][v],b=a.getElementById(g),_=void 0;_=b.edgesTo(y).length>0?b.edgesTo(y)[0]:y.edgesTo(b)[0];var x=r(_);y=y.id(),p[y]>p[g]+x&&(p[y]=p[g]+x,h.nodes.indexOf(y)<0?h.push(y):h.updateItem(y),l[y]=0,c[y]=[]),p[y]==p[g]+x&&(l[y]=l[y]+l[g],c[y].push(g))}else for(var w=0;w<s[g].length;w++){var k=s[g][w].id();p[k]==1/0&&(h.push(k),p[k]=p[g]+1),p[k]==p[g]+1&&(l[k]=l[k]+l[g],c[k].push(g))}}for(var E={},C=0;C<o.length;C++)E[o[C].id()]=0;for(;n.length>0;){for(var S=n.pop(),A=0;A<c[S].length;A++){var T=c[S][A];E[T]=E[T]+l[T]/l[S]*(1+E[S])}S!=o[e].id()&&d(S,u(S)+E[S])}},g=0;g<o.length;g++)m(g);var v={betweenness:function(e){var t=a.collection(e).id();return u(t)},betweennessNormalized:function(e){if(0==l)return 0;var t=a.collection(e).id();return u(t)/l}};return v.betweennessNormalised=v.betweennessNormalized,v}};sy.bc=sy.betweennessCentrality;var cy=$g({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),ly=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r](e);return n},dy=function(e,t){for(var n,r=0;r<t;r++){n=0;for(var i=0;i<t;i++)n+=e[i*t+r];for(var a=0;a<t;a++)e[a*t+r]=e[a*t+r]/n}},uy=function(e,t,n){for(var r=new Array(n*n),i=0;i<n;i++){for(var a=0;a<n;a++)r[i*n+a]=0;for(var o=0;o<n;o++)for(var s=0;s<n;s++)r[i*n+s]+=e[i*n+o]*t[o*n+s]}return r},py=function(e,t,n){for(var r=e.slice(0),i=1;i<n;i++)e=uy(e,r,t);return e},hy=function(e,t,n){for(var r=new Array(t*t),i=0;i<t*t;i++)r[i]=Math.pow(e[i],n);return dy(r,t),r},fy=function(e,t,n,r){for(var i=0;i<n;i++){if(Math.round(e[i]*Math.pow(10,r))/Math.pow(10,r)!==Math.round(t[i]*Math.pow(10,r))/Math.pow(10,r))return!1}return!0},my=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},gy=function(e){for(var t=this.nodes(),n=this.edges(),r=this.cy(),i=function(e){return cy(e)}(e),a={},o=0;o<t.length;o++)a[t[o].id()]=o;for(var s,c=t.length,l=c*c,d=new Array(l),u=0;u<l;u++)d[u]=0;for(var p=0;p<n.length;p++){var h=n[p],f=a[h.source().id()],m=a[h.target().id()],g=ly(h,i.attributes);d[f*c+m]+=g,d[m*c+f]+=g}!function(e,t,n){for(var r=0;r<t;r++)e[r*t+r]=n}(d,c,i.multFactor),dy(d,c);for(var v=!0,y=0;v&&y<i.maxIterations;)v=!1,s=py(d,c,i.expandFactor),d=hy(s,c,i.inflateFactor),fy(d,s,l,4)||(v=!0),y++;var b=function(e,t,n,r){for(var i=[],a=0;a<t;a++){for(var o=[],s=0;s<t;s++)Math.round(1e3*e[a*t+s])/1e3>0&&o.push(n[s]);0!==o.length&&i.push(r.collection(o))}return i}(d,c,t,r);return b=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&my(e[t],e[n])&&e.splice(n,1);return e}(b)},vy={markovClustering:gy,mcl:gy},yy=function(e){return e},by=function(e,t){return Math.abs(t-e)},_y=function(e,t,n){return e+by(t,n)},xy=function(e,t,n){return e+Math.pow(n-t,2)},wy=function(e){return Math.sqrt(e)},ky=function(e,t,n){return Math.max(e,by(t,n))},Ey=function(e,t,n,r,i){for(var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:yy,o=r,s=0;s<e;s++)o=i(o,t(s),n(s));return a(o)},Cy={euclidean:function(e,t,n){return e>=2?Ey(e,t,n,0,xy,wy):Ey(e,t,n,0,_y)},squaredEuclidean:function(e,t,n){return Ey(e,t,n,0,xy)},manhattan:function(e,t,n){return Ey(e,t,n,0,_y)},max:function(e,t,n){return Ey(e,t,n,-1/0,ky)}};function Sy(e,t,n,r,i,a){var o;return o=Um(e)?e:Cy[e]||Cy.euclidean,0===t&&Um(e)?o(i,a):o(t,n,r,i,a)}Cy["squared-euclidean"]=Cy.squaredEuclidean,Cy.squaredeuclidean=Cy.squaredEuclidean;var Ay=$g({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Ty=function(e){return Ay(e)},Iy=function(e,t,n,r,i){var a="kMedoids"!==i?function(e){return n[e]}:function(e){return r[e](n)},o=n,s=t;return Sy(e,r.length,a,(function(e){return r[e](t)}),o,s)},Oy=function(e,t,n){for(var r=n.length,i=new Array(r),a=new Array(r),o=new Array(t),s=null,c=0;c<r;c++)i[c]=e.min(n[c]).value,a[c]=e.max(n[c]).value;for(var l=0;l<t;l++){s=[];for(var d=0;d<r;d++)s[d]=Math.random()*(a[d]-i[d])+i[d];o[l]=s}return o},Ry=function(e,t,n,r,i){for(var a=1/0,o=0,s=0;s<t.length;s++){var c=Iy(n,e,t[s],r,i);c<a&&(a=c,o=s)}return o},Dy=function(e,t,n){for(var r=[],i=null,a=0;a<t.length;a++)n[(i=t[a]).id()]===e&&r.push(i);return r},Py=function(e,t,n){for(var r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++){if(Math.abs(e[r][i]-t[r][i])>n)return!1}return!0},Ly=function(e,t,n){for(var r=0;r<n;r++)if(e===t[r])return!0;return!1},Ny=function(e,t){var n=new Array(t);if(e.length<50)for(var r=0;r<t;r++){for(var i=e[Math.floor(Math.random()*e.length)];Ly(i,n,r);)i=e[Math.floor(Math.random()*e.length)];n[r]=i}else for(var a=0;a<t;a++)n[a]=e[Math.floor(Math.random()*e.length)];return n},My=function(e,t,n){for(var r=0,i=0;i<t.length;i++)r+=Iy("manhattan",t[i],e,n,"kMedoids");return r},Fy=function(e,t,n,r,i){for(var a,o,s=0;s<t.length;s++)for(var c=0;c<e.length;c++)r[s][c]=Math.pow(n[s][c],i.m);for(var l=0;l<e.length;l++)for(var d=0;d<i.attributes.length;d++){a=0,o=0;for(var u=0;u<t.length;u++)a+=r[u][l]*i.attributes[d](t[u]),o+=r[u][l];e[l][d]=a/o}},zy=function(e,t,n,r,i){for(var a=0;a<e.length;a++)t[a]=e[a].slice();for(var o,s,c,l=2/(i.m-1),d=0;d<n.length;d++)for(var u=0;u<r.length;u++){o=0;for(var p=0;p<n.length;p++)s=Iy(i.distance,r[u],n[d],i.attributes,"cmeans"),c=Iy(i.distance,r[u],n[p],i.attributes,"cmeans"),o+=Math.pow(s/c,l);e[u][d]=1/o}},By=function(e){var t,n,r,i,a=this.cy(),o=this.nodes(),s=Ty(e);r=new Array(o.length);for(var c=0;c<o.length;c++)r[c]=new Array(s.k);n=new Array(o.length);for(var l=0;l<o.length;l++)n[l]=new Array(s.k);for(var d=0;d<o.length;d++){for(var u=0,p=0;p<s.k;p++)n[d][p]=Math.random(),u+=n[d][p];for(var h=0;h<s.k;h++)n[d][h]=n[d][h]/u}t=new Array(s.k);for(var f=0;f<s.k;f++)t[f]=new Array(s.attributes.length);i=new Array(o.length);for(var m=0;m<o.length;m++)i[m]=new Array(s.k);for(var g=!0,v=0;g&&v<s.maxIterations;)g=!1,Fy(t,o,n,i,s),zy(n,r,t,o,s),Py(n,r,s.sensitivityThreshold)||(g=!0),v++;return{clusters:function(e,t,n,r){for(var i,a,o=new Array(n.k),s=0;s<o.length;s++)o[s]=[];for(var c=0;c<t.length;c++){i=-1/0,a=-1;for(var l=0;l<t[0].length;l++)t[c][l]>i&&(i=t[c][l],a=l);o[a].push(e[c])}for(var d=0;d<o.length;d++)o[d]=r.collection(o[d]);return o}(o,n,s,a),degreeOfMembership:n}},jy={kMeans:function(e){var t,n=this.cy(),r=this.nodes(),i=null,a=Ty(e),o=new Array(a.k),s={};t=a.testMode?"number"==typeof a.testCentroids?Oy(r,a.k,a.attributes):"object"===Om(a.testCentroids)?a.testCentroids:Oy(r,a.k,a.attributes):Oy(r,a.k,a.attributes);for(var c,l,d,u=!0,p=0;u&&p<a.maxIterations;){for(var h=0;h<r.length;h++)s[(i=r[h]).id()]=Ry(i,t,a.distance,a.attributes,"kMeans");u=!1;for(var f=0;f<a.k;f++){var m=Dy(f,r,s);if(0!==m.length){for(var g=a.attributes.length,v=t[f],y=new Array(g),b=new Array(g),_=0;_<g;_++){b[_]=0;for(var x=0;x<m.length;x++)i=m[x],b[_]+=a.attributes[_](i);y[_]=b[_]/m.length,c=y[_],l=v[_],d=a.sensitivityThreshold,Math.abs(l-c)<=d||(u=!0)}t[f]=y,o[f]=n.collection(m)}}p++}return o},kMedoids:function(e){var t,n,r=this.cy(),i=this.nodes(),a=null,o=Ty(e),s=new Array(o.k),c={},l=new Array(o.k);o.testMode?"number"==typeof o.testCentroids||(t="object"===Om(o.testCentroids)?o.testCentroids:Ny(i,o.k)):t=Ny(i,o.k);for(var d=!0,u=0;d&&u<o.maxIterations;){for(var p=0;p<i.length;p++)c[(a=i[p]).id()]=Ry(a,t,o.distance,o.attributes,"kMedoids");d=!1;for(var h=0;h<t.length;h++){var f=Dy(h,i,c);if(0!==f.length){l[h]=My(t[h],f,o.attributes);for(var m=0;m<f.length;m++)(n=My(f[m],f,o.attributes))<l[h]&&(l[h]=n,t[h]=f[m],d=!0);s[h]=r.collection(f)}}u++}return s},fuzzyCMeans:By,fcm:By},Hy=$g({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Vy={single:"min",complete:"max"},$y=function(e,t,n,r,i){for(var a,o=0,s=1/0,c=i.attributes,l=function(e,t){return Sy(i.distance,c.length,(function(t){return c[t](e)}),(function(e){return c[e](t)}),e,t)},d=0;d<e.length;d++){var u=e[d].key,p=n[u][r[u]];p<s&&(o=u,s=p)}if("threshold"===i.mode&&s>=i.threshold||"dendrogram"===i.mode&&1===e.length)return!1;var h,f=t[o],m=t[r[o]];h="dendrogram"===i.mode?{left:f,right:m,key:f.key}:{value:f.value.concat(m.value),key:f.key},e[f.index]=h,e.splice(m.index,1),t[f.key]=h;for(var g=0;g<e.length;g++){var v=e[g];f.key===v.key?a=1/0:"min"===i.linkage?(a=n[f.key][v.key],n[f.key][v.key]>n[m.key][v.key]&&(a=n[m.key][v.key])):"max"===i.linkage?(a=n[f.key][v.key],n[f.key][v.key]<n[m.key][v.key]&&(a=n[m.key][v.key])):a="mean"===i.linkage?(n[f.key][v.key]*f.size+n[m.key][v.key]*m.size)/(f.size+m.size):"dendrogram"===i.mode?l(v.value,f.value):l(v.value[0],f.value[0]),n[f.key][v.key]=n[v.key][f.key]=a}for(var y=0;y<e.length;y++){var b=e[y].key;if(r[b]===f.key||r[b]===m.key){for(var _=b,x=0;x<e.length;x++){var w=e[x].key;n[b][w]<n[b][_]&&(_=w)}r[b]=_}e[y].index=y}return f.key=m.key=f.index=m.index=null,!0},Uy=function e(t,n,r){t&&(t.value?n.push(t.value):(t.left&&e(t.left,n),t.right&&e(t.right,n)))},Gy=function e(t,n){if(!t)return"";if(t.left&&t.right){var r=e(t.left,n),i=e(t.right,n),a=n.add({group:"nodes",data:{id:r+","+i}});return n.add({group:"edges",data:{source:r,target:a.id()}}),n.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}return t.value?t.value.id():void 0},qy=function e(t,n,r){if(!t)return[];var i=[],a=[],o=[];return 0===n?(t.left&&Uy(t.left,i),t.right&&Uy(t.right,a),o=i.concat(a),[r.collection(o)]):1===n?t.value?[r.collection(t.value)]:(t.left&&Uy(t.left,i),t.right&&Uy(t.right,a),[r.collection(i),r.collection(a)]):t.value?[r.collection(t.value)]:(t.left&&(i=e(t.left,n-1,r)),t.right&&(a=e(t.right,n-1,r)),i.concat(a))},Xy=function(e){for(var t=this.cy(),n=this.nodes(),r=function(e){var t=Hy(e),n=Vy[t.linkage];return null!=n&&(t.linkage=n),t}(e),i=r.attributes,a=function(e,t){return Sy(r.distance,i.length,(function(t){return i[t](e)}),(function(e){return i[e](t)}),e,t)},o=[],s=[],c=[],l=[],d=0;d<n.length;d++){var u={value:"dendrogram"===r.mode?n[d]:[n[d]],key:d,index:d};o[d]=u,l[d]=u,s[d]=[],c[d]=0}for(var p=0;p<o.length;p++)for(var h=0;h<=p;h++){var f=void 0;f="dendrogram"===r.mode?p===h?1/0:a(o[p].value,o[h].value):p===h?1/0:a(o[p].value[0],o[h].value[0]),s[p][h]=f,s[h][p]=f,f<s[p][c[p]]&&(c[p]=h)}for(var m,g=$y(o,l,s,c,r);g;)g=$y(o,l,s,c,r);return"dendrogram"===r.mode?(m=qy(o[0],r.dendrogramDepth,t),r.addDendrogram&&Gy(o[0],t)):(m=new Array(o.length),o.forEach((function(e,n){e.key=e.index=null,m[n]=t.collection(e.value)}))),m},Yy={hierarchicalClustering:Xy,hca:Xy},Ky=$g({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Wy=function(e,t,n,r){var i=function(e,t){return r[t](e)};return-Sy(e,r.length,(function(e){return i(t,e)}),(function(e){return i(n,e)}),t,n)},Zy=function(e,t){return"median"===t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t)):e=e.slice(t,n);for(var a=0,o=e.length-1;o>=0;o--){var s=e[o];i?isFinite(s)||(e[o]=-1/0,a++):e.splice(o,1)}r&&e.sort((function(e,t){return e-t}));var c=e.length,l=Math.floor(c/2);return c%2!=0?e[l+1+a]:(e[l-1+a]+e[l+a])/2}(e):"mean"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0,i=0,a=t;a<n;a++){var o=e[a];isFinite(o)&&(r+=o,i++)}return r/i}(e):"min"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=1/0,i=t;i<n;i++){var a=e[i];isFinite(a)&&(r=Math.min(a,r))}return r}(e):"max"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=-1/0,i=t;i<n;i++){var a=e[i];isFinite(a)&&(r=Math.max(a,r))}return r}(e):t},Qy=function(e,t,n){for(var r=[],i=0;i<e;i++){for(var a=-1,o=-1/0,s=0;s<n.length;s++){var c=n[s];t[i*e+c]>o&&(a=c,o=t[i*e+c])}a>0&&r.push(a)}for(var l=0;l<n.length;l++)r[n[l]]=n[l];return r},Jy=function(e){for(var t,n,r,i,a,o,s=this.cy(),c=this.nodes(),l=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||Mg("Damping must range on [0.5, 1).  Got: ".concat(t));var r=["median","mean","min","max"];return r.some((function(e){return e===n}))||Xm(n)||Mg("Preference must be one of [".concat(r.map((function(e){return"'".concat(e,"'")})).join(", "),"] or a number.  Got: ").concat(n)),Ky(e)}(e),d={},u=0;u<c.length;u++)d[c[u].id()]=u;n=(t=c.length)*t,r=new Array(n);for(var p=0;p<n;p++)r[p]=-1/0;for(var h=0;h<t;h++)for(var f=0;f<t;f++)h!==f&&(r[h*t+f]=Wy(l.distance,c[h],c[f],l.attributes));i=Zy(r,l.preference);for(var m=0;m<t;m++)r[m*t+m]=i;a=new Array(n);for(var g=0;g<n;g++)a[g]=0;o=new Array(n);for(var v=0;v<n;v++)o[v]=0;for(var y=new Array(t),b=new Array(t),_=new Array(t),x=0;x<t;x++)y[x]=0,b[x]=0,_[x]=0;for(var w,k=new Array(t*l.minIterations),E=0;E<k.length;E++)k[E]=0;for(w=0;w<l.maxIterations;w++){for(var C=0;C<t;C++){for(var S=-1/0,A=-1/0,T=-1,I=0,O=0;O<t;O++)y[O]=a[C*t+O],(I=o[C*t+O]+r[C*t+O])>=S?(A=S,S=I,T=O):I>A&&(A=I);for(var R=0;R<t;R++)a[C*t+R]=(1-l.damping)*(r[C*t+R]-S)+l.damping*y[R];a[C*t+T]=(1-l.damping)*(r[C*t+T]-A)+l.damping*y[T]}for(var D=0;D<t;D++){for(var P=0,L=0;L<t;L++)y[L]=o[L*t+D],b[L]=Math.max(0,a[L*t+D]),P+=b[L];P-=b[D],b[D]=a[D*t+D],P+=b[D];for(var N=0;N<t;N++)o[N*t+D]=(1-l.damping)*Math.min(0,P-b[N])+l.damping*y[N];o[D*t+D]=(1-l.damping)*(P-b[D])+l.damping*y[D]}for(var M=0,F=0;F<t;F++){var z=o[F*t+F]+a[F*t+F]>0?1:0;k[w%l.minIterations*t+F]=z,M+=z}if(M>0&&(w>=l.minIterations-1||w==l.maxIterations-1)){for(var B=0,j=0;j<t;j++){_[j]=0;for(var H=0;H<l.minIterations;H++)_[j]+=k[H*t+j];0!==_[j]&&_[j]!==l.minIterations||B++}if(B===t)break}}for(var V=function(e,t,n){for(var r=[],i=0;i<e;i++)t[i*e+i]+n[i*e+i]>0&&r.push(i);return r}(t,a,o),$=function(e,t,n){for(var r=Qy(e,t,n),i=0;i<n.length;i++){for(var a=[],o=0;o<r.length;o++)r[o]===n[i]&&a.push(o);for(var s=-1,c=-1/0,l=0;l<a.length;l++){for(var d=0,u=0;u<a.length;u++)d+=t[a[u]*e+a[l]];d>c&&(s=l,c=d)}n[i]=a[s]}return Qy(e,t,n)}(t,r,V),U={},G=0;G<V.length;G++)U[V[G]]=[];for(var q=0;q<c.length;q++){var X=$[d[c[q].id()]];null!=X&&U[X].push(c[q])}for(var Y=new Array(V.length),K=0;K<V.length;K++)Y[K]=s.collection(U[V[K]]);return Y},eb={affinityPropagation:Jy,ap:Jy},tb=$g({root:void 0,directed:!1}),nb=function(){var e=this,t={},n=0,r=0,i=[],a=[],o={},s=function s(c,l,d){c===d&&(r+=1),t[l]={id:n,low:n++,cutVertex:!1};var u,p,h,f,m=e.getElementById(l).connectedEdges().intersection(e);0===m.size()?i.push(e.spawn(e.getElementById(l))):m.forEach((function(n){u=n.source().id(),p=n.target().id(),(h=u===l?p:u)!==d&&(f=n.id(),o[f]||(o[f]=!0,a.push({x:l,y:h,edge:n})),h in t?t[l].low=Math.min(t[l].low,t[h].id):(s(c,h,l),t[l].low=Math.min(t[l].low,t[h].low),t[l].id<=t[h].low&&(t[l].cutVertex=!0,function(n,r){for(var o=a.length-1,s=[],c=e.spawn();a[o].x!=n||a[o].y!=r;)s.push(a.pop().edge),o--;s.push(a.pop().edge),s.forEach((function(n){var r=n.connectedNodes().intersection(e);c.merge(n),r.forEach((function(n){var r=n.id(),i=n.connectedEdges().intersection(e);c.merge(n),t[r].cutVertex?c.merge(i.filter((function(e){return e.isLoop()}))):c.merge(i)}))})),i.push(c)}(l,h))))}))};e.forEach((function(e){if(e.isNode()){var n=e.id();n in t||(r=0,s(n,n),t[n].cutVertex=r>1)}}));var c=Object.keys(t).filter((function(e){return t[e].cutVertex})).map((function(t){return e.getElementById(t)}));return{cut:e.spawn(c),components:i}},rb=function(){var e=this,t={},n=0,r=[],i=[],a=e.spawn(e),o=function o(s){if(i.push(s),t[s]={index:n,low:n++,explored:!1},e.getElementById(s).connectedEdges().intersection(e).forEach((function(e){var n=e.target().id();n!==s&&(n in t||o(n),t[n].explored||(t[s].low=Math.min(t[s].low,t[n].low)))})),t[s].index===t[s].low){for(var c=e.spawn();;){var l=i.pop();if(c.merge(e.getElementById(l)),t[l].low=t[s].index,t[l].explored=!0,l===s)break}var d=c.edgesWith(c),u=c.merge(d);r.push(u),a=a.difference(u)}};return e.forEach((function(e){if(e.isNode()){var n=e.id();n in t||o(n)}})),{cut:a,components:r}},ib={};[Jg,tv,nv,iv,ov,cv,pv,ty,ry,ay,sy,vy,jy,Yy,eb,{hierholzer:function(e){if(!qm(e)){var t=arguments;e={root:t[0],directed:t[1]}}var n,r,i,a=tb(e),o=a.root,s=a.directed,c=this,l=!1;o&&(i=$m(o)?this.filter(o)[0].id():o[0].id());var d={},u={};s?c.forEach((function(e){var t=e.id();if(e.isNode()){var i=e.indegree(!0),a=e.outdegree(!0),o=i-a,s=a-i;1==o?n?l=!0:n=t:1==s?r?l=!0:r=t:(s>1||o>1)&&(l=!0),d[t]=[],e.outgoers().forEach((function(e){e.isEdge()&&d[t].push(e.id())}))}else u[t]=[void 0,e.target().id()]})):c.forEach((function(e){var t=e.id();e.isNode()?(e.degree(!0)%2&&(n?r?l=!0:r=t:n=t),d[t]=[],e.connectedEdges().forEach((function(e){return d[t].push(e.id())}))):u[t]=[e.source().id(),e.target().id()]}));var p={found:!1,trail:void 0};if(l)return p;if(r&&n)if(s){if(i&&r!=i)return p;i=r}else{if(i&&r!=i&&n!=i)return p;i||(i=r)}else i||(i=c[0].id());var h=function(e){for(var t,n,r,i=e,a=[e];d[i].length;)t=d[i].shift(),n=u[t][0],i!=(r=u[t][1])?(d[r]=d[r].filter((function(e){return e!=t})),i=r):s||i==n||(d[n]=d[n].filter((function(e){return e!=t})),i=n),a.unshift(t),a.unshift(i);return a},f=[],m=[];for(m=h(i);1!=m.length;)0==d[m[0]].length?(f.unshift(c.getElementById(m.shift())),f.unshift(c.getElementById(m.shift()))):m=h(m.shift()).concat(m);for(var g in f.unshift(c.getElementById(m.shift())),d)if(d[g].length)return p;return p.found=!0,p.trail=this.spawn(f,!0),p}},{hopcroftTarjanBiconnected:nb,htbc:nb,htb:nb,hopcroftTarjanBiconnectedComponents:nb},{tarjanStronglyConnected:rb,tsc:rb,tscc:rb,tarjanStronglyConnectedComponents:rb}].forEach((function(e){lg(ib,e)}));
/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var ab=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};ab.prototype={fulfill:function(e){return ob(this,1,"fulfillValue",e)},reject:function(e){return ob(this,2,"rejectReason",e)},then:function(e,t){var n=this,r=new ab;return n.onFulfilled.push(lb(e,r,"fulfill")),n.onRejected.push(lb(t,r,"reject")),sb(n),r.proxy}};var ob=function(e,t,n,r){return 0===e.state&&(e.state=t,e[n]=r,sb(e)),e},sb=function(e){1===e.state?cb(e,"onFulfilled",e.fulfillValue):2===e.state&&cb(e,"onRejected",e.rejectReason)},cb=function(e,t,n){if(0!==e[t].length){var r=e[t];e[t]=[];var i=function(){for(var e=0;e<r.length;e++)r[e](n)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},lb=function(e,t,n){return function(r){if("function"!=typeof e)t[n].call(t,r);else{var i;try{i=e(r)}catch(e){return void t.reject(e)}db(t,i)}}},db=function e(t,n){if(t!==n&&t.proxy!==n){var r;if("object"===Om(n)&&null!==n||"function"==typeof n)try{r=n.then}catch(e){return void t.reject(e)}if("function"!=typeof r)t.fulfill(n);else{var i=!1;try{r.call(n,(function(r){i||(i=!0,r===n?t.reject(new TypeError("circular thenable chain")):e(t,r))}),(function(e){i||(i=!0,t.reject(e))}))}catch(e){i||t.reject(e)}}}else t.reject(new TypeError("cannot resolve promise with itself"))};ab.all=function(e){return new ab((function(t,n){for(var r=new Array(e.length),i=0,a=function(n,a){r[n]=a,++i===e.length&&t(r)},o=0;o<e.length;o++)!function(t){var r=e[t];null!=r&&null!=r.then?r.then((function(e){a(t,e)}),(function(e){n(e)})):a(t,r)}(o)}))},ab.resolve=function(e){return new ab((function(t,n){t(e)}))},ab.reject=function(e){return new ab((function(t,n){n(e)}))};var ub="undefined"!=typeof Promise?Promise:ab,pb=function(e,t,n){var r=Qm(e),i=!r,a=this._private=lg({duration:1e3},t,n);if(a.target=e,a.style=a.style||a.css,a.started=!1,a.playing=!1,a.hooked=!1,a.applying=!1,a.progress=0,a.completes=[],a.frames=[],a.complete&&Um(a.complete)&&a.completes.push(a.complete),i){var o=e.position();a.startPosition=a.startPosition||{x:o.x,y:o.y},a.startStyle=a.startStyle||e.cy().style().getAnimationStartStyle(e,a.style)}if(r){var s=e.pan();a.startPan={x:s.x,y:s.y},a.startZoom=e.zoom()}this.length=1,this[0]=this},hb=pb.prototype;lg(hb,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),Km(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(t,n){var r=e[t];null!=r&&(e[t]=e[n],e[n]=r)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var r=0;r<e.style.length;r++){var i=e.style[r],a=i.name,o=e.startStyle[a];e.startStyle[a]=i,e.style[r]=o}return t&&this.play(),this},promise:function(e){var t,n=this._private;switch(e){case"frame":t=n.frames;break;default:case"complete":case"completed":t=n.completes}return new ub((function(e,n){t.push((function(){e()}))}))}}),hb.complete=hb.completed,hb.run=hb.play,hb.running=hb.playing;var fb={};[{animated:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return!1;var n=t[0];return n?n._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return this;for(var n=0;n<t.length;n++){t[n]._private.animation.queue=[]}return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var n=this,r=void 0!==n.length,i=r?n:[n],a=this._private.cy||this,o=!r,s=!o;if(!a.styleEnabled())return this;var c=a.style();if(e=lg({},e,t),0===Object.keys(e).length)return new pb(i[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(s&&(e.style=c.getPropsList(e.style||e.css),e.css=void 0),s&&null!=e.renderedPosition){var l=e.renderedPosition,d=a.pan(),u=a.zoom();e.position=fv(l,u,d)}if(o&&null!=e.panBy){var p=e.panBy,h=a.pan();e.pan={x:h.x+p.x,y:h.y+p.y}}var f=e.center||e.centre;if(o&&null!=f){var m=a.getCenterPan(f.eles,e.zoom);null!=m&&(e.pan=m)}if(o&&null!=e.fit){var g=e.fit,v=a.getFitViewport(g.eles||g.boundingBox,g.padding);null!=v&&(e.pan=v.pan,e.zoom=v.zoom)}if(o&&qm(e.zoom)){var y=a.getZoomedViewport(e.zoom);null!=y?(y.zoomed&&(e.zoom=y.zoom),y.panned&&(e.pan=y.pan)):e.zoom=null}return new pb(i[0],e)}},animate:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=lg({},e,t));for(var i=0;i<r.length;i++){var a=r[i],o=a.animated()&&(void 0===e.queue||e.queue);a.animation(e,o?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var a=0;a<r.length;a++){for(var o=r[a]._private,s=o.animation.current,c=0;c<s.length;c++){var l=s[c]._private;t&&(l.duration=0)}e&&(o.animation.queue=[]),t||(o.animation.current=[])}return i.notify("draw"),this}}},{data:function(e){return e=lg({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},e),function(t,n){var r=e,i=this,a=void 0!==i.length,o=a?i:[i],s=a?i[0]:i;if($m(t)){var c;if(r.allowGetting&&void 0===n)return s&&(r.beforeGet(s),c=s._private[r.field][t]),c;if(r.allowSetting&&void 0!==n&&!r.immutableKeys[t]){var l=Lm({},t,n);r.beforeSet(i,l);for(var d=0,u=o.length;d<u;d++){var p=o[d];r.canSet(p)&&(p._private[r.field][t]=n)}r.updateStyle&&i.updateStyle(),r.onSet(i),r.settingTriggersEvent&&i[r.triggerFnName](r.settingEvent)}}else if(r.allowSetting&&qm(t)){var h,f,m=t,g=Object.keys(m);r.beforeSet(i,m);for(var v=0;v<g.length;v++){if(f=m[h=g[v]],!r.immutableKeys[h])for(var y=0;y<o.length;y++){var b=o[y];r.canSet(b)&&(b._private[r.field][h]=f)}}r.updateStyle&&i.updateStyle(),r.onSet(i),r.settingTriggersEvent&&i[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&Um(t)){var _=t;i.on(r.bindingEvent,_)}else if(r.allowGetting&&void 0===t){var x;return s&&(r.beforeGet(s),x=s._private[r.field]),x}return i}},removeData:function(e){return e=lg({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var n=e,r=this,i=void 0!==r.length?r:[r];if($m(t)){for(var a=t.split(/\s+/),o=a.length,s=0;s<o;s++){var c=a[s];if(!eg(c))if(!n.immutableKeys[c])for(var l=0,d=i.length;l<d;l++)i[l]._private[n.field][c]=void 0}n.triggerEvent&&r[n.triggerFnName](n.event)}else if(void 0===t){for(var u=0,p=i.length;u<p;u++)for(var h=i[u]._private[n.field],f=Object.keys(h),m=0;m<f.length;m++){var g=f[m];!n.immutableKeys[g]&&(h[g]=void 0)}n.triggerEvent&&r[n.triggerFnName](n.event)}return r}}},{eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var n=this,r=Array.prototype.slice.call(arguments,0);return new ub((function(e,t){var i=r.concat([function(t){n.off.apply(n,a),e(t)}]),a=i.concat([]);n.on.apply(n,i)}))}}}].forEach((function(e){lg(fb,e)}));var mb={animate:fb.animate(),animation:fb.animation(),animated:fb.animated(),clearQueue:fb.clearQueue(),delay:fb.delay(),delayAnimation:fb.delayAnimation(),stop:fb.stop()},gb={classes:function(e){var t=this;if(void 0===e){var n=[];return t[0]._private.classes.forEach((function(e){return n.push(e)})),n}Gm(e)||(e=(e||"").match(/\S+/g)||[]);for(var r=[],i=new Wg(e),a=0;a<t.length;a++){for(var o=t[a],s=o._private,c=s.classes,l=!1,d=0;d<e.length;d++){var u=e[d];if(!c.has(u)){l=!0;break}}l||(l=c.size!==e.length),l&&(s.classes=i,r.push(o))}return r.length>0&&this.spawn(r).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){Gm(e)||(e=e.match(/\S+/g)||[]);for(var n=this,r=void 0===t,i=[],a=0,o=n.length;a<o;a++)for(var s=n[a],c=s._private.classes,l=!1,d=0;d<e.length;d++){var u=e[d],p=c.has(u),h=!1;t||r&&!p?(c.add(u),h=!0):(!t||r&&p)&&(c.delete(u),h=!0),!l&&h&&(i.push(s),l=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout((function(){n.removeClass(e)}),t),n}};gb.className=gb.classNames=gb.classes;var vb={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:sg,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};vb.variable="(?:[\\w-]|(?:\\\\"+vb.metaChar+"))+",vb.value=vb.string+"|"+vb.number,vb.className=vb.variable,vb.id=vb.variable,function(){var e,t,n;for(e=vb.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],vb.comparatorOp+="|@"+t;for(e=vb.comparatorOp.split("|"),n=0;n<e.length;n++)(t=e[n]).indexOf("!")>=0||"="!==t&&(vb.comparatorOp+="|\\!"+t)}();var yb=0,bb=1,_b=2,xb=3,wb=4,kb=5,Eb=6,Cb=7,Sb=8,Ab=9,Tb=10,Ib=11,Ob=12,Rb=13,Db=14,Pb=15,Lb=16,Nb=17,Mb=18,Fb=19,zb=20,Bb=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort((function(e,t){return function(e,t){return-1*cg(e,t)}(e.selector,t.selector)})),jb=function(){for(var e,t={},n=0;n<Bb.length;n++)t[(e=Bb[n]).selector]=e.matches;return t}(),Hb="("+Bb.map((function(e){return e.selector})).join("|")+")",Vb=function(e){return e.replace(new RegExp("\\\\("+vb.metaChar+")","g"),(function(e,t){return t}))},$b=function(e,t,n){e[e.length-1]=n},Ub=[{name:"group",query:!0,regex:"("+vb.group+")",populate:function(e,t,n){var r=Nm(n,1)[0];t.checks.push({type:yb,value:"*"===r?r:r+"s"})}},{name:"state",query:!0,regex:Hb,populate:function(e,t,n){var r=Nm(n,1)[0];t.checks.push({type:Cb,value:r})}},{name:"id",query:!0,regex:"\\#("+vb.id+")",populate:function(e,t,n){var r=Nm(n,1)[0];t.checks.push({type:Sb,value:Vb(r)})}},{name:"className",query:!0,regex:"\\.("+vb.className+")",populate:function(e,t,n){var r=Nm(n,1)[0];t.checks.push({type:Ab,value:Vb(r)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+vb.variable+")\\s*\\]",populate:function(e,t,n){var r=Nm(n,1)[0];t.checks.push({type:wb,field:Vb(r)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+vb.variable+")\\s*("+vb.comparatorOp+")\\s*("+vb.value+")\\s*\\]",populate:function(e,t,n){var r=Nm(n,3),i=r[0],a=r[1],o=r[2];o=null!=new RegExp("^"+vb.string+"$").exec(o)?o.substring(1,o.length-1):parseFloat(o),t.checks.push({type:xb,field:Vb(i),operator:a,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+vb.boolOp+")\\s*("+vb.variable+")\\s*\\]",populate:function(e,t,n){var r=Nm(n,2),i=r[0],a=r[1];t.checks.push({type:kb,field:Vb(a),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+vb.meta+")\\s*("+vb.comparatorOp+")\\s*("+vb.number+")\\s*\\]\\]",populate:function(e,t,n){var r=Nm(n,3),i=r[0],a=r[1],o=r[2];t.checks.push({type:Eb,field:Vb(i),operator:a,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:vb.separator,populate:function(e,t){var n=e.currentSubject,r=e.edgeCount,i=e.compoundCount,a=e[e.length-1];return null!=n&&(a.subject=n,e.currentSubject=null),a.edgeCount=r,a.compoundCount=i,e.edgeCount=0,e.compoundCount=0,e[e.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:vb.directedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,i={checks:[]};return n.checks.push({type:Ib,source:r,target:i}),$b(e,0,n),e.edgeCount++,i}var a={checks:[]},o=t,s={checks:[]};return a.checks.push({type:Ob,source:o,target:s}),$b(e,0,a),e.edgeCount++,s}},{name:"undirectedEdge",separator:!0,regex:vb.undirectedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,i={checks:[]};return n.checks.push({type:Tb,nodes:[r,i]}),$b(e,0,n),e.edgeCount++,i}var a={checks:[]},o=t,s={checks:[]};return a.checks.push({type:Db,node:o,neighbor:s}),$b(e,0,a),s}},{name:"child",separator:!0,regex:vb.child,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},i=e[e.length-1];return n.checks.push({type:Pb,parent:i,child:r}),$b(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var a={checks:[]},o=e[e.length-1],s={checks:[]},c={checks:[]},l={checks:[]},d={checks:[]};return a.checks.push({type:Fb,left:o,right:s,subject:c}),c.checks=t.checks,t.checks=[{type:zb}],d.checks.push({type:zb}),s.checks.push({type:Nb,parent:d,child:l}),$b(e,0,a),e.currentSubject=c,e.compoundCount++,l}var u={checks:[]},p={checks:[]},h=[{type:Nb,parent:u,child:p}];return u.checks=t.checks,t.checks=h,e.compoundCount++,p}},{name:"descendant",separator:!0,regex:vb.descendant,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},i=e[e.length-1];return n.checks.push({type:Lb,ancestor:i,descendant:r}),$b(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var a={checks:[]},o=e[e.length-1],s={checks:[]},c={checks:[]},l={checks:[]},d={checks:[]};return a.checks.push({type:Fb,left:o,right:s,subject:c}),c.checks=t.checks,t.checks=[{type:zb}],d.checks.push({type:zb}),s.checks.push({type:Mb,ancestor:d,descendant:l}),$b(e,0,a),e.currentSubject=c,e.compoundCount++,l}var u={checks:[]},p={checks:[]},h=[{type:Mb,ancestor:u,descendant:p}];return u.checks=t.checks,t.checks=h,e.compoundCount++,p}},{name:"subject",modifier:!0,regex:vb.subject,populate:function(e,t){if(null!=e.currentSubject&&e.currentSubject!==t)return zg("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1].checks[0],r=null==n?null:n.type;r===Ib?n.type=Rb:r===Tb&&(n.type=Db,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];Ub.forEach((function(e){return e.regexObj=new RegExp("^"+e.regex)}));var Gb=function(e){for(var t,n,r,i=0;i<Ub.length;i++){var a=Ub[i],o=a.name,s=e.match(a.regexObj);if(null!=s){n=s,t=a,r=o;var c=s[0];e=e.substring(c.length);break}}return{expr:t,match:n,name:r,remaining:e}},qb={parse:function(e){var t=this,n=t.inputText=e,r=t[0]={checks:[]};for(t.length=1,n=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e}(n);;){var i=Gb(n);if(null==i.expr)return zg("The selector `"+e+"`is invalid"),!1;var a=i.match.slice(1),o=i.expr.populate(t,r,a);if(!1===o)return!1;if(null!=o&&(r=o),(n=i.remaining).match(/^\s*$/))break}var s=t[t.length-1];null!=t.currentSubject&&(s.subject=t.currentSubject),s.edgeCount=t.edgeCount,s.compoundCount=t.compoundCount;for(var c=0;c<t.length;c++){var l=t[c];if(l.compoundCount>0&&l.edgeCount>0)return zg("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(l.edgeCount>1)return zg("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;1===l.edgeCount&&zg("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(e){return null==e?"":e},t=function(t){return $m(t)?'"'+t+'"':e(t)},n=function(e){return" "+e+" "},r=function(r,a){var o=r.type,s=r.value;switch(o){case yb:var c=e(s);return c.substring(0,c.length-1);case xb:var l=r.field,d=r.operator;return"["+l+n(e(d))+t(s)+"]";case kb:var u=r.operator,p=r.field;return"["+e(u)+p+"]";case wb:return"["+r.field+"]";case Eb:var h=r.operator;return"[["+r.field+n(e(h))+t(s)+"]]";case Cb:return s;case Sb:return"#"+s;case Ab:return"."+s;case Nb:case Pb:return i(r.parent,a)+n(">")+i(r.child,a);case Mb:case Lb:return i(r.ancestor,a)+" "+i(r.descendant,a);case Fb:var f=i(r.left,a),m=i(r.subject,a),g=i(r.right,a);return f+(f.length>0?" ":"")+m+g;case zb:return""}},i=function(e,t){return e.checks.reduce((function(n,i,a){return n+(t===e&&0===a?"$":"")+r(i,t)}),"")},a="",o=0;o<this.length;o++){var s=this[o];a+=i(s,s.subject),this.length>1&&o<this.length-1&&(a+=", ")}return this.toStringCache=a,a}},Xb=function(e,t,n){var r,i,a,o=$m(e),s=Xm(e),c=$m(n),l=!1,d=!1,u=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),d=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),l=!0),(o||c||l)&&(i=o||s?""+e:"",a=""+n),l&&(e=i=i.toLowerCase(),n=a=a.toLowerCase()),t){case"*=":r=i.indexOf(a)>=0;break;case"$=":r=i.indexOf(a,i.length-a.length)>=0;break;case"^=":r=0===i.indexOf(a);break;case"=":r=e===n;break;case">":u=!0,r=e>n;break;case">=":u=!0,r=e>=n;break;case"<":u=!0,r=e<n;break;case"<=":u=!0,r=e<=n;break;default:r=!1}return!d||null==e&&u||(r=!r),r},Yb=function(e,t){return e.data(t)},Kb=[],Wb=function(e,t){return e.checks.every((function(e){return Kb[e.type](e,t)}))};Kb[yb]=function(e,t){var n=e.value;return"*"===n||n===t.group()},Kb[Cb]=function(e,t){return function(e,t){return jb[e](t)}(e.value,t)},Kb[Sb]=function(e,t){var n=e.value;return t.id()===n},Kb[Ab]=function(e,t){var n=e.value;return t.hasClass(n)},Kb[Eb]=function(e,t){var n=e.field,r=e.operator,i=e.value;return Xb(function(e,t){return e[t]()}(t,n),r,i)},Kb[xb]=function(e,t){var n=e.field,r=e.operator,i=e.value;return Xb(Yb(t,n),r,i)},Kb[kb]=function(e,t){var n=e.field,r=e.operator;return function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return void 0===e}}(Yb(t,n),r)},Kb[wb]=function(e,t){var n=e.field;return e.operator,void 0!==Yb(t,n)},Kb[Tb]=function(e,t){var n=e.nodes[0],r=e.nodes[1],i=t.source(),a=t.target();return Wb(n,i)&&Wb(r,a)||Wb(r,i)&&Wb(n,a)},Kb[Db]=function(e,t){return Wb(e.node,t)&&t.neighborhood().some((function(t){return t.isNode()&&Wb(e.neighbor,t)}))},Kb[Ib]=function(e,t){return Wb(e.source,t.source())&&Wb(e.target,t.target())},Kb[Ob]=function(e,t){return Wb(e.source,t)&&t.outgoers().some((function(t){return t.isNode()&&Wb(e.target,t)}))},Kb[Rb]=function(e,t){return Wb(e.target,t)&&t.incomers().some((function(t){return t.isNode()&&Wb(e.source,t)}))},Kb[Pb]=function(e,t){return Wb(e.child,t)&&Wb(e.parent,t.parent())},Kb[Nb]=function(e,t){return Wb(e.parent,t)&&t.children().some((function(t){return Wb(e.child,t)}))},Kb[Lb]=function(e,t){return Wb(e.descendant,t)&&t.ancestors().some((function(t){return Wb(e.ancestor,t)}))},Kb[Mb]=function(e,t){return Wb(e.ancestor,t)&&t.descendants().some((function(t){return Wb(e.descendant,t)}))},Kb[Fb]=function(e,t){return Wb(e.subject,t)&&Wb(e.left,t)&&Wb(e.right,t)},Kb[zb]=function(){return!0},Kb[bb]=function(e,t){return e.value.has(t)},Kb[_b]=function(e,t){return(0,e.value)(t)};var Zb=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==e||$m(e)&&e.match(/^\s*$/)||(Km(e)?this.addQuery({checks:[{type:bb,value:e.collection()}]}):Um(e)?this.addQuery({checks:[{type:_b,value:e}]}):$m(e)?this.parse(e)||(this.invalid=!0):Mg("A selector must be created from a string; found "))},Qb=Zb.prototype;[qb,{matches:function(e){for(var t=0;t<this.length;t++){var n=this[t];if(Wb(n,e))return!0}return!1},filter:function(e){var t=this;if(1===t.length&&1===t[0].checks.length&&t[0].checks[0].type===Sb)return e.getElementById(t[0].checks[0].value).collection();var n=function(e){for(var n=0;n<t.length;n++){var r=t[n];if(Wb(r,e))return!0}return!1};return null==t.text()&&(n=function(){return!0}),e.filter(n)}}].forEach((function(e){return lg(Qb,e)})),Qb.text=function(){return this.inputText},Qb.size=function(){return this.length},Qb.eq=function(e){return this[e]},Qb.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},Qb.addQuery=function(e){this[this.length++]=e},Qb.selector=Qb.toString;var Jb={allAre:function(e){var t=new Zb(e);return this.every((function(e){return t.matches(e)}))},is:function(e){var t=new Zb(e);return this.some((function(e){return t.matches(e)}))},some:function(e,t){for(var n=0;n<this.length;n++){if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length;return t===e.length&&(1===t?this[0]===e[0]:this.every((function(t){return e.hasElementWithId(t.id())})))},anySame:function(e){return e=this.cy().collection(e),this.some((function(t){return e.hasElementWithId(t.id())}))},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every((function(e){return t.hasElementWithId(e.id())}))},contains:function(e){e=this.cy().collection(e);var t=this;return e.every((function(e){return t.hasElementWithId(e.id())}))}};Jb.allAreNeighbours=Jb.allAreNeighbors,Jb.has=Jb.contains,Jb.equal=Jb.equals=Jb.same;var e_,t_,n_=function(e,t){return function(n,r,i,a){var o,s=n,c=this;if(null==s?o="":Km(s)&&1===s.length&&(o=s.id()),1===c.length&&o){var l=c[0]._private,d=l.traversalCache=l.traversalCache||{},u=d[t]=d[t]||[],p=Cg(o),h=u[p];return h||(u[p]=e.call(c,n,r,i,a))}return e.call(c,n,r,i,a)}},r_={parent:function(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var i=this[r]._private.parent;i&&t.push(i)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var i=n[r];t.push(i)}n=n.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var r=this[n].parents();t=(t=t||r).intersect(r)}return t.filter(e)},orphans:function(e){return this.stdFilter((function(e){return e.isOrphan()})).filter(e)},nonorphans:function(e){return this.stdFilter((function(e){return e.isChild()})).filter(e)},children:n_((function(e){for(var t=[],n=0;n<this.length;n++)for(var r=this[n]._private.children,i=0;i<r.length;i++)t.push(r[i]);return this.spawn(t,!0).filter(e)}),"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var t=[];return function e(n){for(var r=0;r<n.length;r++){var i=n[r];t.push(i),i.children().nonempty()&&e(i.children())}}(this.children()),this.spawn(t,!0).filter(e)}};function i_(e,t,n,r){for(var i=[],a=new Wg,o=e.cy().hasCompoundNodes(),s=0;s<e.length;s++){var c=e[s];n?i.push(c):o&&r(i,a,c)}for(;i.length>0;){var l=i.shift();t(l),a.add(l.id()),o&&r(i,a,l)}return e}function a_(e,t,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var a=r[i];t.has(a.id())||e.push(a)}}function o_(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}function s_(e,t,n){o_(e,t,n),a_(e,t,n)}r_.forEachDown=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return i_(this,e,t,a_)},r_.forEachUp=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return i_(this,e,t,o_)},r_.forEachUpAndDown=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return i_(this,e,t,s_)},r_.ancestors=r_.parents,(e_=t_={data:fb.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:fb.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:fb.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:fb.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:fb.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:fb.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=e_.data,e_.removeAttr=e_.removeData;var c_,l_,d_=t_,u_={};function p_(e){return function(t){var n=this;if(void 0===t&&(t=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var r=0,i=n[0],a=i._private.edges,o=0;o<a.length;o++){var s=a[o];!t&&s.isLoop()||(r+=e(i,s))}return r}}}function h_(e,t){return function(n){for(var r,i=this.nodes(),a=0;a<i.length;a++){var o=i[a][e](n);void 0===o||void 0!==r&&!t(o,r)||(r=o)}return r}}lg(u_,{degree:p_((function(e,t){return t.source().same(t.target())?2:1})),indegree:p_((function(e,t){return t.target().same(e)?1:0})),outdegree:p_((function(e,t){return t.source().same(e)?1:0}))}),lg(u_,{minDegree:h_("degree",(function(e,t){return e<t})),maxDegree:h_("degree",(function(e,t){return e>t})),minIndegree:h_("indegree",(function(e,t){return e<t})),maxIndegree:h_("indegree",(function(e,t){return e>t})),minOutdegree:h_("outdegree",(function(e,t){return e<t})),maxOutdegree:h_("outdegree",(function(e,t){return e>t}))}),lg(u_,{totalDegree:function(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}});var f_=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(!i.locked()){var a=i._private.position,o={x:null!=t.x?t.x-a.x:0,y:null!=t.y?t.y-a.y:0};!i.isParent()||0===o.x&&0===o.y||i.children().shift(o,n),i.dirtyBoundingBoxCache()}}},m_={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){f_(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};(c_=l_={position:fb.data(m_),silentPosition:fb.data(lg({},m_,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){f_(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(qm(e))t?this.silentPosition(e):this.position(e);else if(Um(e)){var n=e,r=this.cy();r.startBatch();for(var i=0;i<this.length;i++){var a,o=this[i];(a=n(o,i))&&(t?o.silentPosition(a):o.position(a))}r.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var r;if(qm(e)?(r={x:Xm(e.x)?e.x:0,y:Xm(e.y)?e.y:0},n=t):$m(e)&&Xm(t)&&((r={x:0,y:0})[e]=t),null!=r){var i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var o=this[a],s=o.position(),c={x:s.x+r.x,y:s.y+r.y};n?o.silentPosition(c):o.position(c)}i.endBatch()}return this},silentShift:function(e,t){return qm(e)?this.shift(e,!0):$m(e)&&Xm(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],r=this.cy(),i=r.zoom(),a=r.pan(),o=qm(e)?e:void 0,s=void 0!==o||void 0!==t&&$m(e);if(n&&n.isNode()){if(!s){var c=n.position();return o=hv(c,i,a),void 0===e?o:o[e]}for(var l=0;l<this.length;l++){var d=this[l];void 0!==t?d.position(e,(t-a[e])/i):void 0!==o&&d.position(fv(o,i,a))}}else if(!s)return;return this},relativePosition:function(e,t){var n=this[0],r=this.cy(),i=qm(e)?e:void 0,a=void 0!==i||void 0!==t&&$m(e),o=r.hasCompoundNodes();if(n&&n.isNode()){if(!a){var s=n.position(),c=o?n.parent():null,l=c&&c.length>0,d=l;l&&(c=c[0]);var u=d?c.position():{x:0,y:0};return i={x:s.x-u.x,y:s.y-u.y},void 0===e?i:i[e]}for(var p=0;p<this.length;p++){var h=this[p],f=o?h.parent():null,m=f&&f.length>0,g=m;m&&(f=f[0]);var v=g?f.position():{x:0,y:0};void 0!==t?h.position(e,t+v[e]):void 0!==i&&h.position({x:i.x+v.x,y:i.y+v.y})}}else if(!a)return;return this}}).modelPosition=c_.point=c_.position,c_.modelPositions=c_.points=c_.positions,c_.renderedPoint=c_.renderedPosition,c_.relativePoint=c_.relativePosition;var g_,v_,y_=l_;g_=v_={},v_.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),i=n.pan(),a=t.x1*r+i.x,o=t.x2*r+i.x,s=t.y1*r+i.y,c=t.y2*r+i.y;return{x1:a,x2:o,y1:s,y2:c,w:o-a,h:c-s}},v_.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp((function(t){if(t.isParent()){var n=t._private;n.compoundBoundsClean=!1,n.bbCache=null,e||t.emitAndNotify("bounds")}})),this):this},v_.updateCompoundBounds=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(e){if(e.isParent()){var t=e._private,n=e.children(),r="include"===e.pstyle("compound-sizing-wrt-labels").value,i={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},a=n.boundingBox({includeLabels:r,includeOverlays:!1,useCache:!1}),o=t.position;0!==a.w&&0!==a.h||((a={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=o.x-a.w/2,a.x2=o.x+a.w/2,a.y1=o.y-a.h/2,a.y2=o.y+a.h/2);var s=i.width.left.value;"px"===i.width.left.units&&i.width.val>0&&(s=100*s/i.width.val);var c=i.width.right.value;"px"===i.width.right.units&&i.width.val>0&&(c=100*c/i.width.val);var l=i.height.top.value;"px"===i.height.top.units&&i.height.val>0&&(l=100*l/i.height.val);var d=i.height.bottom.value;"px"===i.height.bottom.units&&i.height.val>0&&(d=100*d/i.height.val);var u=v(i.width.val-a.w,s,c),p=u.biasDiff,h=u.biasComplementDiff,f=v(i.height.val-a.h,l,d),m=f.biasDiff,g=f.biasComplementDiff;t.autoPadding=function(e,t,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return e>0?n.pfValue*e:0;case"height":return t>0?n.pfValue*t:0;case"average":return e>0&&t>0?n.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?n.pfValue*t:n.pfValue*e:0;case"max":return e>0&&t>0?e>t?n.pfValue*e:n.pfValue*t:0;default:return 0}}(a.w,a.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),t.autoWidth=Math.max(a.w,i.width.val),o.x=(-p+a.x1+a.x2+h)/2,t.autoHeight=Math.max(a.h,i.height.val),o.y=(-m+a.y1+a.y2+g)/2}function v(e,t,n){var r=0,i=0,a=t+n;return e>0&&a>0&&(r=t/a*e,i=n/a*e),{biasDiff:r,biasComplementDiff:i}}}for(var r=0;r<this.length;r++){var i=this[r],a=i._private;a.compoundBoundsClean&&!e||(n(i),t.batching()||(a.compoundBoundsClean=!0))}return this};var b_=function(e){return e===1/0||e===-1/0?0:e},__=function(e,t,n,r,i){r-t!=0&&i-n!=0&&null!=t&&null!=n&&null!=r&&null!=i&&(e.x1=t<e.x1?t:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},x_=function(e,t){return null==t?e:__(e,t.x1,t.y1,t.x2,t.y2)},w_=function(e,t,n){return qg(e,t,n)},k_=function(e,t,n){if(!t.cy().headless()){var r,i,a=t._private,o=a.rstyle,s=o.arrowWidth/2;if("none"!==t.pstyle(n+"-arrow-shape").value){"source"===n?(r=o.srcX,i=o.srcY):"target"===n?(r=o.tgtX,i=o.tgtY):(r=o.midX,i=o.midY);var c=a.arrowBounds=a.arrowBounds||{},l=c[n]=c[n]||{};l.x1=r-s,l.y1=i-s,l.x2=r+s,l.y2=i+s,l.w=l.x2-l.x1,l.h=l.y2-l.y1,Av(l,1),__(e,l.x1,l.y1,l.x2,l.y2)}}},E_=function(e,t,n){if(!t.cy().headless()){var r;r=n?n+"-":"";var i=t._private,a=i.rstyle;if(t.pstyle(r+"label").strValue){var o,s,c,l,d=t.pstyle("text-halign"),u=t.pstyle("text-valign"),p=w_(a,"labelWidth",n),h=w_(a,"labelHeight",n),f=w_(a,"labelX",n),m=w_(a,"labelY",n),g=t.pstyle(r+"text-margin-x").pfValue,v=t.pstyle(r+"text-margin-y").pfValue,y=t.isEdge(),b=t.pstyle(r+"text-rotation"),_=t.pstyle("text-outline-width").pfValue,x=t.pstyle("text-border-width").pfValue/2,w=t.pstyle("text-background-padding").pfValue,k=h,E=p,C=E/2,S=k/2;if(y)o=f-C,s=f+C,c=m-S,l=m+S;else{switch(d.value){case"left":o=f-E,s=f;break;case"center":o=f-C,s=f+C;break;case"right":o=f,s=f+E}switch(u.value){case"top":c=m-k,l=m;break;case"center":c=m-S,l=m+S;break;case"bottom":c=m,l=m+k}}o+=g-Math.max(_,x)-w-2,s+=g+Math.max(_,x)+w+2,c+=v-Math.max(_,x)-w-2,l+=v+Math.max(_,x)+w+2;var A=n||"main",T=i.labelBounds,I=T[A]=T[A]||{};I.x1=o,I.y1=c,I.x2=s,I.y2=l,I.w=s-o,I.h=l-c;var O=y&&"autorotate"===b.strValue,R=null!=b.pfValue&&0!==b.pfValue;if(O||R){var D=O?w_(i.rstyle,"labelAngle",n):b.pfValue,P=Math.cos(D),L=Math.sin(D),N=(o+s)/2,M=(c+l)/2;if(!y){switch(d.value){case"left":N=s;break;case"right":N=o}switch(u.value){case"top":M=l;break;case"bottom":M=c}}var F=function(e,t){return{x:(e-=N)*P-(t-=M)*L+N,y:e*L+t*P+M}},z=F(o,c),B=F(o,l),j=F(s,c),H=F(s,l);o=Math.min(z.x,B.x,j.x,H.x),s=Math.max(z.x,B.x,j.x,H.x),c=Math.min(z.y,B.y,j.y,H.y),l=Math.max(z.y,B.y,j.y,H.y)}var V=A+"Rot",$=T[V]=T[V]||{};$.x1=o,$.y1=c,$.x2=s,$.y2=l,$.w=s-o,$.h=l-c,__(e,o,c,s,l),__(i.labelBounds.all,o,c,s,l)}return e}},C_=function(e){var t=0,n=function(e){return(e?1:0)<<t++},r=0;return r+=n(e.incudeNodes),r+=n(e.includeEdges),r+=n(e.includeLabels),r+=n(e.includeMainLabels),r+=n(e.includeSourceLabels),r+=n(e.includeTargetLabels),r+=n(e.includeOverlays)},S_=function(e){if(e.isEdge()){var t=e.source().position(),n=e.target().position(),r=function(e){return Math.round(e)};return function(e,t){var n={value:0,done:!1},r=0,i=e.length;return _g({next:function(){return r<i?n.value=e[r++]:n.done=!0,n}},t)}([r(t.x),r(t.y),r(n.x),r(n.y)])}return 0},A_=function(e,t){var n,r=e._private,i=e.isEdge(),a=(null==t?I_:C_(t))===I_,o=S_(e),s=r.bbCachePosKey===o,c=t.useCache&&s,l=function(e){return null==e._private.bbCache||e._private.styleDirty};if(!c||l(e)||i&&l(e.source())||l(e.target())?(s||e.recalculateRenderedStyle(c),n=function(e,t){var n,r,i,a,o,s,c,l=e._private.cy,d=l.styleEnabled(),u=l.headless(),p=Cv(),h=e._private,f=e.isNode(),m=e.isEdge(),g=h.rstyle,v=f&&d?e.pstyle("bounds-expansion").pfValue:[0],y=function(e){return"none"!==e.pstyle("display").value},b=!d||y(e)&&(!m||y(e.source())&&y(e.target()));if(b){var _=0;d&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(_=e.pstyle("overlay-padding").value);var x=0;if(d&&(x=e.pstyle("width").pfValue/2),f&&t.includeNodes){var w=e.position();o=w.x,s=w.y;var k=e.outerWidth()/2,E=e.outerHeight()/2;__(p,n=o-k,i=s-E,r=o+k,a=s+E)}else if(m&&t.includeEdges)if(d&&!u){var C=e.pstyle("curve-style").strValue;if(n=Math.min(g.srcX,g.midX,g.tgtX),r=Math.max(g.srcX,g.midX,g.tgtX),i=Math.min(g.srcY,g.midY,g.tgtY),a=Math.max(g.srcY,g.midY,g.tgtY),__(p,n-=x,i-=x,r+=x,a+=x),"haystack"===C){var S=g.haystackPts;if(S&&2===S.length){if(n=S[0].x,i=S[0].y,n>(r=S[1].x)){var A=n;n=r,r=A}if(i>(a=S[1].y)){var T=i;i=a,a=T}__(p,n-x,i-x,r+x,a+x)}}else if("bezier"===C||"unbundled-bezier"===C||"segments"===C||"taxi"===C){var I;switch(C){case"bezier":case"unbundled-bezier":I=g.bezierPts;break;case"segments":case"taxi":I=g.linePts}if(null!=I)for(var O=0;O<I.length;O++){var R=I[O];n=R.x-x,r=R.x+x,i=R.y-x,a=R.y+x,__(p,n,i,r,a)}}}else{var D=e.source().position(),P=e.target().position();if((n=D.x)>(r=P.x)){var L=n;n=r,r=L}if((i=D.y)>(a=P.y)){var N=i;i=a,a=N}__(p,n-=x,i-=x,r+=x,a+=x)}if(d&&t.includeEdges&&m&&(k_(p,e,"mid-source"),k_(p,e,"mid-target"),k_(p,e,"source"),k_(p,e,"target")),d&&"yes"===e.pstyle("ghost").value){var M=e.pstyle("ghost-offset-x").pfValue,F=e.pstyle("ghost-offset-y").pfValue;__(p,p.x1+M,p.y1+F,p.x2+M,p.y2+F)}var z=h.bodyBounds=h.bodyBounds||{};Iv(z,p),Tv(z,v),Av(z,1),d&&(n=p.x1,r=p.x2,i=p.y1,a=p.y2,__(p,n-_,i-_,r+_,a+_));var B=h.overlayBounds=h.overlayBounds||{};Iv(B,p),Tv(B,v),Av(B,1);var j=h.labelBounds=h.labelBounds||{};null!=j.all?((c=j.all).x1=1/0,c.y1=1/0,c.x2=-1/0,c.y2=-1/0,c.w=0,c.h=0):j.all=Cv(),d&&t.includeLabels&&(t.includeMainLabels&&E_(p,e,null),m&&(t.includeSourceLabels&&E_(p,e,"source"),t.includeTargetLabels&&E_(p,e,"target")))}return p.x1=b_(p.x1),p.y1=b_(p.y1),p.x2=b_(p.x2),p.y2=b_(p.y2),p.w=b_(p.x2-p.x1),p.h=b_(p.y2-p.y1),p.w>0&&p.h>0&&b&&(Tv(p,v),Av(p,1)),p}(e,T_),r.bbCache=n,r.bbCachePosKey=o):n=r.bbCache,!a){var d=e.isNode();n=Cv(),(t.includeNodes&&d||t.includeEdges&&!d)&&(t.includeOverlays?x_(n,r.overlayBounds):x_(n,r.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!i||t.includeSourceLabels&&t.includeTargetLabels)?x_(n,r.labelBounds.all):(t.includeMainLabels&&x_(n,r.labelBounds.mainRot),t.includeSourceLabels&&x_(n,r.labelBounds.sourceRot),t.includeTargetLabels&&x_(n,r.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},T_={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,useCache:!0},I_=C_(T_),O_=$g(T_);v_.boundingBox=function(e){var t;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==e&&void 0!==e.useCache&&!0!==e.useCache){t=Cv();var n=O_(e=e||T_),r=this;if(r.cy().styleEnabled())for(var i=0;i<r.length;i++){var a=r[i],o=a._private,s=S_(a),c=o.bbCachePosKey===s,l=n.useCache&&c&&!o.styleDirty;a.recalculateRenderedStyle(l)}this.updateCompoundBounds(!e.useCache);for(var d=0;d<r.length;d++){var u=r[d];x_(t,A_(u,n))}}else e=void 0===e?T_:O_(e),t=A_(this[0],e);return t.x1=b_(t.x1),t.y1=b_(t.y1),t.x2=b_(t.x2),t.y2=b_(t.y2),t.w=b_(t.x2-t.x1),t.h=b_(t.y2-t.y1),t},v_.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},v_.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),r=n.hasCompoundNodes(),i=n.collection();if(r&&(i=t.filter((function(e){return e.isParent()})),t=t.not(i)),qm(e)){var a=e;e=function(){return a}}n.startBatch(),t.forEach((function(t,n){return t._private.bbAtOldPos=e(t,n)})).silentPositions(e),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var o=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}}(this.boundingBox({useCache:!1}));return t.silentPositions((function(e){return e._private.bbAtOldPos})),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),n.endBatch(),o},g_.boundingbox=g_.bb=g_.boundingBox,g_.renderedBoundingbox=g_.renderedBoundingBox;var R_,D_,P_=v_;R_=D_={};var L_=function(e){e.uppercaseName=og(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=og(e.outerName),R_[e.name]=function(){var t=this[0],n=t._private,r=n.cy._private.styleEnabled;if(t){if(!r)return 1;if(t.isParent())return t.updateCompoundBounds(),n[e.autoName]||0;var i=t.pstyle(e.name);switch(i.strValue){case"label":return t.recalculateRenderedStyle(),n.rstyle[e.labelName]||0;default:return i.pfValue}}},R_["outer"+e.uppercaseName]=function(){var t=this[0],n=t._private.cy._private.styleEnabled;if(t)return n?t[e.name]()+t.pstyle("border-width").pfValue+2*t.padding():1},R_["rendered"+e.uppercaseName]=function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},R_["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()}};L_({name:"width"}),L_({name:"height"}),D_.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},D_.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},D_.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var N_=D_,M_={controlPoints:{get:function(e){return e.renderer().getControlPoints(e)},mult:!0},segmentPoints:{get:function(e){return e.renderer().getSegmentPoints(e)},mult:!0},sourceEndpoint:{get:function(e){return e.renderer().getSourceEndpoint(e)}},targetEndpoint:{get:function(e){return e.renderer().getTargetEndpoint(e)}},midpoint:{get:function(e){return e.renderer().getEdgeMidpoint(e)}}},F_=Object.keys(M_).reduce((function(e,t){var n=M_[t],r=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)}(t);return e[t]=function(){return function(e,t){if(e.isEdge())return t(e)}(this,n.get)},n.mult?e[r]=function(){return function(e,t){if(e.isEdge()){var n=e.cy(),r=n.pan(),i=n.zoom();return t(e).map((function(e){return hv(e,i,r)}))}}(this,n.get)}:e[r]=function(){return function(e,t){if(e.isEdge()){var n=e.cy();return hv(t(e),n.zoom(),n.pan())}}(this,n.get)},e}),{}),z_=lg({},y_,P_,N_,F_),B_=function(e,t){this.recycle(e,t)};function j_(){return!1}function H_(){return!0}B_.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=j_,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?H_:j_):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,r=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*r+i.x,y:n.y*r+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=H_;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=H_;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=H_,this.stopPropagation()},isDefaultPrevented:j_,isPropagationStopped:j_,isImmediatePropagationStopped:j_};var V_=/^([^.]+)(\.(?:[^.]+))?$/,$_={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},U_=Object.keys($_),G_={};function q_(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G_,t=arguments.length>1?arguments[1]:void 0,n=0;n<U_.length;n++){var r=U_[n];this[r]=e[r]||$_[r]}this.context=t||this.context,this.listeners=[],this.emitting=0}var X_=q_.prototype,Y_=function(e,t,n,r,i,a,o){Um(r)&&(i=r,r=null),o&&(a=null==a?o:lg({},a,o));for(var s=Gm(n)?n:n.split(/\s+/),c=0;c<s.length;c++){var l=s[c];if(!eg(l)){var d=l.match(V_);if(d)if(!1===t(e,l,d[1],d[2]?d[2]:null,r,i,a))break}}},K_=function(e,t){return e.addEventFields(e.context,t),new B_(t.type,t)},W_=function(e,t,n){if("event"!==Vm(n))if(qm(n))t(e,K_(e,n));else for(var r=Gm(n)?n:n.split(/\s+/),i=0;i<r.length;i++){var a=r[i];if(!eg(a)){var o=a.match(V_);if(o){var s=o[1],c=o[2]?o[2]:null;t(e,K_(e,{type:s,namespace:c,target:e.context}))}}}else t(e,n)};X_.on=X_.addListener=function(e,t,n,r,i){return Y_(this,(function(e,t,n,r,i,a,o){Um(a)&&e.listeners.push({event:t,callback:a,type:n,namespace:r,qualifier:i,conf:o})}),e,t,n,r,i),this},X_.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})},X_.removeListener=X_.off=function(e,t,n,r){var i=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var a=this.listeners,o=function(o){var s=a[o];Y_(i,(function(t,n,r,i,c,l){if((s.type===r||"*"===e)&&(!i&&".*"!==s.namespace||s.namespace===i)&&(!c||t.qualifierCompare(s.qualifier,c))&&(!l||s.callback===l))return a.splice(o,1),!1}),e,t,n,r)},s=a.length-1;s>=0;s--)o(s);return this},X_.removeAllListeners=function(){return this.removeListener("*")},X_.emit=X_.trigger=function(e,t,n){var r=this.listeners,i=r.length;return this.emitting++,Gm(t)||(t=[t]),W_(this,(function(e,a){null!=n&&(r=[{event:a.event,type:a.type,namespace:a.namespace,callback:n}],i=r.length);for(var o=function(n){var i=r[n];if(i.type===a.type&&(!i.namespace||i.namespace===a.namespace||".*"===i.namespace)&&e.eventMatches(e.context,i,a)){var o=[a];null!=t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}}(o,t),e.beforeEmit(e.context,i,a),i.conf&&i.conf.one&&(e.listeners=e.listeners.filter((function(e){return e!==i})));var s=e.callbackContext(e.context,i,a),c=i.callback.apply(s,o);e.afterEmit(e.context,i,a),!1===c&&(a.stopPropagation(),a.preventDefault())}},s=0;s<i;s++)o(s);e.bubble(e.context)&&!a.isPropagationStopped()&&e.parent(e.context).emit(a,t)}),e),this.emitting--,this};var Z_={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&Wm(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Q_=function(e){return $m(e)?new Zb(e):e},J_={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new q_(Z_,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var r=Q_(t),i=0;i<this.length;i++){this[i].emitter().on(e,r,n)}return this},removeListener:function(e,t,n){for(var r=Q_(t),i=0;i<this.length;i++){this[i].emitter().removeListener(e,r,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){this[e].emitter().removeAllListeners()}return this},one:function(e,t,n){for(var r=Q_(t),i=0;i<this.length;i++){this[i].emitter().one(e,r,n)}return this},once:function(e,t,n){for(var r=Q_(t),i=0;i<this.length;i++){this[i].emitter().on(e,r,n,{once:!0,onceCollection:this})}},emit:function(e,t){for(var n=0;n<this.length;n++){this[n].emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify(e,this),this.emit(e,t),this}};fb.eventAliasesOn(J_);var ex={nodes:function(e){return this.filter((function(e){return e.isNode()})).filter(e)},edges:function(e){return this.filter((function(e){return e.isEdge()})).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var r=this[n];r.isNode()?e.push(r):t.push(r)}return{nodes:e,edges:t}},filter:function(e,t){if(void 0===e)return this;if($m(e)||Km(e))return new Zb(e).filter(this);if(Um(e)){for(var n=this.spawn(),r=this,i=0;i<r.length;i++){var a=r[i];(t?e.apply(t,[a,i,r]):e(a,i,r))&&n.push(a)}return n}return this.spawn()},not:function(e){if(e){$m(e)&&(e=this.filter(e));for(var t=this.spawn(),n=0;n<this.length;n++){var r=this[n];e.has(r)||t.push(r)}return t}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if($m(e)){var t=e;return this.filter(t)}for(var n=this.spawn(),r=e,i=this.length<e.length,a=i?this:r,o=i?r:this,s=0;s<a.length;s++){var c=a[s];o.has(c)&&n.push(c)}return n},xor:function(e){var t=this._private.cy;$m(e)&&(e=t.$(e));var n=this.spawn(),r=e,i=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=i._private.data.id;t.hasElementWithId(a)||n.push(i)}};return i(this,r),i(r,this),n},diff:function(e){var t=this._private.cy;$m(e)&&(e=t.$(e));var n=this.spawn(),r=this.spawn(),i=this.spawn(),a=e,o=function(e,t,n){for(var r=0;r<e.length;r++){var a=e[r],o=a._private.data.id;t.hasElementWithId(o)?i.merge(a):n.push(a)}};return o(this,a,n),o(a,this,r),{left:n,right:r,both:i}},add:function(e){var t=this._private.cy;if(!e)return this;if($m(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=this.spawnSelf(),i=0;i<e.length;i++){var a=e[i],o=!this.has(a);o&&r.push(a)}return r},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&$m(e)){var r=e;e=n.mutableElements().filter(r)}for(var i=t.map,a=0;a<e.length;a++){var o=e[a],s=o._private.data.id;if(!i.has(s)){var c=this.length++;this[c]=o,i.set(s,{ele:o,index:c})}}return this},unmergeAt:function(e){var t=this[e].id(),n=this._private.map;this[e]=void 0,n.delete(t);var r=e===this.length-1;if(this.length>1&&!r){var i=this.length-1,a=this[i],o=a._private.data.id;this[i]=void 0,this[e]=a,n.set(o,{ele:a,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,r=t.map.get(n);if(!r)return this;var i=r.index;return this.unmergeAt(i),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&$m(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=0;r<e.length;r++)this.unmergeOne(e[r]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){e(this[t])&&this.unmergeAt(t)}return this},map:function(e,t){for(var n=[],r=this,i=0;i<r.length;i++){var a=r[i],o=t?e.apply(t,[a,i,r]):e(a,i,r);n.push(o)}return n},reduce:function(e,t){for(var n=t,r=this,i=0;i<r.length;i++)n=e(n,r[i],i,r);return n},max:function(e,t){for(var n,r=-1/0,i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);s>r&&(r=s,n=o)}return{value:r,ele:n}},min:function(e,t){for(var n,r=1/0,i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);s<r&&(r=s,n=o)}return{value:r,ele:n}}},tx=ex;tx.u=tx["|"]=tx["+"]=tx.union=tx.or=tx.add,tx["\\"]=tx["!"]=tx["-"]=tx.difference=tx.relativeComplement=tx.subtract=tx.not,tx.n=tx["&"]=tx["."]=tx.and=tx.intersection=tx.intersect,tx["^"]=tx["(+)"]=tx["(-)"]=tx.symmetricDifference=tx.symdiff=tx.xor,tx.fnFilter=tx.filterFn=tx.stdFilter=tx.filter,tx.complement=tx.abscomp=tx.absoluteComplement;var nx=function(e,t){var n=e.cy().hasCompoundNodes();function r(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?n?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?Rg:0}var i=r(e)-r(t);if(0!==i)return i;function a(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var o=a(e)-a(t);if(0!==o)return o;var s=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==s?s:e.poolIndex()-t.poolIndex()},rx={forEach:function(e,t){if(Um(e))for(var n=this.length,r=0;r<n;r++){var i=this[r];if(!1===(t?e.apply(t,[i,r,this]):e(i,r,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],r=this.length;null==t&&(t=r),null==e&&(e=0),e<0&&(e=r+e),t<0&&(t=r+t);for(var i=e;i>=0&&i<t&&i<r;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!Um(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(nx)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:Rg-1}var r=t.source,i=t.target,a=r.zDepth(),o=i.zDepth();return Math.max(a,o,0)}}};rx.each=rx.forEach;var ix;ix="undefined",("undefined"==typeof Symbol?"undefined":Om(Symbol))!=ix&&Om(Symbol.iterator)!=ix&&(rx[Symbol.iterator]=function(){var e=this,t={value:void 0,done:!1},n=0,r=this.length;return Lm({next:function(){return n<r?t.value=e[n++]:(t.value=void 0,t.done=!0),t}},Symbol.iterator,(function(){return this}))});var ax=$g({nodeDimensionsIncludeLabels:!1}),ox={layoutDimensions:function(e){var t;if(e=ax(e),this.takesUpSpace())if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};else t={w:0,h:0};return 0!==t.w&&0!==t.h||(t.w=t.h=1),t},layoutPositions:function(e,t,n){var r=this.nodes().filter((function(e){return!e.isParent()})),i=this.cy(),a=t.eles,o=function(e){return e.id()},s=ng(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var c=t.spacingFactor&&1!==t.spacingFactor,l=function(){if(!c)return null;for(var e=Cv(),t=0;t<r.length;t++){var n=r[t],i=s(n,t);Sv(e,i.x,i.y)}return e}(),d=ng((function(e,n){var r=s(e,n);c&&(r=function(e,t,n){var r=t.x1+t.w/2,i=t.y1+t.h/2;return{x:r+(n.x-r)*e,y:i+(n.y-i)*e}}(Math.abs(t.spacingFactor),l,r));return null!=t.transform&&(r=t.transform(e,r)),r}),o);if(t.animate){for(var u=0;u<r.length;u++){var p=r[u],h=d(p,u);if(null==t.animateFilter||t.animateFilter(p,u)){var f=p.animation({position:h,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(f)}else p.position(h)}if(t.fit){var m=i.animation({fit:{boundingBox:a.boundingBoxAt(d),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(m)}else if(void 0!==t.zoom&&void 0!==t.pan){var g=i.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(g)}e.animations.forEach((function(e){return e.play()})),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),ub.all(e.animations.map((function(e){return e.promise()}))).then((function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})}))}else r.positions(d),t.fit&&i.fit(t.eles,t.padding),null!=t.zoom&&i.zoom(t.zoom),t.pan&&i.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(lg({},e,{eles:this}))}};function sx(e,t,n){var r,i=n._private,a=i.styleCache=i.styleCache||[];return null!=(r=a[e])?r:r=a[e]=t(n)}function cx(e,t){return e=Cg(e),function(n){return sx(e,t,n)}}function lx(e,t){e=Cg(e);var n=function(e){return t.call(e)};return function(){var t=this[0];if(t)return sx(e,n,t)}}ox.createLayout=ox.makeLayout=ox.layout;var dx={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),r=t.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e,t=this.cy(),n=function(e){return e._private.styleCache=null};t.hasCompoundNodes()?((e=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e.connectedEdges()),e.forEach(n)):this.forEach((function(e){n(e),e.connectedEdges().forEach(n)}));return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching())return t._private.batchStyleEles.merge(this),this;var n=this;e=!(!e&&void 0!==e),t.hasCompoundNodes()&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var r=n;return e?r.emitAndNotify("style"):r.emit("style"),n.forEach((function(e){return e._private.styleDirty=!0})),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var n=this[t];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],r=n.cy();if(r.styleEnabled()&&n){this.cleanStyle();var i=n._private.style[e];return null!=i?i:t?r.style().getDefaultProperty(e):null}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var r=n.style();if(qm(e)){var i=e;r.applyBypass(this,i,false),this.emitAndNotify("style")}else if($m(e)){if(void 0===t){var a=this[0];return a?r.getStylePropertyValue(a,e):void 0}r.applyBypass(this,e,t,false),this.emitAndNotify("style")}else if(void 0===e){var o=this[0];return o?r.getRawStyle(o):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=t.style(),r=this;if(void 0===e)for(var i=0;i<r.length;i++){var a=r[i];n.removeAllBypasses(a,false)}else{e=e.split(/\s+/);for(var o=0;o<r.length;o++){var s=r[o];n.removeBypasses(s,e,false)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=n.pstyle("opacity").value;if(!t)return i;var a=r.data.parent?n.parents():null;if(a)for(var o=0;o<a.length;o++){i*=a[o].pstyle("opacity").value}return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function ux(e,t){var n=e._private.data.parent?e.parents():null;if(n)for(var r=0;r<n.length;r++){if(!t(n[r]))return!1}return!0}function px(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,r=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var i=this[0],a=e.hasCompoundNodes();if(i){var o=i._private;if(!t(i))return!1;if(i.isNode())return!a||ux(i,r);var s=o.source,c=o.target;return n(s)&&(!a||ux(s,n))&&(s===c||n(c)&&(!a||ux(c,n)))}}}var hx=cx("eleTakesUpSpace",(function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())}));dx.takesUpSpace=lx("takesUpSpace",px({ok:hx}));var fx=cx("eleInteractive",(function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&hx(e)})),mx=cx("parentInteractive",(function(e){return"visible"===e.pstyle("visibility").value&&hx(e)}));dx.interactive=lx("interactive",px({ok:fx,parentOk:mx,edgeOkViaNode:hx})),dx.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var gx=cx("eleVisible",(function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&hx(e)})),vx=hx;dx.visible=lx("visible",px({ok:gx,edgeOkViaNode:vx})),dx.hidden=function(){var e=this[0];if(e)return!e.visible()},dx.isBundledBezier=lx("isBundledBezier",(function(){return!!this.cy().styleEnabled()&&(!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace())})),dx.bypass=dx.css=dx.style,dx.renderedCss=dx.renderedStyle,dx.removeBypass=dx.removeCss=dx.removeStyle,dx.pstyle=dx.parsedStyle;var yx={};function bx(e){return function(){var t=arguments,n=[];if(2===t.length){var r=t[0],i=t[1];this.on(e.event,r,i)}else if(1===t.length&&Um(t[0])){var a=t[0];this.on(e.event,a)}else if(0===t.length||1===t.length&&Gm(t[0])){for(var o=1===t.length?t[0]:null,s=0;s<this.length;s++){var c=this[s],l=!e.ableField||c._private[e.ableField],d=c._private[e.field]!=e.value;if(e.overrideAble){var u=e.overrideAble(c);if(void 0!==u&&(l=u,!u))return this}l&&(c._private[e.field]=e.value,d&&n.push(c))}var p=this.spawn(n);p.updateStyle(),p.emit(e.event),o&&p.emit(o)}return this}}function _x(e){yx[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},yx[e.on]=bx({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),yx[e.off]=bx({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}_x({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),_x({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&!e.pannable()&&void 0},on:"grabify",off:"ungrabify"}),_x({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),_x({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),yx.deselect=yx.unselect,yx.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},_x({field:"active",on:"activate",off:"unactivate"}),_x({field:"pannable",on:"panify",off:"unpanify"}),yx.inactive=function(){var e=this[0];if(e)return!e._private.active};var xx={},wx=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode()){for(var a=!1,o=i.connectedEdges(),s=0;s<o.length;s++){var c=o[s],l=c.source(),d=c.target();if(e.noIncomingEdges&&d===i&&l!==i||e.noOutgoingEdges&&l===i&&d!==i){a=!0;break}}a||n.push(i)}}return this.spawn(n,!0).filter(t)}},kx=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode())for(var a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],c=s.source(),l=s.target();e.outgoing&&c===i?(n.push(s),n.push(l)):e.incoming&&l===i&&(n.push(s),n.push(c))}}return this.spawn(n,!0).filter(t)}},Ex=function(e){return function(t){for(var n=this,r=[],i={};;){var a=e.outgoing?n.outgoers():n.incomers();if(0===a.length)break;for(var o=!1,s=0;s<a.length;s++){var c=a[s],l=c.id();i[l]||(i[l]=!0,r.push(c),o=!0)}if(!o)break;n=a}return this.spawn(r,!0).filter(t)}};function Cx(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r]._private[e.attr];i&&n.push(i)}return this.spawn(n,!0).filter(t)}}function Sx(e){return function(t){var n=[],r=this._private.cy,i=e||{};$m(t)&&(t=r.$(t));for(var a=0;a<t.length;a++)for(var o=t[a]._private.edges,s=0;s<o.length;s++){var c=o[s],l=c._private.data,d=this.hasElementWithId(l.source)&&t.hasElementWithId(l.target),u=t.hasElementWithId(l.source)&&this.hasElementWithId(l.target);if(d||u){if(i.thisIsSrc||i.thisIsTgt){if(i.thisIsSrc&&!d)continue;if(i.thisIsTgt&&!u)continue}n.push(c)}}return this.spawn(n,!0)}}function Ax(e){return e=lg({},{codirected:!1},e),function(t){for(var n=[],r=this.edges(),i=e,a=0;a<r.length;a++)for(var o=r[a]._private,s=o.source,c=s._private.data.id,l=o.data.target,d=s._private.edges,u=0;u<d.length;u++){var p=d[u],h=p._private.data,f=h.target,m=h.source,g=f===l&&m===c,v=c===f&&l===m;(i.codirected&&g||!i.codirected&&(g||v))&&n.push(p)}return this.spawn(n,!0).filter(t)}}xx.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},lg(xx,{roots:wx({noIncomingEdges:!0}),leaves:wx({noOutgoingEdges:!0}),outgoers:n_(kx({outgoing:!0}),"outgoers"),successors:Ex({outgoing:!0}),incomers:n_(kx({incoming:!0}),"incomers"),predecessors:Ex({incoming:!0})}),lg(xx,{neighborhood:n_((function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],c=s.source(),l=s.target(),d=i===c?l:c;d.length>0&&t.push(d[0]),t.push(s[0])}return this.spawn(t,!0).filter(e)}),"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),xx.neighbourhood=xx.neighborhood,xx.closedNeighbourhood=xx.closedNeighborhood,xx.openNeighbourhood=xx.openNeighborhood,lg(xx,{source:n_((function(e){var t,n=this[0];return n&&(t=n._private.source||n.cy().collection()),t&&e?t.filter(e):t}),"source"),target:n_((function(e){var t,n=this[0];return n&&(t=n._private.target||n.cy().collection()),t&&e?t.filter(e):t}),"target"),sources:Cx({attr:"source"}),targets:Cx({attr:"target"})}),lg(xx,{edgesWith:n_(Sx(),"edgesWith"),edgesTo:n_(Sx({thisIsSrc:!0}),"edgesTo")}),lg(xx,{connectedEdges:n_((function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var i=r._private.edges,a=0;a<i.length;a++){var o=i[a];t.push(o)}}return this.spawn(t,!0).filter(e)}),"connectedEdges"),connectedNodes:n_((function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];r.isEdge()&&(t.push(r.source()[0]),t.push(r.target()[0]))}return this.spawn(t,!0).filter(e)}),"connectedNodes"),parallelEdges:n_(Ax(),"parallelEdges"),codirectedEdges:n_(Ax({codirected:!0}),"codirectedEdges")}),lg(xx,{components:function(e){var t=this,n=t.cy(),r=n.collection(),i=null==e?t.nodes():e.nodes(),a=[];null!=e&&i.empty()&&(i=e.sources());var o=function(e,t){r.merge(e),i.unmerge(e),t.merge(e)};if(i.empty())return t.spawn();var s=function(){var e=n.collection();a.push(e);var r=i[0];o(r,e),t.bfs({directed:!1,roots:r,visit:function(t){return o(t,e)}}),e.forEach((function(n){n.connectedEdges().forEach((function(n){t.has(n)&&e.has(n.source())&&e.has(n.target())&&e.merge(n)}))}))};do{s()}while(i.length>0);return a},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),xx.componentsOf=xx.components;var Tx=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0!==e){var r=new Yg,i=!1;if(t){if(t.length>0&&qm(t[0])&&!Wm(t[0])){i=!0;for(var a=[],o=new Wg,s=0,c=t.length;s<c;s++){var l=t[s];null==l.data&&(l.data={});var d=l.data;if(null==d.id)d.id=jg();else if(e.hasElementWithId(d.id)||o.has(d.id))continue;var u=new Zg(e,l,!1);a.push(u),o.add(d.id)}t=a}}else t=[];this.length=0;for(var p=0,h=t.length;p<h;p++){var f=t[p][0];if(null!=f){var m=f._private.data.id;n&&r.has(m)||(n&&r.set(m,{index:this.length,ele:f}),this[this.length]=f,this.length++)}}this._private={eles:this,cy:e,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(e){this.lazyMap=e},rebuildMap:function(){for(var e=this.lazyMap=new Yg,t=this.eles,n=0;n<t.length;n++){var r=t[n];e.set(r.id(),{index:n,ele:r})}}},n&&(this._private.map=r),i&&this.restore()}else Mg("A collection must have a reference to the core")},Ix=Zg.prototype=Tx.prototype=Object.create(Array.prototype);Ix.instanceString=function(){return"collection"},Ix.spawn=function(e,t){return new Tx(this.cy(),e,t)},Ix.spawnSelf=function(){return this.spawn(this)},Ix.cy=function(){return this._private.cy},Ix.renderer=function(){return this._private.cy.renderer()},Ix.element=function(){return this[0]},Ix.collection=function(){return Zm(this)?this:new Tx(this._private.cy,[this])},Ix.unique=function(){return new Tx(this._private.cy,this,!0)},Ix.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},Ix.getElementById=function(e){e=""+e;var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new Tx(t)},Ix.$id=Ix.getElementById,Ix.poolIndex=function(){var e=this._private.cy._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index},Ix.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},Ix.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},Ix.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var r=t._private;if(qm(e)){if(n.startBatch(),e.data){t.data(e.data);var i=r.data;if(t.isEdge()){var a=!1,o={},s=e.data.source,c=e.data.target;null!=s&&s!=i.source&&(o.source=""+s,a=!0),null!=c&&c!=i.target&&(o.target=""+c,a=!0),a&&(t=t.move(o))}else{var l="parent"in e.data,d=e.data.parent;!l||null==d&&null==i.parent||d==i.parent||(void 0===d&&(d=null),null!=d&&(d=""+d),t=t.move({parent:d}))}}e.position&&t.position(e.position);var u=function(n,i,a){var o=e[n];null!=o&&o!==r[n]&&(o?t[i]():t[a]())};return u("removed","remove","restore"),u("selected","select","unselect"),u("selectable","selectify","unselectify"),u("locked","lock","unlock"),u("grabbable","grabify","ungrabify"),u("pannable","panify","unpanify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),this}if(void 0===e){var p={data:Bg(r.data),position:Bg(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:null};p.classes="";var h=0;return r.classes.forEach((function(e){return p.classes+=0==h++?e:" "+e})),p}}},Ix.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t].json();e.push(n)}return e},Ix.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n].json(),i=new Zg(e,r,!1);t.push(i)}return new Tx(e,t)},Ix.copy=Ix.clone,Ix.restore=function(){for(var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this,a=i.cy(),o=a._private,s=[],c=[],l=0,d=i.length;l<d;l++){var u=i[l];r&&!u.removed()||(u.isNode()?s.push(u):c.push(u))}e=s.concat(c);var p=function(){e.splice(t,1),t--};for(t=0;t<e.length;t++){var h=e[t],f=h._private,m=f.data;if(h.clearTraversalCache(),r||f.removed)if(void 0===m.id)m.id=jg();else if(Xm(m.id))m.id=""+m.id;else{if(eg(m.id)||!$m(m.id)){Mg("Can not create element with invalid string ID `"+m.id+"`"),p();continue}if(a.hasElementWithId(m.id)){Mg("Can not create second element with ID `"+m.id+"`"),p();continue}}else;var g=m.id;if(h.isNode()){var v=f.position;null==v.x&&(v.x=0),null==v.y&&(v.y=0)}if(h.isEdge()){for(var y=h,b=["source","target"],_=b.length,x=!1,w=0;w<_;w++){var k=b[w],E=m[k];Xm(E)&&(E=m[k]=""+m[k]),null==E||""===E?(Mg("Can not create edge `"+g+"` with unspecified "+k),x=!0):a.hasElementWithId(E)||(Mg("Can not create edge `"+g+"` with nonexistant "+k+" `"+E+"`"),x=!0)}if(x){p();continue}var C=a.getElementById(m.source),S=a.getElementById(m.target);C.same(S)?C._private.edges.push(y):(C._private.edges.push(y),S._private.edges.push(y)),y._private.source=C,y._private.target=S}f.map=new Yg,f.map.set(g,{ele:h,index:0}),f.removed=!1,r&&a.addToPool(h)}for(var A=0;A<s.length;A++){var T=s[A],I=T._private.data;Xm(I.parent)&&(I.parent=""+I.parent);var O=I.parent,R=null!=O;if(R){var D=a.getElementById(O);if(D.empty())I.parent=void 0;else{for(var P=!1,L=D;!L.empty();){if(T.same(L)){P=!0,I.parent=void 0;break}L=L.parent()}P||(D[0]._private.children.push(T),T._private.parent=D[0],o.hasCompoundNodes=!0)}}}if(e.length>0){for(var N=e.length===i.length?i:new Tx(a,e),M=0;M<N.length;M++){var F=N[M];F.isNode()||(F.parallelEdges().clearTraversalCache(),F.source().clearTraversalCache(),F.target().clearTraversalCache())}(o.hasCompoundNodes?a.collection().merge(N).merge(N.connectedNodes()).merge(N.parent()):N).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?N.emitAndNotify("add"):r&&N.emit("add")}return i},Ix.removed=function(){var e=this[0];return e&&e._private.removed},Ix.inside=function(){var e=this[0];return e&&!e._private.removed},Ix.remove=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=[],i={},a=n._private.cy;function o(e){for(var t=e._private.edges,n=0;n<t.length;n++)c(t[n])}function s(e){for(var t=e._private.children,n=0;n<t.length;n++)c(t[n])}function c(e){var n=i[e.id()];t&&e.removed()||n||(i[e.id()]=!0,e.isNode()?(r.push(e),o(e),s(e)):r.unshift(e))}for(var l=0,d=n.length;l<d;l++){var u=n[l];c(u)}function p(e,t){var n=e._private.edges;Ug(n,t),e.clearTraversalCache()}function h(e){e.clearTraversalCache()}var f=[];function m(e,t){t=t[0];var n=(e=e[0])._private.children,r=e.id();Ug(n,t),t._private.parent=null,f.ids[r]||(f.ids[r]=!0,f.push(e))}f.ids={},n.dirtyCompoundBoundsCache(),t&&a.removeFromPool(r);for(var g=0;g<r.length;g++){var v=r[g];if(v.isEdge()){var y=v.source()[0],b=v.target()[0];p(y,v),p(b,v);for(var _=v.parallelEdges(),x=0;x<_.length;x++){var w=_[x];h(w),w.isBundledBezier()&&w.dirtyBoundingBoxCache()}}else{var k=v.parent();0!==k.length&&m(k,v)}t&&(v._private.removed=!0)}var E=a._private.elements;a._private.hasCompoundNodes=!1;for(var C=0;C<E.length;C++){var S=E[C];if(S.isParent()){a._private.hasCompoundNodes=!0;break}}var A=new Tx(this.cy(),r);A.size()>0&&(e?A.emitAndNotify("remove"):t&&A.emit("remove"));for(var T=0;T<f.length;T++){var I=f[T];t&&I.removed()||I.updateStyle()}return A},Ix.move=function(e){var t=this._private.cy,n=this,r=!1,i=!1,a=function(e){return null==e?e:""+e};if(void 0!==e.source||void 0!==e.target){var o=a(e.source),s=a(e.target),c=null!=o&&t.hasElementWithId(o),l=null!=s&&t.hasElementWithId(s);(c||l)&&(t.batch((function(){n.remove(r,i),n.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var t=n[e],a=t._private.data;t.isEdge()&&(c&&(a.source=o),l&&(a.target=s))}n.restore(r,i)})),n.emitAndNotify("move"))}else if(void 0!==e.parent){var d=a(e.parent);if(null===d||t.hasElementWithId(d)){var u=null===d?void 0:d;t.batch((function(){var e=n.remove(r,i);e.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var a=n[t],o=a._private.data;a.isNode()&&(o.parent=u)}e.restore(r,i)})),n.emitAndNotify("move")}}return this},[ib,mb,gb,Jb,r_,d_,u_,z_,J_,ex,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},rx,ox,dx,yx,xx].forEach((function(e){lg(Ix,e)}));var Ox={add:function(e){var t,n=this;if(Km(e)){var r=e;if(r._private.cy===n)t=r.restore();else{for(var i=[],a=0;a<r.length;a++){var o=r[a];i.push(o.json())}t=new Tx(n,i)}}else if(Gm(e)){t=new Tx(n,e)}else if(qm(e)&&(Gm(e.nodes)||Gm(e.edges))){for(var s=e,c=[],l=["nodes","edges"],d=0,u=l.length;d<u;d++){var p=l[d],h=s[p];if(Gm(h))for(var f=0,m=h.length;f<m;f++){var g=lg({group:p},h[f]);c.push(g)}}t=new Tx(n,c)}else{t=new Zg(n,e).collection()}return t},remove:function(e){if(Km(e));else if($m(e)){var t=e;e=this.$(t)}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */ /*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */
var Rx=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var i={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function n(n,r){var i={dx:n.v,dv:e(n)},a=t(n,.5*r,i),o=t(n,.5*r,a),s=t(n,r,o),c=1/6*(i.dx+2*(a.dx+o.dx)+s.dx),l=1/6*(i.dv+2*(a.dv+o.dv)+s.dv);return n.x=n.x+c*r,n.v=n.v+l*r,n}return function e(t,r,i){var a,o,s,c={x:-1,v:0,tension:null,friction:null},l=[0],d=0,u=1e-4;for(t=parseFloat(t)||500,r=parseFloat(r)||20,i=i||null,c.tension=t,c.friction=r,o=(a=null!==i)?(d=e(t,r))/i*.016:.016;s=n(s||c,o),l.push(1+s.x),d+=16,Math.abs(s.x)>u&&Math.abs(s.v)>u;);return a?function(e){return l[e*(l.length-1)|0]}:d}}(),Dx=function(e,t,n,r){var i=function(e,t,n,r){var i=4,a=.001,o=1e-7,s=10,c=11,l=1/(c-1),d="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var u=0;u<4;++u)if("number"!=typeof arguments[u]||isNaN(arguments[u])||!isFinite(arguments[u]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var p=d?new Float32Array(c):new Array(c);function h(e,t){return 1-3*t+3*e}function f(e,t){return 3*t-6*e}function m(e){return 3*e}function g(e,t,n){return((h(t,n)*e+f(t,n))*e+m(t))*e}function v(e,t,n){return 3*h(t,n)*e*e+2*f(t,n)*e+m(t)}function y(t,r){for(var a=0;a<i;++a){var o=v(r,e,n);if(0===o)return r;r-=(g(r,e,n)-t)/o}return r}function b(){for(var t=0;t<c;++t)p[t]=g(t*l,e,n)}function _(t,r,i){var a,c,l=0;do{(a=g(c=r+(i-r)/2,e,n)-t)>0?i=c:r=c}while(Math.abs(a)>o&&++l<s);return c}function x(t){for(var r=0,i=1,o=c-1;i!==o&&p[i]<=t;++i)r+=l;--i;var s=r+(t-p[i])/(p[i+1]-p[i])*l,d=v(s,e,n);return d>=a?y(t,s):0===d?s:_(t,r,r+l)}var w=!1;function k(){w=!0,e===t&&n===r||b()}var E=function(i){return w||k(),e===t&&n===r?i:0===i?0:1===i?1:g(x(i),t,r)};E.getControlPoints=function(){return[{x:e,y:t},{x:n,y:r}]};var C="generateBezier("+[e,t,n,r]+")";return E.toString=function(){return C},E}(e,t,n,r);return function(e,t,n){return e+(t-e)*i(n)}},Px={linear:function(e,t,n){return e+(t-e)*n},ease:Dx(.25,.1,.25,1),"ease-in":Dx(.42,0,1,1),"ease-out":Dx(0,0,.58,1),"ease-in-out":Dx(.42,0,.58,1),"ease-in-sine":Dx(.47,0,.745,.715),"ease-out-sine":Dx(.39,.575,.565,1),"ease-in-out-sine":Dx(.445,.05,.55,.95),"ease-in-quad":Dx(.55,.085,.68,.53),"ease-out-quad":Dx(.25,.46,.45,.94),"ease-in-out-quad":Dx(.455,.03,.515,.955),"ease-in-cubic":Dx(.55,.055,.675,.19),"ease-out-cubic":Dx(.215,.61,.355,1),"ease-in-out-cubic":Dx(.645,.045,.355,1),"ease-in-quart":Dx(.895,.03,.685,.22),"ease-out-quart":Dx(.165,.84,.44,1),"ease-in-out-quart":Dx(.77,0,.175,1),"ease-in-quint":Dx(.755,.05,.855,.06),"ease-out-quint":Dx(.23,1,.32,1),"ease-in-out-quint":Dx(.86,0,.07,1),"ease-in-expo":Dx(.95,.05,.795,.035),"ease-out-expo":Dx(.19,1,.22,1),"ease-in-out-expo":Dx(1,0,0,1),"ease-in-circ":Dx(.6,.04,.98,.335),"ease-out-circ":Dx(.075,.82,.165,1),"ease-in-out-circ":Dx(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return Px.linear;var r=Rx(e,t,n);return function(e,t,n){return e+(t-e)*r(n)}},"cubic-bezier":Dx};function Lx(e,t,n,r,i){if(1===r)return n;if(t===n)return n;var a=i(t,n,r);return null==e||((e.roundValue||e.color)&&(a=Math.round(a)),void 0!==e.min&&(a=Math.max(a,e.min)),void 0!==e.max&&(a=Math.min(a,e.max))),a}function Nx(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}function Mx(e,t,n,r,i){var a=null!=i?i.type:null;n<0?n=0:n>1&&(n=1);var o=Nx(e,i),s=Nx(t,i);if(Xm(o)&&Xm(s))return Lx(a,o,s,n,r);if(Gm(o)&&Gm(s)){for(var c=[],l=0;l<s.length;l++){var d=o[l],u=s[l];if(null!=d&&null!=u){var p=Lx(a,d,u,n,r);c.push(p)}else c.push(u)}return c}}function Fx(e,t,n,r){var i=!r,a=e._private,o=t._private,s=o.easing,c=o.startTime,l=(r?e:e.cy()).style();if(!o.easingImpl)if(null==s)o.easingImpl=Px.linear;else{var d,u,p;if($m(s))d=l.parse("transition-timing-function",s).value;else d=s;$m(d)?(u=d,p=[]):(u=d[1],p=d.slice(2).map((function(e){return+e}))),p.length>0?("spring"===u&&p.push(o.duration),o.easingImpl=Px[u].apply(null,p)):o.easingImpl=Px[u]}var h,f=o.easingImpl;if(h=0===o.duration?1:(n-c)/o.duration,o.applying&&(h=o.progress),h<0?h=0:h>1&&(h=1),null==o.delay){var m=o.startPosition,g=o.position;if(g&&i&&!e.locked()){var v={};zx(m.x,g.x)&&(v.x=Mx(m.x,g.x,h,f)),zx(m.y,g.y)&&(v.y=Mx(m.y,g.y,h,f)),e.position(v)}var y=o.startPan,b=o.pan,_=a.pan,x=null!=b&&r;x&&(zx(y.x,b.x)&&(_.x=Mx(y.x,b.x,h,f)),zx(y.y,b.y)&&(_.y=Mx(y.y,b.y,h,f)),e.emit("pan"));var w=o.startZoom,k=o.zoom,E=null!=k&&r;E&&(zx(w,k)&&(a.zoom=Ev(a.minZoom,Mx(w,k,h,f),a.maxZoom)),e.emit("zoom")),(x||E)&&e.emit("viewport");var C=o.style;if(C&&C.length>0&&i){for(var S=0;S<C.length;S++){var A=C[S],T=A.name,I=A,O=o.startStyle[T],R=Mx(O,I,h,f,l.properties[O.name]);l.overrideBypass(e,T,R)}e.emit("style")}}return o.progress=h,h}function zx(e,t){return null!=e&&null!=t&&(!(!Xm(e)||!Xm(t))||!(!e||!t))}function Bx(e,t,n,r){var i=t._private;i.started=!0,i.startTime=n-i.progress*i.duration}function jx(e,t){var n=t._private.aniEles,r=[];function i(t,n){var i=t._private,a=i.animation.current,o=i.animation.queue,s=!1;if(0===a.length){var c=o.shift();c&&a.push(c)}for(var l=function(e){for(var t=e.length-1;t>=0;t--){(0,e[t])()}e.splice(0,e.length)},d=a.length-1;d>=0;d--){var u=a[d],p=u._private;p.stopped?(a.splice(d,1),p.hooked=!1,p.playing=!1,p.started=!1,l(p.frames)):(p.playing||p.applying)&&(p.playing&&p.applying&&(p.applying=!1),p.started||Bx(0,u,e),Fx(t,u,e,n),p.applying&&(p.applying=!1),l(p.frames),null!=p.step&&p.step(e),u.completed()&&(a.splice(d,1),p.hooked=!1,p.playing=!1,p.started=!1,l(p.completes)),s=!0)}return n||0!==a.length||0!==o.length||r.push(t),s}for(var a=!1,o=0;o<n.length;o++){var s=i(n[o]);a=a||s}var c=i(t,!0);(a||c)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(r),t.emit("step")}var Hx={animate:fb.animate(),animation:fb.animation(),animated:fb.animated(),clearQueue:fb.clearQueue(),delay:fb.delay(),delayAnimation:fb.delayAnimation(),stop:fb.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){var t=e.renderer();t&&t.beforeRender?t.beforeRender((function(t,n){jx(n,e)}),t.beforeRenderPriorities.animations):function t(){e._private.animationsRunning&&vg((function(n){jx(n,e),t()}))}()}}},Vx={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&Wm(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e}},$x=function(e){return $m(e)?new Zb(e):e},Ux={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new q_(Vx,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,$x(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,$x(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,n){return this.emitter().one(e,$x(t),n),this},once:function(e,t,n){return this.emitter().one(e,$x(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};fb.eventAliasesOn(Ux);var Gx={png:function(e){return e=e||{},this._private.renderer.png(e)},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};Gx.jpeg=Gx.jpg;var qx={layout:function(e){var t=this;if(null!=e)if(null!=e.name){var n=e.name,r=t.extension("layout",n);if(null!=r){var i;i=$m(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$();var a=new r(lg({},e,{cy:t,eles:i}));return a}Mg("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Mg("A `name` must be specified to make a layout");else Mg("Layout options must be specified to make a layout")}};qx.createLayout=qx.makeLayout=qx.layout;var Xx={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var r=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();null!=t&&r.merge(t)}else if(n.notificationsEnabled){var i=this.renderer();!this.destroyed()&&i&&i.notify(e,t)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(0===e.batchCount)return this;if(e.batchCount--,0===e.batchCount){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach((function(n){var r=e.batchNotifications[n];r.empty()?t.notify(n):t.notify(n,r)}))}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch((function(){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],a=e[i];t.getElementById(i).data(a)}}))}},Yx=$g({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Kx={renderTo:function(e,t,n,r){return this._private.renderer.renderTo(e,t,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(null!=n){void 0!==e.wheelSensitivity&&zg("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var r=Yx(e);r.cy=t,t._private.renderer=new n(r),this.notify("init")}else Mg("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach((function(e){var t=e._private;t.rscratch={},t.rstyle={},t.animation.current=[],t.animation.queue=[]}))},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Kx.invalidateDimensions=Kx.resize;var Wx={collection:function(e,t){return $m(e)?this.$(e):Km(e)?e.collection():Gm(e)?new Tx(this,e,t):new Tx(this)},nodes:function(e){var t=this.$((function(e){return e.isNode()}));return e?t.filter(e):t},edges:function(e){var t=this.$((function(e){return e.isEdge()}));return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};Wx.elements=Wx.filter=Wx.$;var Zx={};Zx.apply=function(e){for(var t=this,n=t._private.cy.collection(),r=0;r<e.length;r++){var i=e[r],a=t.getContextMeta(i);if(!a.empty){var o=t.getContextStyle(a),s=t.applyContextStyle(a,o,i);i._private.appliedInitStyle?t.updateTransitions(i,s.diffProps):i._private.appliedInitStyle=!0,t.updateStyleHints(i)&&n.push(i)}}return n},Zx.getPropertiesDiff=function(e,t){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},i=e+"-"+t,a=r[i];if(a)return a;for(var o=[],s={},c=0;c<n.length;c++){var l=n[c],d="t"===e[c],u="t"===t[c],p=d!==u,h=l.mappedProperties.length>0;if(p||u&&h){var f=void 0;p&&h||p?f=l.properties:h&&(f=l.mappedProperties);for(var m=0;m<f.length;m++){for(var g=f[m],v=g.name,y=!1,b=c+1;b<n.length;b++){var _=n[b];if("t"===t[b]&&(y=null!=_.properties[g.name]))break}s[v]||y||(s[v]=!0,o.push(v))}}}return r[i]=o,o},Zx.getContextMeta=function(e){for(var t,n=this,r="",i=e._private.styleCxtKey||"",a=0;a<n.length;a++){var o=n[a];r+=o.selector&&o.selector.matches(e)?"t":"f"}return t=n.getPropertiesDiff(i,r),e._private.styleCxtKey=r,{key:r,diffPropNames:t,empty:0===t.length}},Zx.getContextStyle=function(e){var t=e.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var r={_private:{key:t}},i=0;i<this.length;i++){var a=this[i];if("t"===t[i])for(var o=0;o<a.properties.length;o++){var s=a.properties[o];r[s.name]=s}}return n[t]=r,r},Zx.applyContextStyle=function(e,t,n){for(var r=e.diffPropNames,i={},a=this.types,o=0;o<r.length;o++){var s=r[o],c=t[s],l=n.pstyle(s);if(!c){if(!l)continue;c=l.bypass?{name:s,deleteBypassed:!0}:{name:s,delete:!0}}if(l!==c){if(c.mapped===a.fn&&null!=l&&null!=l.mapping&&l.mapping.value===c.value){var d=l.mapping;if((d.fnValue=c.value(n))===d.prevFnValue)continue}var u=i[s]={prev:l};this.applyParsedProperty(n,c),u.next=n.pstyle(s),u.next&&u.next.bypass&&(u.next=u.next.bypassed)}}return{diffProps:i}},Zx.updateStyleHints=function(e){var t=e._private,n=this,r=n.propertyGroupNames,i=n.propertyGroupKeys,a=function(e,t,r){return n.getPropertiesHash(e,t,r)},o=t.styleKey;if(e.removed())return!1;var s="nodes"===t.group,c=e._private.style;r=Object.keys(c);for(var l=0;l<i.length;l++){var d=i[l];t.styleKeys[d]=[9261,5381]}for(var u,p=function(e,n){return t.styleKeys[n][0]=xg(e,t.styleKeys[n][0])},h=function(e,n){return t.styleKeys[n][1]=wg(e,t.styleKeys[n][1])},f=function(e,t){p(e,t),h(e,t)},m=function(e,t){for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);p(r,t),h(r,t)}},g=0;g<r.length;g++){var v=r[g],y=c[v];if(null!=y){var b=this.properties[v],_=b.type,x=b.groupKey,w=void 0;null!=b.hashOverride?w=b.hashOverride(e,y):null!=y.pfValue&&(w=y.pfValue);var k=null==b.enums?y.value:null,E=null!=w,C=E||null!=k,S=y.units;if(_.number&&C&&!_.multiple)f(-128<(u=E?w:k)&&u<128&&Math.floor(u)!==u?2e9-(1024*u|0):u,x),E||null==S||m(S,x);else m(y.strValue,x)}}for(var A,T,I=[9261,5381],O=0;O<i.length;O++){var R=i[O],D=t.styleKeys[R];I[0]=xg(D[0],I[0]),I[1]=wg(D[1],I[1])}t.styleKey=(A=I[0],T=I[1],2097152*A+T);var P=t.styleKeys;t.labelDimsKey=kg(P.labelDimensions);var L=a(e,["label"],P.labelDimensions);if(t.labelKey=kg(L),t.labelStyleKey=kg(Eg(P.commonLabel,L)),!s){var N=a(e,["source-label"],P.labelDimensions);t.sourceLabelKey=kg(N),t.sourceLabelStyleKey=kg(Eg(P.commonLabel,N));var M=a(e,["target-label"],P.labelDimensions);t.targetLabelKey=kg(M),t.targetLabelStyleKey=kg(Eg(P.commonLabel,M))}if(s){var F=t.styleKeys,z=F.nodeBody,B=F.nodeBorder,j=F.backgroundImage,H=F.compound,V=F.pie,$=[z,B,j,H,V].filter((function(e){return null!=e})).reduce(Eg,[9261,5381]);t.nodeKey=kg($),t.hasPie=null!=V&&9261!==V[0]&&5381!==V[1]}return o!==t.styleKey},Zx.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null},Zx.applyParsedProperty=function(e,t){var n,r=this,i=t,a=e._private.style,o=r.types,s=r.properties[i.name].type,c=i.bypass,l=a[i.name],d=l&&l.bypass,u=e._private,p="mapping",h=function(e){return null==e?null:null!=e.pfValue?e.pfValue:e.value},f=function(){var t=h(l),n=h(i);r.checkTriggers(e,i.name,t,n)};if(i&&"pie"===i.name.substr(0,3)&&zg("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===t.name&&e.isEdge()&&("bezier"!==t.value&&e.isLoop()||"haystack"===t.value&&(e.source().isParent()||e.target().isParent()))&&(i=t=this.parse(t.name,"bezier",c)),i.delete)return a[i.name]=void 0,f(),!0;if(i.deleteBypassed)return l?!!l.bypass&&(l.bypassed=void 0,f(),!0):(f(),!0);if(i.deleteBypass)return l?!!l.bypass&&(a[i.name]=l.bypassed,f(),!0):(f(),!0);var m=function(){zg("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+i.name+"` with data field `"+i.field+"`); try a `["+i.field+"]` selector to limit scope to elements with `"+i.field+"` defined")};switch(i.mapped){case o.mapData:for(var g,v=i.field.split("."),y=u.data,b=0;b<v.length&&y;b++){y=y[v[b]]}if(null==y)return m(),!1;if(!Xm(y))return zg("Do not use continuous mappers without specifying numeric data (i.e. `"+i.field+": "+y+"` for `"+e.id()+"` is non-numeric)"),!1;var _=i.fieldMax-i.fieldMin;if((g=0===_?0:(y-i.fieldMin)/_)<0?g=0:g>1&&(g=1),s.color){var x=i.valueMin[0],w=i.valueMax[0],k=i.valueMin[1],E=i.valueMax[1],C=i.valueMin[2],S=i.valueMax[2],A=null==i.valueMin[3]?1:i.valueMin[3],T=null==i.valueMax[3]?1:i.valueMax[3],I=[Math.round(x+(w-x)*g),Math.round(k+(E-k)*g),Math.round(C+(S-C)*g),Math.round(A+(T-A)*g)];n={bypass:i.bypass,name:i.name,value:I,strValue:"rgb("+I[0]+", "+I[1]+", "+I[2]+")"}}else{if(!s.number)return!1;var O=i.valueMin+(i.valueMax-i.valueMin)*g;n=this.parse(i.name,O,i.bypass,p)}if(!n)return m(),!1;n.mapping=i,i=n;break;case o.data:for(var R=i.field.split("."),D=u.data,P=0;P<R.length&&D;P++){D=D[R[P]]}if(null!=D&&(n=this.parse(i.name,D,i.bypass,p)),!n)return m(),!1;n.mapping=i,i=n;break;case o.fn:var L=i.value,N=null!=i.fnValue?i.fnValue:L(e);if(i.prevFnValue=N,null==N)return zg("Custom function mappers may not return null (i.e. `"+i.name+"` for ele `"+e.id()+"` is null)"),!1;if(!(n=this.parse(i.name,N,i.bypass,p)))return zg("Custom function mappers may not return invalid values for the property type (i.e. `"+i.name+"` for ele `"+e.id()+"` is invalid)"),!1;n.mapping=Bg(i),i=n;break;case void 0:break;default:return!1}return c?(i.bypassed=d?l.bypassed:l,a[i.name]=i):d?l.bypassed=i:a[i.name]=i,f(),!0},Zx.cleanElements=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),t)for(var i=r._private.style,a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],c=i[s];null!=c&&(c.bypass?c.bypassed=null:i[s]=null)}else r._private.style={}}},Zx.update=function(){this._private.cy.mutableElements().updateStyle()},Zx.updateTransitions=function(e,t){var n=this,r=e._private,i=e.pstyle("transition-property").value,a=e.pstyle("transition-duration").pfValue,o=e.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var s={},c=!1,l=0;l<i.length;l++){var d=i[l],u=e.pstyle(d),p=t[d];if(p){var h=p.prev,f=null!=p.next?p.next:u,m=!1,g=void 0,v=1e-6;h&&(Xm(h.pfValue)&&Xm(f.pfValue)?(m=f.pfValue-h.pfValue,g=h.pfValue+v*m):Xm(h.value)&&Xm(f.value)?(m=f.value-h.value,g=h.value+v*m):Gm(h.value)&&Gm(f.value)&&(m=h.value[0]!==f.value[0]||h.value[1]!==f.value[1]||h.value[2]!==f.value[2],g=h.strValue),m&&(s[d]=f.strValue,this.applyBypass(e,d,g),c=!0))}}if(!c)return;r.transitioning=!0,new ub((function(t){o>0?e.delayAnimation(o).play().promise().then(t):t()})).then((function(){return e.animation({style:s,duration:a,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()})).then((function(){n.removeBypasses(e,i),e.emitAndNotify("style"),r.transitioning=!1}))}else r.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),r.transitioning=!1)},Zx.checkTrigger=function(e,t,n,r,i,a){var o=this.properties[t],s=i(o);null!=s&&s(n,r)&&a(o)},Zx.checkZOrderTrigger=function(e,t,n,r){var i=this;this.checkTrigger(e,t,n,r,(function(e){return e.triggersZOrder}),(function(){i._private.cy.notify("zorder",e)}))},Zx.checkBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,(function(e){return e.triggersBounds}),(function(i){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),"curve-style"!==t||"bezier"!==n&&"bezier"!==r||!i.triggersBoundsOfParallelBeziers||e.parallelEdges().forEach((function(e){e.isBundledBezier()&&e.dirtyBoundingBoxCache()}))}))},Zx.checkTriggers=function(e,t,n,r){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,r),this.checkBoundsTrigger(e,t,n,r)};var Qx={applyBypass:function(e,t,n,r){var i=[];if("*"===t||"**"===t){if(void 0!==n)for(var a=0;a<this.properties.length;a++){var o=this.properties[a].name,s=this.parse(o,n,!0);s&&i.push(s)}}else if($m(t)){var c=this.parse(t,n,!0);c&&i.push(c)}else{if(!qm(t))return!1;var l=t;r=n;for(var d=Object.keys(l),u=0;u<d.length;u++){var p=d[u],h=l[p];if(void 0===h&&(h=l[ig(p)]),void 0!==h){var f=this.parse(p,h,!0);f&&i.push(f)}}}if(0===i.length)return!1;for(var m=!1,g=0;g<e.length;g++){for(var v=e[g],y={},b=void 0,_=0;_<i.length;_++){var x=i[_];if(r){var w=v.pstyle(x.name);b=y[x.name]={prev:w}}m=this.applyParsedProperty(v,Bg(x))||m,r&&(b.next=v.pstyle(x.name))}m&&this.updateStyleHints(v),r&&this.updateTransitions(v,y,true)}return m},overrideBypass:function(e,t,n){t=rg(t);for(var r=0;r<e.length;r++){var i=e[r],a=i._private.style[t],o=this.properties[t].type,s=o.color,c=o.mutiple,l=a?null!=a.pfValue?a.pfValue:a.value:null;a&&a.bypass?(a.value=n,null!=a.pfValue&&(a.pfValue=n),a.strValue=s?"rgb("+n.join(",")+")":c?n.join(" "):""+n,this.updateStyleHints(i)):this.applyBypass(i,t,n),this.checkTriggers(i,t,l,n)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,n){for(var r=0;r<e.length;r++){for(var i=e[r],a={},o=0;o<t.length;o++){var s=t[o],c=this.properties[s],l=i.pstyle(c.name);if(l&&l.bypass){var d=this.parse(s,"",!0),u=a[c.name]={prev:l};this.applyParsedProperty(i,d),u.next=i.pstyle(c.name)}}this.updateStyleHints(i),n&&this.updateTransitions(i,a,true)}}},Jx={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy.container();if(Mm&&t&&Mm.getComputedStyle)return Mm.getComputedStyle(t).getPropertyValue(e)}},ew={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){var n=this;if(e=e[0]){for(var r={},i=0;i<n.properties.length;i++){var a=n.properties[i],o=n.getStylePropertyValue(e,a.name,t);null!=o&&(r[a.name]=o,r[ig(a.name)]=o)}return r}},getIndexedStyle:function(e,t,n,r){var i=e.pstyle(t)[n][r];return null!=i?i:e.cy().style().getDefaultProperty(t)[n][0]},getStylePropertyValue:function(e,t,n){if(e=e[0]){var r=this.properties[t];r.alias&&(r=r.pointsTo);var i=r.type,a=e.pstyle(r.name);if(a){var o=a.value,s=a.units,c=a.strValue;if(n&&i.number&&null!=o&&Xm(o)){var l=e.cy().zoom(),d=function(e){return e*l},u=function(e,t){return d(e)+t},p=Gm(o);return(p?s.every((function(e){return null!=e})):null!=s)?p?o.map((function(e,t){return u(e,s[t])})).join(" "):u(o,s):p?o.map((function(e){return $m(e)?e:""+d(e)})).join(" "):""+d(o)}if(null!=c)return c}return null}},getAnimationStartStyle:function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r].name,a=e.pstyle(i);void 0!==a&&(a=qm(a)?this.parse(i,a.strValue):this.parse(i,a)),a&&(n[i]=a)}return n},getPropsList:function(e){var t=[],n=e,r=this.properties;if(n)for(var i=Object.keys(n),a=0;a<i.length;a++){var o=i[a],s=n[o],c=r[o]||r[rg(o)],l=this.parse(c.name,s);l&&t.push(l)}return t},getNonDefaultPropertiesHash:function(e,t,n){var r,i,a,o,s,c,l=n.slice();for(s=0;s<t.length;s++)if(r=t[s],null!=(i=e.pstyle(r,!1)))if(null!=i.pfValue)l[0]=xg(o,l[0]),l[1]=wg(o,l[1]);else for(a=i.strValue,c=0;c<a.length;c++)o=a.charCodeAt(c),l[0]=xg(o,l[0]),l[1]=wg(o,l[1]);return l}};ew.getPropertiesHash=ew.getNonDefaultPropertiesHash;var tw={appendFromJson:function(e){for(var t=this,n=0;n<e.length;n++){var r=e[n],i=r.selector,a=r.style||r.css,o=Object.keys(a);t.selector(i);for(var s=0;s<o.length;s++){var c=o[s],l=a[c];t.css(c,l)}}return t},fromJson:function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,i=n.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}e.push({selector:r?r.toString():"core",style:a})}return e}},nw={appendFromString:function(e){var t,n,r,i=this,a=""+e;function o(){a=a.length>t.length?a.substr(t.length):""}function s(){n=n.length>r.length?n.substr(r.length):""}for(a=a.replace(/[/][*](\s|.)+?[*][/]/g,"");;){if(a.match(/^\s*$/))break;var c=a.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){zg("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+a);break}t=c[0];var l=c[1];if("core"!==l)if(new Zb(l).invalid){zg("Skipping parsing of block: Invalid selector found in string stylesheet: "+l),o();continue}var d=c[2],u=!1;n=d;for(var p=[];;){if(n.match(/^\s*$/))break;var h=n.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!h){zg("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+d),u=!0;break}r=h[0];var f=h[1],m=h[2];if(this.properties[f])i.parse(f,m)?(p.push({name:f,val:m}),s()):(zg("Skipping property: Invalid property definition in: "+r),s());else zg("Skipping property: Invalid property name in: "+r),s()}if(u){o();break}i.selector(l);for(var g=0;g<p.length;g++){var v=p[g];i.css(v.name,v.val)}o()}return i},fromString:function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t}},rw={};!function(){var e=sg,t=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},n=function(t){var n=e+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+t+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+n+")\\s*\\,\\s*("+n+")\\)$"},r=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];rw.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:t("data")},layoutData:{mapping:!0,regex:t("layoutData")},scratch:{mapping:!0,regex:t("scratch")},mapData:{mapping:!0,regex:n("mapData")},mapLayoutData:{mapping:!0,regex:n("mapLayoutData")},mapScratch:{mapping:!0,regex:n("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:r,singleRegexMatchValue:!0},urls:{regexes:r,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return $m(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(e){var t=e.length;return 1===t||2===t||4===t}}};var i={zeroNonZero:function(e,t){return(null==e||null==t)&&e!==t||(0==e&&0!=t||0!=e&&0==t)},any:function(e,t){return e!=t},emptyNonEmpty:function(e,t){var n=eg(e),r=eg(t);return n&&!r||!n&&r}},a=rw.types,o=[{name:"label",type:a.text,triggersBounds:i.any,triggersZOrder:i.emptyNonEmpty},{name:"text-rotation",type:a.textRotation,triggersBounds:i.any},{name:"text-margin-x",type:a.bidirectionalSize,triggersBounds:i.any},{name:"text-margin-y",type:a.bidirectionalSize,triggersBounds:i.any}],s=[{name:"source-label",type:a.text,triggersBounds:i.any},{name:"source-text-rotation",type:a.textRotation,triggersBounds:i.any},{name:"source-text-margin-x",type:a.bidirectionalSize,triggersBounds:i.any},{name:"source-text-margin-y",type:a.bidirectionalSize,triggersBounds:i.any},{name:"source-text-offset",type:a.size,triggersBounds:i.any}],c=[{name:"target-label",type:a.text,triggersBounds:i.any},{name:"target-text-rotation",type:a.textRotation,triggersBounds:i.any},{name:"target-text-margin-x",type:a.bidirectionalSize,triggersBounds:i.any},{name:"target-text-margin-y",type:a.bidirectionalSize,triggersBounds:i.any},{name:"target-text-offset",type:a.size,triggersBounds:i.any}],l=[{name:"font-family",type:a.fontFamily,triggersBounds:i.any},{name:"font-style",type:a.fontStyle,triggersBounds:i.any},{name:"font-weight",type:a.fontWeight,triggersBounds:i.any},{name:"font-size",type:a.size,triggersBounds:i.any},{name:"text-transform",type:a.textTransform,triggersBounds:i.any},{name:"text-wrap",type:a.textWrap,triggersBounds:i.any},{name:"text-overflow-wrap",type:a.textOverflowWrap,triggersBounds:i.any},{name:"text-max-width",type:a.size,triggersBounds:i.any},{name:"text-outline-width",type:a.size,triggersBounds:i.any},{name:"line-height",type:a.positiveNumber,triggersBounds:i.any}],d=[{name:"text-valign",type:a.valign,triggersBounds:i.any},{name:"text-halign",type:a.halign,triggersBounds:i.any},{name:"color",type:a.color},{name:"text-outline-color",type:a.color},{name:"text-outline-opacity",type:a.zeroOneNumber},{name:"text-background-color",type:a.color},{name:"text-background-opacity",type:a.zeroOneNumber},{name:"text-background-padding",type:a.size,triggersBounds:i.any},{name:"text-border-opacity",type:a.zeroOneNumber},{name:"text-border-color",type:a.color},{name:"text-border-width",type:a.size,triggersBounds:i.any},{name:"text-border-style",type:a.borderStyle,triggersBounds:i.any},{name:"text-background-shape",type:a.textBackgroundShape,triggersBounds:i.any},{name:"text-justification",type:a.justification}],u=[{name:"events",type:a.bool},{name:"text-events",type:a.bool}],p=[{name:"display",type:a.display,triggersZOrder:i.any,triggersBounds:i.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:a.visibility,triggersZOrder:i.any},{name:"opacity",type:a.zeroOneNumber,triggersZOrder:i.zeroNonZero},{name:"text-opacity",type:a.zeroOneNumber},{name:"min-zoomed-font-size",type:a.size},{name:"z-compound-depth",type:a.zCompoundDepth,triggersZOrder:i.any},{name:"z-index-compare",type:a.zIndexCompare,triggersZOrder:i.any},{name:"z-index",type:a.nonNegativeInt,triggersZOrder:i.any}],h=[{name:"overlay-padding",type:a.size,triggersBounds:i.any},{name:"overlay-color",type:a.color},{name:"overlay-opacity",type:a.zeroOneNumber,triggersBounds:i.zeroNonZero}],f=[{name:"transition-property",type:a.propList},{name:"transition-duration",type:a.time},{name:"transition-delay",type:a.time},{name:"transition-timing-function",type:a.easing}],m=function(e,t){return"label"===t.value?-e.poolIndex():t.pfValue},g=[{name:"height",type:a.nodeSize,triggersBounds:i.any,hashOverride:m},{name:"width",type:a.nodeSize,triggersBounds:i.any,hashOverride:m},{name:"shape",type:a.nodeShape,triggersBounds:i.any},{name:"shape-polygon-points",type:a.polygonPointList,triggersBounds:i.any},{name:"background-color",type:a.color},{name:"background-fill",type:a.fill},{name:"background-opacity",type:a.zeroOneNumber},{name:"background-blacken",type:a.nOneOneNumber},{name:"background-gradient-stop-colors",type:a.colors},{name:"background-gradient-stop-positions",type:a.percentages},{name:"background-gradient-direction",type:a.gradientDirection},{name:"padding",type:a.sizeMaybePercent,triggersBounds:i.any},{name:"padding-relative-to",type:a.paddingRelativeTo,triggersBounds:i.any},{name:"bounds-expansion",type:a.boundsExpansion,triggersBounds:i.any}],v=[{name:"border-color",type:a.color},{name:"border-opacity",type:a.zeroOneNumber},{name:"border-width",type:a.size,triggersBounds:i.any},{name:"border-style",type:a.borderStyle}],y=[{name:"background-image",type:a.urls},{name:"background-image-crossorigin",type:a.bgCrossOrigin},{name:"background-image-opacity",type:a.zeroOneNumbers},{name:"background-image-containment",type:a.bgContainment},{name:"background-image-smoothing",type:a.bools},{name:"background-position-x",type:a.bgPos},{name:"background-position-y",type:a.bgPos},{name:"background-width-relative-to",type:a.bgRelativeTo},{name:"background-height-relative-to",type:a.bgRelativeTo},{name:"background-repeat",type:a.bgRepeat},{name:"background-fit",type:a.bgFit},{name:"background-clip",type:a.bgClip},{name:"background-width",type:a.bgWH},{name:"background-height",type:a.bgWH},{name:"background-offset-x",type:a.bgPos},{name:"background-offset-y",type:a.bgPos}],b=[{name:"position",type:a.position,triggersBounds:i.any},{name:"compound-sizing-wrt-labels",type:a.compoundIncludeLabels,triggersBounds:i.any},{name:"min-width",type:a.size,triggersBounds:i.any},{name:"min-width-bias-left",type:a.sizeMaybePercent,triggersBounds:i.any},{name:"min-width-bias-right",type:a.sizeMaybePercent,triggersBounds:i.any},{name:"min-height",type:a.size,triggersBounds:i.any},{name:"min-height-bias-top",type:a.sizeMaybePercent,triggersBounds:i.any},{name:"min-height-bias-bottom",type:a.sizeMaybePercent,triggersBounds:i.any}],_=[{name:"line-style",type:a.lineStyle},{name:"line-color",type:a.color},{name:"line-fill",type:a.fill},{name:"line-cap",type:a.lineCap},{name:"line-opacity",type:a.zeroOneNumber},{name:"line-dash-pattern",type:a.numbers},{name:"line-dash-offset",type:a.number},{name:"line-gradient-stop-colors",type:a.colors},{name:"line-gradient-stop-positions",type:a.percentages},{name:"curve-style",type:a.curveStyle,triggersBounds:i.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:a.zeroOneNumber,triggersBounds:i.any},{name:"source-endpoint",type:a.edgeEndpoint,triggersBounds:i.any},{name:"target-endpoint",type:a.edgeEndpoint,triggersBounds:i.any},{name:"control-point-step-size",type:a.size,triggersBounds:i.any},{name:"control-point-distances",type:a.bidirectionalSizes,triggersBounds:i.any},{name:"control-point-weights",type:a.numbers,triggersBounds:i.any},{name:"segment-distances",type:a.bidirectionalSizes,triggersBounds:i.any},{name:"segment-weights",type:a.numbers,triggersBounds:i.any},{name:"taxi-turn",type:a.bidirectionalSizeMaybePercent,triggersBounds:i.any},{name:"taxi-turn-min-distance",type:a.size,triggersBounds:i.any},{name:"taxi-direction",type:a.axisDirection,triggersBounds:i.any},{name:"edge-distances",type:a.edgeDistances,triggersBounds:i.any},{name:"arrow-scale",type:a.positiveNumber,triggersBounds:i.any},{name:"loop-direction",type:a.angle,triggersBounds:i.any},{name:"loop-sweep",type:a.angle,triggersBounds:i.any},{name:"source-distance-from-node",type:a.size,triggersBounds:i.any},{name:"target-distance-from-node",type:a.size,triggersBounds:i.any}],x=[{name:"ghost",type:a.bool,triggersBounds:i.any},{name:"ghost-offset-x",type:a.bidirectionalSize,triggersBounds:i.any},{name:"ghost-offset-y",type:a.bidirectionalSize,triggersBounds:i.any},{name:"ghost-opacity",type:a.zeroOneNumber}],w=[{name:"selection-box-color",type:a.color},{name:"selection-box-opacity",type:a.zeroOneNumber},{name:"selection-box-border-color",type:a.color},{name:"selection-box-border-width",type:a.size},{name:"active-bg-color",type:a.color},{name:"active-bg-opacity",type:a.zeroOneNumber},{name:"active-bg-size",type:a.size},{name:"outside-texture-bg-color",type:a.color},{name:"outside-texture-bg-opacity",type:a.zeroOneNumber}],k=[];rw.pieBackgroundN=16,k.push({name:"pie-size",type:a.sizeMaybePercent});for(var E=1;E<=rw.pieBackgroundN;E++)k.push({name:"pie-"+E+"-background-color",type:a.color}),k.push({name:"pie-"+E+"-background-size",type:a.percent}),k.push({name:"pie-"+E+"-background-opacity",type:a.zeroOneNumber});var C=[],S=rw.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:a.arrowShape,triggersBounds:i.any},{name:"arrow-color",type:a.color},{name:"arrow-fill",type:a.arrowFill}].forEach((function(e){S.forEach((function(t){var n=t+"-"+e.name,r=e.type,i=e.triggersBounds;C.push({name:n,type:r,triggersBounds:i})}))}),{});var A=rw.properties=[].concat(u,f,p,h,x,d,l,o,s,c,g,v,y,k,b,_,C,w),T=rw.propertyGroups={behavior:u,transition:f,visibility:p,overlay:h,ghost:x,commonLabel:d,labelDimensions:l,mainLabel:o,sourceLabel:s,targetLabel:c,nodeBody:g,nodeBorder:v,backgroundImage:y,pie:k,compound:b,edgeLine:_,edgeArrow:C,core:w},I=rw.propertyGroupNames={};(rw.propertyGroupKeys=Object.keys(T)).forEach((function(e){I[e]=T[e].map((function(e){return e.name})),T[e].forEach((function(t){return t.groupKey=e}))}));var O=rw.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];rw.propertyNames=A.map((function(e){return e.name}));for(var R=0;R<A.length;R++){var D=A[R];A[D.name]=D}for(var P=0;P<O.length;P++){var L=O[P],N=A[L.pointsTo],M={name:L.name,alias:!0,pointsTo:N};A.push(M),A[L.name]=M}}(),rw.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},rw.getDefaultProperties=function(){var e=this._private;if(null!=e.defaultProperties)return e.defaultProperties;for(var t=lg({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce((function(e,t){for(var n=1;n<=rw.pieBackgroundN;n++){var r=t.name.replace("{{i}}",n),i=t.value;e[r]=i}return e}),{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce((function(e,t){return rw.arrowPrefixes.forEach((function(n){var r=n+"-"+t.name,i=t.value;e[r]=i})),e}),{})),n={},r=0;r<this.properties.length;r++){var i=this.properties[r];if(!i.pointsTo){var a=i.name,o=t[a],s=this.parse(a,o);n[a]=s}}return e.defaultProperties=n,e.defaultProperties},rw.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var iw={parse:function(e,t,n,r){var i=this;if(Um(t))return i.parseImplWarn(e,t,n,r);var a,o=Sg(e,""+t,n?"t":"f","mapping"===r||!0===r||!1===r||null==r?"dontcare":r),s=i.propCache=i.propCache||[];return(a=s[o])||(a=s[o]=i.parseImplWarn(e,t,n,r)),(n||"mapping"===r)&&(a=Bg(a))&&(a.value=Bg(a.value)),a},parseImplWarn:function(e,t,n,r){var i=this.parseImpl(e,t,n,r);return i||null==t||zg("The style property `".concat(e,": ").concat(t,"` is invalid")),!i||"width"!==i.name&&"height"!==i.name||"label"!==t||zg("The style value of `label` is deprecated for `"+i.name+"`"),i}};iw.parseImpl=function(e,t,n,r){var i=this;e=rg(e);var a=i.properties[e],o=t,s=i.types;if(!a)return null;if(void 0===t)return null;a.alias&&(a=a.pointsTo,e=a.name);var c=$m(t);c&&(t=t.trim());var l,d,u=a.type;if(!u)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(Um(t))return{name:e,value:t,strValue:"fn",mapped:s.fn,bypass:n};if(!c||r||t.length<7||"a"!==t[1]);else{if(t.length>=7&&"d"===t[0]&&(l=new RegExp(s.data.regex).exec(t))){if(n)return!1;var p=s.data;return{name:e,value:l,strValue:""+t,mapped:p,field:l[1],bypass:n}}if(t.length>=10&&"m"===t[0]&&(d=new RegExp(s.mapData.regex).exec(t))){if(n)return!1;if(u.multiple)return!1;var h=s.mapData;if(!u.color&&!u.number)return!1;var f=this.parse(e,d[4]);if(!f||f.mapped)return!1;var m=this.parse(e,d[5]);if(!m||m.mapped)return!1;if(f.pfValue===m.pfValue||f.strValue===m.strValue)return zg("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+f.strValue+"`"),this.parse(e,f.strValue);if(u.color){var g=f.value,v=m.value;if(!(g[0]!==v[0]||g[1]!==v[1]||g[2]!==v[2]||g[3]!==v[3]&&(null!=g[3]&&1!==g[3]||null!=v[3]&&1!==v[3])))return!1}return{name:e,value:d,strValue:""+t,mapped:h,field:d[1],fieldMin:parseFloat(d[2]),fieldMax:parseFloat(d[3]),valueMin:f.value,valueMax:m.value,bypass:n}}}if(u.multiple&&"multiple"!==r){var y;if(y=c?t.split(/\s+/):Gm(t)?t:[t],u.evenMultiple&&y.length%2!=0)return null;for(var b=[],_=[],x=[],w="",k=!1,E=0;E<y.length;E++){var C=i.parse(e,y[E],n,"multiple");k=k||$m(C.value),b.push(C.value),x.push(null!=C.pfValue?C.pfValue:C.value),_.push(C.units),w+=(E>0?" ":"")+C.strValue}return u.validate&&!u.validate(b,_)?null:u.singleEnum&&k?1===b.length&&$m(b[0])?{name:e,value:b[0],strValue:b[0],bypass:n}:null:{name:e,value:b,pfValue:x,strValue:w,bypass:n,units:_}}var S,A,T=function(){for(var r=0;r<u.enums.length;r++){if(u.enums[r]===t)return{name:e,value:t,strValue:""+t,bypass:n}}return null};if(u.number){var I,O="px";if(u.units&&(I=u.units),u.implicitUnits&&(O=u.implicitUnits),!u.unitless)if(c){var R="px|em"+(u.allowPercent?"|\\%":"");I&&(R=I);var D=t.match("^("+sg+")("+R+")?$");D&&(t=D[1],I=D[2]||O)}else I&&!u.implicitUnits||(I=O);if(t=parseFloat(t),isNaN(t)&&void 0===u.enums)return null;if(isNaN(t)&&void 0!==u.enums)return t=o,T();if(u.integer&&(!Xm(A=t)||Math.floor(A)!==A))return null;if(void 0!==u.min&&(t<u.min||u.strictMin&&t===u.min)||void 0!==u.max&&(t>u.max||u.strictMax&&t===u.max))return null;var P={name:e,value:t,strValue:""+t+(I||""),units:I,bypass:n};return u.unitless||"px"!==I&&"em"!==I?P.pfValue=t:P.pfValue="px"!==I&&I?this.getEmSizeInPixels()*t:t,"ms"!==I&&"s"!==I||(P.pfValue="ms"===I?t:1e3*t),"deg"!==I&&"rad"!==I||(P.pfValue="rad"===I?t:(S=t,Math.PI*S/180)),"%"===I&&(P.pfValue=t/100),P}if(u.propList){var L=[],N=""+t;if("none"===N);else{for(var M=N.split(/\s*,\s*|\s+/),F=0;F<M.length;F++){var z=M[F].trim();i.properties[z]?L.push(z):zg("`"+z+"` is not a valid property name")}if(0===L.length)return null}return{name:e,value:L,strValue:0===L.length?"none":L.join(" "),bypass:n}}if(u.color){var B=dg(t);return B?{name:e,value:B,pfValue:B,strValue:"rgb("+B[0]+","+B[1]+","+B[2]+")",bypass:n}:null}if(u.regex||u.regexes){if(u.enums){var j=T();if(j)return j}for(var H=u.regexes?u.regexes:[u.regex],V=0;V<H.length;V++){var $=new RegExp(H[V]).exec(t);if($)return{name:e,value:u.singleRegexMatchValue?$[1]:$,strValue:""+t,bypass:n}}return null}return u.string?{name:e,value:""+t,strValue:""+t,bypass:n}:u.enums?T():null};var aw=function e(t){if(!(this instanceof e))return new e(t);Qm(t)?(this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()):Mg("A style must have a core reference")},ow=aw.prototype;ow.instanceString=function(){return"style"},ow.clear=function(){for(var e=this._private,t=e.cy.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0),t.forEach((function(e){var t=e[0]._private;t.styleDirty=!0,t.appliedInitStyle=!1})),this},ow.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},ow.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},ow.selector=function(e){var t="core"===e?null:new Zb(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},ow.css=function(){var e=this,t=arguments;if(1===t.length)for(var n=t[0],r=0;r<e.properties.length;r++){var i=e.properties[r],a=n[i.name];void 0===a&&(a=n[ig(i.name)]),void 0!==a&&this.cssRule(i.name,a)}else 2===t.length&&this.cssRule(t[0],t[1]);return this},ow.style=ow.css,ow.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},ow.append=function(e){return Jm(e)?e.appendToStyle(this):Gm(e)?this.appendFromJson(e):$m(e)&&this.appendFromString(e),this},aw.fromJson=function(e,t){var n=new aw(e);return n.fromJson(t),n},aw.fromString=function(e,t){return new aw(e).fromString(t)},[Zx,Qx,Jx,ew,tw,nw,rw,iw].forEach((function(e){lg(ow,e)})),aw.types=ow.types,aw.properties=ow.properties,aw.propertyGroups=ow.propertyGroups,aw.propertyGroupNames=ow.propertyGroupNames,aw.propertyGroupKeys=ow.propertyGroupKeys;var sw={style:function(e){e&&this.setStyle(e).update();return this._private.style},setStyle:function(e){var t=this._private;return Jm(e)?t.style=e.generateStyle(this):Gm(e)?t.style=aw.fromJson(this,e):$m(e)?t.style=aw.fromString(this,e):t.style=aw(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},cw={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},selectionType:function(e){var t=this._private;return null==t.selectionType&&(t.selectionType="single"),void 0===e?t.selectionType:("additive"!==e&&"single"!==e||(t.selectionType=e),this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,n,r,i,a=arguments,o=this._private.pan;switch(a.length){case 0:return o;case 1:if($m(a[0]))return o[e=a[0]];if(qm(a[0])){if(!this._private.panningEnabled)return this;r=(n=a[0]).x,i=n.y,Xm(r)&&(o.x=r),Xm(i)&&(o.y=i),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=a[0],t=a[1],"x"!==e&&"y"!==e||!Xm(t)||(o[e]=t),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(e,t){var n,r,i,a,o,s=arguments,c=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:qm(e)&&(a=(i=s[0]).x,o=i.y,Xm(a)&&(c.x+=a),Xm(o)&&(c.y+=o),this.emit("pan viewport"));break;case 2:r=t,"x"!==(n=e)&&"y"!==n||!Xm(r)||(c[n]+=r),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(Xm(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n,r;if($m(e)){var i=e;e=this.$(i)}else if(qm(r=e)&&Xm(r.x1)&&Xm(r.x2)&&Xm(r.y1)&&Xm(r.y2)){var a=e;(n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else Km(e)||(e=this.mutableElements());if(!Km(e)||!e.empty()){n=n||e.boundingBox();var o,s=this.width(),c=this.height();if(t=Xm(t)?t:0,!isNaN(s)&&!isNaN(c)&&s>0&&c>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:o=(o=(o=Math.min((s-2*t)/n.w,(c-2*t)/n.h))>this._private.maxZoom?this._private.maxZoom:o)<this._private.minZoom?this._private.minZoom:o,pan:{x:(s-o*(n.x1+n.x2))/2,y:(c-o*(n.y1+n.y2))/2}}}}},zoomRange:function(e,t){var n=this._private;if(null==t){var r=e;e=r.min,t=r.max}return Xm(e)&&Xm(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):Xm(e)&&void 0===t&&e<=n.maxZoom?n.minZoom=e:Xm(t)&&void 0===e&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return void 0===e?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return void 0===e?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t,n,r=this._private,i=r.pan,a=r.zoom,o=!1;if(r.zoomingEnabled||(o=!0),Xm(e)?n=e:qm(e)&&(n=e.level,null!=e.position?t=hv(e.position,a,i):null!=e.renderedPosition&&(t=e.renderedPosition),null==t||r.panningEnabled||(o=!0)),n=(n=n>r.maxZoom?r.maxZoom:n)<r.minZoom?r.minZoom:n,o||!Xm(n)||n===a||null!=t&&(!Xm(t.x)||!Xm(t.y)))return null;if(null!=t){var s=i,c=a,l=n;return{zoomed:!0,panned:!0,zoom:l,pan:{x:-l/c*(t.x-s.x)+t.x,y:-l/c*(t.y-s.y)+t.y}}}return{zoomed:!0,panned:!1,zoom:n,pan:i}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed?(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(e){var t=this._private,n=!0,r=!0,i=[],a=!1,o=!1;if(!e)return this;if(Xm(e.zoom)||(n=!1),qm(e.pan)||(r=!1),!n&&!r)return this;if(n){var s=e.zoom;s<t.minZoom||s>t.maxZoom||!t.zoomingEnabled?a=!0:(t.zoom=s,i.push("zoom"))}if(r&&(!a||!e.cancelOnFailedZoom)&&t.panningEnabled){var c=e.pan;Xm(c.x)&&(t.pan.x=c.x,o=!1),Xm(c.y)&&(t.pan.y=c.y,o=!1),o||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if($m(e)){var n=e;e=this.mutableElements().filter(n)}else Km(e)||(e=this.mutableElements());if(0!==e.length){var r=e.boundingBox(),i=this.width(),a=this.height();return{x:(i-(t=void 0===t?this._private.zoom:t)*(r.x1+r.x2))/2,y:(a-t*(r.y1+r.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container;return e.sizeCache=e.sizeCache||(t?function(){var e=Mm.getComputedStyle(t),n=function(t){return parseFloat(e.getPropertyValue(t))};return{width:t.clientWidth-n("padding-left")-n("padding-right"),height:t.clientHeight-n("padding-top")-n("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}};cw.centre=cw.center,cw.autolockNodes=cw.autolock,cw.autoungrabifyNodes=cw.autoungrabify;var lw={data:fb.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:fb.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:fb.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:fb.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};lw.attr=lw.data,lw.removeAttr=lw.removeData;var dw=function(e){var t=this,n=(e=lg({},e)).container;n&&!Ym(n)&&Ym(n[0])&&(n=n[0]);var r=n?n._cyreg:null;(r=r||{})&&r.cy&&(r.cy.destroy(),r={});var i=r.readies=r.readies||[];n&&(n._cyreg=r),r.cy=t;var a=void 0!==Mm&&void 0!==n&&!e.headless,o=e;o.layout=lg({name:a?"grid":"null"},o.layout),o.renderer=lg({name:a?"canvas":"null"},o.renderer);var s=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},c=this._private={container:n,ready:!1,options:o,elements:new Tx(this),listeners:[],aniEles:new Tx(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:s(!0,o.zoomingEnabled),userZoomingEnabled:s(!0,o.userZoomingEnabled),panningEnabled:s(!0,o.panningEnabled),userPanningEnabled:s(!0,o.userPanningEnabled),boxSelectionEnabled:s(!0,o.boxSelectionEnabled),autolock:s(!1,o.autolock,o.autolockNodes),autoungrabify:s(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:s(!1,o.autounselectify),styleEnabled:void 0===o.styleEnabled?a:o.styleEnabled,zoom:Xm(o.zoom)?o.zoom:1,pan:{x:qm(o.pan)&&Xm(o.pan.x)?o.pan.x:0,y:qm(o.pan)&&Xm(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});c.styleEnabled&&t.setStyle([]);var l=lg({},o,o.renderer);t.initRenderer(l);!function(e,t){if(e.some(tg))return ub.all(e).then(t);t(e)}([o.style,o.elements],(function(e){var n=e[0],a=e[1];c.styleEnabled&&t.style().append(n),function(e,n,r){t.notifications(!1);var i=t.mutableElements();i.length>0&&i.remove(),null!=e&&(qm(e)||Gm(e))&&t.add(e),t.one("layoutready",(function(e){t.notifications(!0),t.emit(e),t.one("load",n),t.emitAndNotify("load")})).one("layoutstop",(function(){t.one("done",r),t.emit("done")}));var a=lg({},t._private.options.layout);a.eles=t.elements(),t.layout(a).run()}(a,(function(){t.startAnimationLoop(),c.ready=!0,Um(o.ready)&&t.on("ready",o.ready);for(var e=0;e<i.length;e++){var n=i[e];t.on("ready",n)}r&&(r.readies=[]),t.emit("ready")}),o.done)}))},uw=dw.prototype;lg(uw,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},mount:function(e){if(null!=e){var t=this,n=t._private,r=n.options;return!Ym(e)&&Ym(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=e,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(lg({},r,r.renderer,{name:"null"===r.renderer.name?"canvas":r.renderer.name})),t.startAnimationLoop(),t.style(r.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Bg(this._private.options)},json:function(e){var t=this,n=t._private,r=t.mutableElements();if(qm(e)){if(t.startBatch(),e.elements){var i={},a=function(e,n){for(var r=[],a=[],o=0;o<e.length;o++){var s=e[o];if(s.data.id){var c=""+s.data.id,l=t.getElementById(c);i[c]=!0,0!==l.length?a.push({ele:l,json:s}):n?(s.group=n,r.push(s)):r.push(s)}else zg("cy.json() cannot handle elements without an ID attribute")}t.add(r);for(var d=0;d<a.length;d++){var u=a[d],p=u.ele,h=u.json;p.json(h)}};if(Gm(e.elements))a(e.elements);else for(var o=["nodes","edges"],s=0;s<o.length;s++){var c=o[s],l=e.elements[c];Gm(l)&&a(l,c)}var d=t.collection();r.filter((function(e){return!i[e.id()]})).forEach((function(e){e.isParent()?d.merge(e):e.remove()})),d.forEach((function(e){return e.children().move({parent:null})})),d.forEach((function(e){return function(e){return t.getElementById(e.id())}(e).remove()}))}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan)),e.data&&t.data(e.data);for(var u=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],p=0;p<u.length;p++){var h=u[p];null!=e[h]&&t[h](e[h])}return t.endBatch(),this}var f={};!!e?f.elements=this.elements().map((function(e){return e.json()})):(f.elements={},r.forEach((function(e){var t=e.group();f.elements[t]||(f.elements[t]=[]),f.elements[t].push(e.json())}))),this._private.styleEnabled&&(f.style=t.style().json()),f.data=Bg(t.data());var m=n.options;return f.zoomingEnabled=n.zoomingEnabled,f.userZoomingEnabled=n.userZoomingEnabled,f.zoom=n.zoom,f.minZoom=n.minZoom,f.maxZoom=n.maxZoom,f.panningEnabled=n.panningEnabled,f.userPanningEnabled=n.userPanningEnabled,f.pan=Bg(n.pan),f.boxSelectionEnabled=n.boxSelectionEnabled,f.renderer=Bg(m.renderer),f.hideEdgesOnViewport=m.hideEdgesOnViewport,f.textureOnViewport=m.textureOnViewport,f.wheelSensitivity=m.wheelSensitivity,f.motionBlur=m.motionBlur,f}}),uw.$id=uw.getElementById,[Ox,Hx,Ux,Gx,qx,Xx,Kx,Wx,sw,cw,lw].forEach((function(e){lg(uw,e)}));var pw={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},hw=function(e){return e.scratch("breadthfirst")},fw=function(e,t){return e.scratch("breadthfirst",t)};function mw(e){this.options=lg({},pw,e)}mw.prototype.run=function(){var e,t=this.options,n=t,r=t.cy,i=n.eles,a=i.nodes().filter((function(e){return!e.isParent()})),o=i,s=n.directed,c=n.maximal||n.maximalAdjustments>0,l=Cv(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(Km(n.roots))e=n.roots;else if(Gm(n.roots)){for(var d=[],u=0;u<n.roots.length;u++){var p=n.roots[u],h=r.getElementById(p);d.push(h)}e=r.collection(d)}else if($m(n.roots))e=r.$(n.roots);else if(s)e=a.roots();else{var f=i.components();e=r.collection();for(var m=function(t){var n=f[t],r=n.maxDegree(!1),i=n.filter((function(e){return e.degree(!1)===r}));e=e.add(i)},g=0;g<f.length;g++)m(g)}var v=[],y={},b=function(e,t){null==v[t]&&(v[t]=[]);var n=v[t].length;v[t].push(e),fw(e,{index:n,depth:t})};o.bfs({roots:e,directed:n.directed,visit:function(e,t,n,r,i){var a=e[0],o=a.id();b(a,i),y[o]=!0}});for(var _=[],x=0;x<a.length;x++){var w=a[x];y[w.id()]||_.push(w)}var k=function(e){for(var t=v[e],n=0;n<t.length;n++){var r=t[n];null!=r?fw(r,{depth:e,index:n}):(t.splice(n,1),n--)}},E=function(){for(var e=0;e<v.length;e++)k(e)},C=function(e,t){for(var n=hw(e),r=e.incomers().filter((function(e){return e.isNode()&&i.has(e)})),a=-1,o=e.id(),s=0;s<r.length;s++){var c=r[s],l=hw(c);a=Math.max(a,l.depth)}return n.depth<=a&&(t[o]?null:(function(e,t){var n=hw(e),r=n.depth,i=n.index;v[r][i]=null,b(e,t)}(e,a+1),t[o]=!0,!0))};if(s&&c){var S=[],A={},T=function(e){return S.push(e)};for(a.forEach((function(e){return S.push(e)}));S.length>0;){var I=S.shift(),O=C(I,A);if(O)I.outgoers().filter((function(e){return e.isNode()&&i.has(e)})).forEach(T);else if(null===O){zg("Detected double maximal shift for node `"+I.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}E();var R=0;if(n.avoidOverlap)for(var D=0;D<a.length;D++){var P=a[D].layoutDimensions(n),L=P.w,N=P.h;R=Math.max(R,L,N)}for(var M={},F=function(e){if(M[e.id()])return M[e.id()];for(var t=hw(e).depth,n=e.neighborhood(),r=0,i=0,o=0;o<n.length;o++){var s=n[o];if(!s.isEdge()&&!s.isParent()&&a.has(s)){var c=hw(s);if(null!=c){var l=c.index,d=c.depth;if(null!=l&&null!=d){var u=v[d].length;d<t&&(r+=l/u,i++)}}}}return r/=i=Math.max(1,i),0===i&&(r=0),M[e.id()]=r,r},z=function(e,t){var n=F(e)-F(t);return 0===n?cg(e.id(),t.id()):n},B=0;B<v.length;B++)v[B].sort(z),k(B);for(var j=[],H=0;H<_.length;H++)j.push(_[H]);v.unshift(j),E();for(var V=0,$=0;$<v.length;$++)V=Math.max(v[$].length,V);var U=l.x1+l.w/2,G=l.x1+l.h/2,q=v.reduce((function(e,t){return Math.max(e,t.length)}),0);return i.nodes().layoutPositions(this,n,(function(e){var t=hw(e),r=t.depth,i=t.index,a=v[r].length,o=Math.max(l.w/((n.grid?q:a)+1),R),s=Math.max(l.h/(v.length+1),R),c=Math.min(l.w/2/v.length,l.h/2/v.length);if(c=Math.max(c,R),n.circle){var d=c*r+c-(v.length>0&&v[0].length<=3?c/2:0),u=2*Math.PI/v[r].length*i;return 0===r&&1===v[0].length&&(d=1),{x:U+d*Math.cos(u),y:G+d*Math.sin(u)}}return{x:U+(i+1-(a+1)/2)*o,y:(r+1)*s}})),this};var gw={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function vw(e){this.options=lg({},gw,e)}vw.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,a=r.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));for(var o,s=Cv(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),c=s.x1+s.w/2,l=s.y1+s.h/2,d=(void 0===t.sweep?2*Math.PI-2*Math.PI/a.length:t.sweep)/Math.max(1,a.length-1),u=0,p=0;p<a.length;p++){var h=a[p].layoutDimensions(t),f=h.w,m=h.h;u=Math.max(u,f,m)}if(o=Xm(t.radius)?t.radius:a.length<=1?0:Math.min(s.h,s.w)/2-u,a.length>1&&t.avoidOverlap){u*=1.75;var g=Math.cos(d)-Math.cos(0),v=Math.sin(d)-Math.sin(0),y=Math.sqrt(u*u/(g*g+v*v));o=Math.max(y,o)}return r.nodes().layoutPositions(this,t,(function(e,n){var r=t.startAngle+n*d*(i?1:-1),a=o*Math.cos(r),s=o*Math.sin(r);return{x:c+a,y:l+s}})),this};var yw,bw={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function _w(e){this.options=lg({},bw,e)}_w.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=e.cy,i=t.eles,a=i.nodes().not(":parent"),o=Cv(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s=o.x1+o.w/2,c=o.y1+o.h/2,l=[],d=0,u=0;u<a.length;u++){var p,h=a[u];p=t.concentric(h),l.push({value:p,node:h}),h._private.scratch.concentric=p}a.updateStyle();for(var f=0;f<a.length;f++){var m=a[f].layoutDimensions(t);d=Math.max(d,m.w,m.h)}l.sort((function(e,t){return t.value-e.value}));for(var g=t.levelWidth(a),v=[[]],y=v[0],b=0;b<l.length;b++){var _=l[b];if(y.length>0)Math.abs(y[0].value-_.value)>=g&&(y=[],v.push(y));y.push(_)}var x=d+t.minNodeSpacing;if(!t.avoidOverlap){var w=v.length>0&&v[0].length>1,k=(Math.min(o.w,o.h)/2-x)/(v.length+w?1:0);x=Math.min(x,k)}for(var E=0,C=0;C<v.length;C++){var S=v[C],A=void 0===t.sweep?2*Math.PI-2*Math.PI/S.length:t.sweep,T=S.dTheta=A/Math.max(1,S.length-1);if(S.length>1&&t.avoidOverlap){var I=Math.cos(T)-Math.cos(0),O=Math.sin(T)-Math.sin(0),R=Math.sqrt(x*x/(I*I+O*O));E=Math.max(R,E)}S.r=E,E+=x}if(t.equidistant){for(var D=0,P=0,L=0;L<v.length;L++){var N=v[L].r-P;D=Math.max(D,N)}P=0;for(var M=0;M<v.length;M++){var F=v[M];0===M&&(P=F.r),F.r=P,P+=D}}for(var z={},B=0;B<v.length;B++)for(var j=v[B],H=j.dTheta,V=j.r,$=0;$<j.length;$++){var U=j[$],G=t.startAngle+(n?1:-1)*H*$,q={x:s+V*Math.cos(G),y:c+V*Math.sin(G)};z[U.node.id()]=q}return i.nodes().layoutPositions(this,t,(function(e){var t=e.id();return z[t]})),this};var xw={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function ww(e){this.options=lg({},xw,e),this.options.layout=this}ww.prototype.run=function(){var e=this.options,t=e.cy,n=this;n.stopped=!1,!0!==e.animate&&!1!==e.animate||n.emit({type:"layoutstart",layout:n}),yw=!0===e.debug;var r=kw(t,n,e);yw&&undefined(),e.randomize&&Sw(r);var i=yg(),a=function(){Tw(r,t,e),!0===e.fit&&t.fit(e.padding)},o=function(t){return!(n.stopped||t>=e.numIter)&&(Iw(r,e),r.temperature=r.temperature*e.coolingFactor,!(r.temperature<e.minTemp))},s=function(){if(!0===e.animate||!1===e.animate)a(),n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n});else{var t=e.eles.nodes(),i=Aw(r,e,t);t.layoutPositions(n,e,i)}},c=0,l=!0;if(!0===e.animate){!function t(){for(var n=0;l&&n<e.refresh;)l=o(c),c++,n++;l?(yg()-i>=e.animationThreshold&&a(),vg(t)):(Hw(r,e),s())}()}else{for(;l;)l=o(c),c++;Hw(r,e),s()}return this},ww.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},ww.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var kw=function(e,t,n){for(var r=n.eles.edges(),i=n.eles.nodes(),a={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:Cv(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},o=n.eles.components(),s={},c=0;c<o.length;c++)for(var l=o[c],d=0;d<l.length;d++){s[l[d].id()]=c}for(c=0;c<a.nodeSize;c++){var u=(g=i[c]).layoutDimensions(n);(D={}).isLocked=g.locked(),D.id=g.data("id"),D.parentId=g.data("parent"),D.cmptId=s[g.id()],D.children=[],D.positionX=g.position("x"),D.positionY=g.position("y"),D.offsetX=0,D.offsetY=0,D.height=u.w,D.width=u.h,D.maxX=D.positionX+D.width/2,D.minX=D.positionX-D.width/2,D.maxY=D.positionY+D.height/2,D.minY=D.positionY-D.height/2,D.padLeft=parseFloat(g.style("padding")),D.padRight=parseFloat(g.style("padding")),D.padTop=parseFloat(g.style("padding")),D.padBottom=parseFloat(g.style("padding")),D.nodeRepulsion=Um(n.nodeRepulsion)?n.nodeRepulsion(g):n.nodeRepulsion,a.layoutNodes.push(D),a.idToIndex[D.id]=c}var p=[],h=0,f=-1,m=[];for(c=0;c<a.nodeSize;c++){var g,v=(g=a.layoutNodes[c]).parentId;null!=v?a.layoutNodes[a.idToIndex[v]].children.push(g.id):(p[++f]=g.id,m.push(g.id))}for(a.graphSet.push(m);h<=f;){var y=p[h++],b=a.idToIndex[y],_=a.layoutNodes[b].children;if(_.length>0){a.graphSet.push(_);for(c=0;c<_.length;c++)p[++f]=_[c]}}for(c=0;c<a.graphSet.length;c++){var x=a.graphSet[c];for(d=0;d<x.length;d++){var w=a.idToIndex[x[d]];a.indexToGraph[w]=c}}for(c=0;c<a.edgeSize;c++){var k=r[c],E={};E.id=k.data("id"),E.sourceId=k.data("source"),E.targetId=k.data("target");var C=Um(n.idealEdgeLength)?n.idealEdgeLength(k):n.idealEdgeLength,S=Um(n.edgeElasticity)?n.edgeElasticity(k):n.edgeElasticity,A=a.idToIndex[E.sourceId],T=a.idToIndex[E.targetId];if(a.indexToGraph[A]!=a.indexToGraph[T]){for(var I=Ew(E.sourceId,E.targetId,a),O=a.graphSet[I],R=0,D=a.layoutNodes[A];-1===O.indexOf(D.id);)D=a.layoutNodes[a.idToIndex[D.parentId]],R++;for(D=a.layoutNodes[T];-1===O.indexOf(D.id);)D=a.layoutNodes[a.idToIndex[D.parentId]],R++;C*=R*n.nestingFactor}E.idealLength=C,E.elasticity=S,a.layoutEdges.push(E)}return a},Ew=function(e,t,n){var r=Cw(e,t,0,n);return 2>r.count?0:r.graph},Cw=function e(t,n,r,i){var a=i.graphSet[r];if(-1<a.indexOf(t)&&-1<a.indexOf(n))return{count:2,graph:r};for(var o=0,s=0;s<a.length;s++){var c=a[s],l=i.idToIndex[c],d=i.layoutNodes[l].children;if(0!==d.length){var u=e(t,n,i.indexToGraph[i.idToIndex[d[0]]],i);if(0!==u.count){if(1!==u.count)return u;if(2===++o)break}}}return{count:o,graph:r}},Sw=function(e,t){for(var n=e.clientWidth,r=e.clientHeight,i=0;i<e.nodeSize;i++){var a=e.layoutNodes[i];0!==a.children.length||a.isLocked||(a.positionX=Math.random()*n,a.positionY=Math.random()*r)}},Aw=function(e,t,n){var r=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach((function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];i.x1=Math.min(i.x1,n.positionX),i.x2=Math.max(i.x2,n.positionX),i.y1=Math.min(i.y1,n.positionY),i.y2=Math.max(i.y2,n.positionY)})),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(n,a){var o=e.layoutNodes[e.idToIndex[n.data("id")]];if(t.boundingBox){var s=(o.positionX-i.x1)/i.w,c=(o.positionY-i.y1)/i.h;return{x:r.x1+s*r.w,y:r.y1+c*r.h}}return{x:o.positionX,y:o.positionY}}},Tw=function(e,t,n){var r=n.layout,i=n.eles.nodes(),a=Aw(e,n,i);i.positions(a),!0!==e.ready&&(e.ready=!0,r.one("layoutready",n.ready),r.emit({type:"layoutready",layout:this}))},Iw=function(e,t,n){Ow(e,t),Nw(e),Mw(e,t),Fw(e),zw(e)},Ow=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var r=e.graphSet[n],i=r.length,a=0;a<i;a++)for(var o=e.layoutNodes[e.idToIndex[r[a]]],s=a+1;s<i;s++){var c=e.layoutNodes[e.idToIndex[r[s]]];Dw(o,c,e,t)}},Rw=function(e){return-e+2*e*Math.random()},Dw=function(e,t,n,r){if(e.cmptId===t.cmptId||n.isCompound){var i=t.positionX-e.positionX,a=t.positionY-e.positionY;0===i&&0===a&&(i=Rw(1),a=Rw(1));var o=Pw(e,t,i,a);if(o>0)var s=(l=r.nodeOverlap*o)*i/(m=Math.sqrt(i*i+a*a)),c=l*a/m;else{var l,d=Lw(e,i,a),u=Lw(t,-1*i,-1*a),p=u.x-d.x,h=u.y-d.y,f=p*p+h*h,m=Math.sqrt(f);s=(l=(e.nodeRepulsion+t.nodeRepulsion)/f)*p/m,c=l*h/m}e.isLocked||(e.offsetX-=s,e.offsetY-=c),t.isLocked||(t.offsetX+=s,t.offsetY+=c)}},Pw=function(e,t,n,r){if(n>0)var i=e.maxX-t.minX;else i=t.maxX-e.minX;if(r>0)var a=e.maxY-t.minY;else a=t.maxY-e.minY;return i>=0&&a>=0?Math.sqrt(i*i+a*a):0},Lw=function(e,t,n){var r=e.positionX,i=e.positionY,a=e.height||1,o=e.width||1,s=n/t,c=a/o,l={};return 0===t&&0<n||0===t&&0>n?(l.x=r,l.y=i+a/2,l):0<t&&-1*c<=s&&s<=c?(l.x=r+o/2,l.y=i+o*n/2/t,l):0>t&&-1*c<=s&&s<=c?(l.x=r-o/2,l.y=i-o*n/2/t,l):0<n&&(s<=-1*c||s>=c)?(l.x=r+a*t/2/n,l.y=i+a/2,l):0>n&&(s<=-1*c||s>=c)?(l.x=r-a*t/2/n,l.y=i-a/2,l):l},Nw=function(e,t){for(var n=0;n<e.edgeSize;n++){var r=e.layoutEdges[n],i=e.idToIndex[r.sourceId],a=e.layoutNodes[i],o=e.idToIndex[r.targetId],s=e.layoutNodes[o],c=s.positionX-a.positionX,l=s.positionY-a.positionY;if(0!==c||0!==l){var d=Lw(a,c,l),u=Lw(s,-1*c,-1*l),p=u.x-d.x,h=u.y-d.y,f=Math.sqrt(p*p+h*h),m=Math.pow(r.idealLength-f,2)/r.elasticity;if(0!==f)var g=m*p/f,v=m*h/f;else g=0,v=0;a.isLocked||(a.offsetX+=g,a.offsetY+=v),s.isLocked||(s.offsetX-=g,s.offsetY-=v)}}},Mw=function(e,t){for(var n=0;n<e.graphSet.length;n++){var r=e.graphSet[n],i=r.length;if(0===n)var a=e.clientHeight/2,o=e.clientWidth/2;else{var s=e.layoutNodes[e.idToIndex[r[0]]],c=e.layoutNodes[e.idToIndex[s.parentId]];a=c.positionX,o=c.positionY}for(var l=0;l<i;l++){var d=e.layoutNodes[e.idToIndex[r[l]]];if(!d.isLocked){var u=a-d.positionX,p=o-d.positionY,h=Math.sqrt(u*u+p*p);if(h>1){var f=t.gravity*u/h,m=t.gravity*p/h;d.offsetX+=f,d.offsetY+=m}}}}},Fw=function(e,t){var n=[],r=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;r<=i;){var a=n[r++],o=e.idToIndex[a],s=e.layoutNodes[o],c=s.children;if(0<c.length&&!s.isLocked){for(var l=s.offsetX,d=s.offsetY,u=0;u<c.length;u++){var p=e.layoutNodes[e.idToIndex[c[u]]];p.offsetX+=l,p.offsetY+=d,n[++i]=c[u]}s.offsetX=0,s.offsetY=0}}},zw=function(e,t){for(var n=0;n<e.nodeSize;n++){0<(i=e.layoutNodes[n]).children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(n=0;n<e.nodeSize;n++){if(!(0<(i=e.layoutNodes[n]).children.length||i.isLocked)){var r=Bw(i.offsetX,i.offsetY,e.temperature);i.positionX+=r.x,i.positionY+=r.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,jw(i,e)}}for(n=0;n<e.nodeSize;n++){var i;0<(i=e.layoutNodes[n]).children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},Bw=function(e,t,n){var r=Math.sqrt(e*e+t*t);if(r>n)var i={x:n*e/r,y:n*t/r};else i={x:e,y:t};return i},jw=function e(t,n){var r=t.parentId;if(null!=r){var i=n.layoutNodes[n.idToIndex[r]],a=!1;return(null==i.maxX||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,a=!0),(null==i.minX||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,a=!0),(null==i.maxY||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,a=!0),(null==i.minY||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,a=!0),a?e(i,n):void 0}},Hw=function(e,t){for(var n=e.layoutNodes,r=[],i=0;i<n.length;i++){var a=n[i],o=a.cmptId;(r[o]=r[o]||[]).push(a)}var s=0;for(i=0;i<r.length;i++){if(m=r[i]){m.x1=1/0,m.x2=-1/0,m.y1=1/0,m.y2=-1/0;for(var c=0;c<m.length;c++){var l=m[c];m.x1=Math.min(m.x1,l.positionX-l.width/2),m.x2=Math.max(m.x2,l.positionX+l.width/2),m.y1=Math.min(m.y1,l.positionY-l.height/2),m.y2=Math.max(m.y2,l.positionY+l.height/2)}m.w=m.x2-m.x1,m.h=m.y2-m.y1,s+=m.w*m.h}}r.sort((function(e,t){return t.w*t.h-e.w*e.h}));var d=0,u=0,p=0,h=0,f=Math.sqrt(s)*e.clientWidth/e.clientHeight;for(i=0;i<r.length;i++){var m;if(m=r[i]){for(c=0;c<m.length;c++){(l=m[c]).isLocked||(l.positionX+=d-m.x1,l.positionY+=u-m.y1)}d+=m.w+t.componentSpacing,p+=m.w+t.componentSpacing,h=Math.max(h,m.h),p>f&&(u+=h+t.componentSpacing,d=0,p=0,h=0)}}},Vw={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function $w(e){this.options=lg({},Vw,e)}$w.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=r.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var a=Cv(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===a.h||0===a.w)r.nodes().layoutPositions(this,t,(function(e){return{x:a.x1,y:a.y1}}));else{var o=i.size(),s=Math.sqrt(o*a.h/a.w),c=Math.round(s),l=Math.round(a.w/a.h*s),d=function(e){if(null==e)return Math.min(c,l);Math.min(c,l)==c?c=e:l=e},u=function(e){if(null==e)return Math.max(c,l);Math.max(c,l)==c?c=e:l=e},p=t.rows,h=null!=t.cols?t.cols:t.columns;if(null!=p&&null!=h)c=p,l=h;else if(null!=p&&null==h)c=p,l=Math.ceil(o/c);else if(null==p&&null!=h)l=h,c=Math.ceil(o/l);else if(l*c>o){var f=d(),m=u();(f-1)*m>=o?d(f-1):(m-1)*f>=o&&u(m-1)}else for(;l*c<o;){var g=d(),v=u();(v+1)*g>=o?u(v+1):d(g+1)}var y=a.w/l,b=a.h/c;if(t.condense&&(y=0,b=0),t.avoidOverlap)for(var _=0;_<i.length;_++){var x=i[_],w=x._private.position;null!=w.x&&null!=w.y||(w.x=0,w.y=0);var k=x.layoutDimensions(t),E=t.avoidOverlapPadding,C=k.w+E,S=k.h+E;y=Math.max(y,C),b=Math.max(b,S)}for(var A={},T=function(e,t){return!!A["c-"+e+"-"+t]},I=function(e,t){A["c-"+e+"-"+t]=!0},O=0,R=0,D=function(){++R>=l&&(R=0,O++)},P={},L=0;L<i.length;L++){var N=i[L],M=t.position(N);if(M&&(void 0!==M.row||void 0!==M.col)){var F={row:M.row,col:M.col};if(void 0===F.col)for(F.col=0;T(F.row,F.col);)F.col++;else if(void 0===F.row)for(F.row=0;T(F.row,F.col);)F.row++;P[N.id()]=F,I(F.row,F.col)}}i.layoutPositions(this,t,(function(e,t){var n,r;if(e.locked()||e.isParent())return!1;var i=P[e.id()];if(i)n=i.col*y+y/2+a.x1,r=i.row*b+b/2+a.y1;else{for(;T(O,R);)D();n=R*y+y/2+a.x1,r=O*b+b/2+a.y1,I(O,R),D()}return{x:n,y:r}}))}return this};var Uw={ready:function(){},stop:function(){}};function Gw(e){this.options=lg({},Uw,e)}Gw.prototype.run=function(){var e=this.options,t=e.eles,n=this;return e.cy,n.emit("layoutstart"),t.nodes().positions((function(){return{x:0,y:0}})),n.one("layoutready",e.ready),n.emit("layoutready"),n.one("layoutstop",e.stop),n.emit("layoutstop"),this},Gw.prototype.stop=function(){return this};var qw={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Xw(e){this.options=lg({},qw,e)}Xw.prototype.run=function(){var e=this.options,t=e.eles.nodes(),n=Um(e.positions);return t.layoutPositions(this,e,(function(t,r){var i=function(t){if(null==e.positions)return function(e){return{x:e.x,y:e.y}}(t.position());if(n)return e.positions(t);var r=e.positions[t._private.data.id];return null==r?null:r}(t);return!t.locked()&&null!=i&&i})),this};var Yw={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Kw(e){this.options=lg({},Yw,e)}Kw.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,r=Cv(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return n.nodes().layoutPositions(this,e,(function(e,t){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}})),this};var Ww=[{name:"breadthfirst",impl:mw},{name:"circle",impl:vw},{name:"concentric",impl:_w},{name:"cose",impl:ww},{name:"grid",impl:$w},{name:"null",impl:Gw},{name:"preset",impl:Xw},{name:"random",impl:Kw}];function Zw(e){this.options=e,this.notifications=0}var Qw=function(){},Jw=function(){throw new Error("A headless instance can not render images")};Zw.prototype={recalculateRenderedStyle:Qw,notify:function(){this.notifications++},init:Qw,isHeadless:function(){return!0},png:Jw,jpg:Jw};var ek={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,n=function(e,t,n,r,i,a,o){var s=i.x-n/2-o,c=i.x+n/2+o,l=i.y-n/2-o,d=i.y+n/2+o;return s<=e&&e<=c&&l<=t&&t<=d},r=function(e,t,n,r,i){var a=e*Math.cos(r)-t*Math.sin(r),o=(e*Math.sin(r)+t*Math.cos(r))*n;return{x:a*n+i.x,y:o+i.y}},i=function(e,t,n,i){for(var a=[],o=0;o<e.length;o+=2){var s=e[o],c=e[o+1];a.push(r(s,c,t,n,i))}return a},a=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.x,r.y)}return t},o=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},s=function(r,s){$m(s)&&(s=e[s]),e[r]=lg({name:r,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,r,o,s){var c=a(i(this.points,n+2*s,r,o));return zv(e,t,c)},roughCollide:n,draw:function(e,n,r,a){var o=i(this.points,n,r,a);t.arrowShapeImpl("polygon")(e,o)},spacing:function(e){return 0},gap:o},s)};s("none",{collide:Pg,roughCollide:Pg,draw:Ng,spacing:Lg,gap:Lg}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(e,n,a,o,s){var c=i(this.points,n,a,o),l=this.controlPoint,d=r(l[0],l[1],n,a,o);t.arrowShapeImpl(this.name)(e,c,d)},gap:function(e){return.8*o(e)}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,r,o,s,c){var l=a(i(this.points,n+2*c,r,o)),d=a(i(this.pointsTee,n+2*c,r,o));return zv(e,t,l)||zv(e,t,d)},draw:function(e,n,r,a,o){var s=i(this.points,n,r,a),c=i(this.pointsTee,n,r,a);t.arrowShapeImpl(this.name)(e,s,c)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(e,t,n,r,o,s,c){var l=o,d=Math.pow(l.x-e,2)+Math.pow(l.y-t,2)<=Math.pow((n+2*c)*this.radius,2),u=a(i(this.points,n+2*c,r,o));return zv(e,t,u)||d},draw:function(e,n,r,a,o){var s=i(this.pointsTr,n,r,a);t.arrowShapeImpl(this.name)(e,s,a.x,a.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var n=this.baseCrossLinePts.slice(),r=t/e;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(e,t,n,r,o,s,c){var l=a(i(this.points,n+2*c,r,o)),d=a(i(this.crossLinePts(n,s),n+2*c,r,o));return zv(e,t,l)||zv(e,t,d)},draw:function(e,n,r,a,o){var s=i(this.points,n,r,a),c=i(this.crossLinePts(n,o),n,r,a);t.arrowShapeImpl(this.name)(e,s,c)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.525*o(e)}}),s("circle",{radius:.15,collide:function(e,t,n,r,i,a,o){var s=i;return Math.pow(s.x-e,2)+Math.pow(s.y-t,2)<=Math.pow((n+2*o)*this.radius,2)},draw:function(e,n,r,i,a){t.arrowShapeImpl(this.name)(e,i.x,i.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(e){return.95*e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}},tk={projectIntoViewport:function(e,t){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],a=r[1],o=r[4],s=n.pan(),c=n.zoom();return[((e-i)/o-s.x)/c,((t-a)/o-s.y)/c]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=Mm.getComputedStyle(e),r=function(e){return parseFloat(n.getPropertyValue(e))},i=r("padding-left"),a=r("padding-right"),o=r("padding-top"),s=r("padding-bottom"),c=r("border-left-width"),l=r("border-right-width"),d=r("border-top-width"),u=(r("border-bottom-width"),e.clientWidth),p=e.clientHeight,h=i+a,f=o+s,m=c+l,g=t.width/(u+m),v=u-h,y=p-f,b=t.left+i+c,_=t.top+o+d;return this.containerBB=[b,_,v,y,g]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]},findNearestElements:function(e,t,n,r){var i,a,o=this,s=this,c=s.getCachedZSortedEles(),l=[],d=s.cy.zoom(),u=s.cy.hasCompoundNodes(),p=(r?24:8)/d,h=(r?8:2)/d,f=(r?8:2)/d,m=1/0;function g(e,t){if(e.isNode()){if(a)return;a=e,l.push(e)}if(e.isEdge()&&(null==t||t<m))if(i){if(i.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value&&i.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value)for(var n=0;n<l.length;n++)if(l[n].isEdge()){l[n]=e,i=e,m=null!=t?t:m;break}}else l.push(e),i=e,m=null!=t?t:m}function v(n){var r=n.outerWidth()+2*h,i=n.outerHeight()+2*h,a=r/2,c=i/2,l=n.position();if(l.x-a<=e&&e<=l.x+a&&l.y-c<=t&&t<=l.y+c&&s.nodeShapes[o.getNodeShape(n)].checkPoint(e,t,0,r,i,l.x,l.y))return g(n,0),!0}function y(n){var r,i=n._private,a=i.rscratch,c=n.pstyle("width").pfValue,d=n.pstyle("arrow-scale").value,h=c/2+p,f=h*h,m=2*h,y=i.source,b=i.target;if("segments"===a.edgeType||"straight"===a.edgeType||"haystack"===a.edgeType){for(var _=a.allpts,x=0;x+3<_.length;x+=2)if(Lv(e,t,_[x],_[x+1],_[x+2],_[x+3],m)&&f>(r=Fv(e,t,_[x],_[x+1],_[x+2],_[x+3])))return g(n,r),!0}else if("bezier"===a.edgeType||"multibezier"===a.edgeType||"self"===a.edgeType||"compound"===a.edgeType)for(_=a.allpts,x=0;x+5<a.allpts.length;x+=4)if(Nv(e,t,_[x],_[x+1],_[x+2],_[x+3],_[x+4],_[x+5],m)&&f>(r=Mv(e,t,_[x],_[x+1],_[x+2],_[x+3],_[x+4],_[x+5])))return g(n,r),!0;y=y||i.source,b=b||i.target;var w=o.getArrowWidth(c,d),k=[{name:"source",x:a.arrowStartX,y:a.arrowStartY,angle:a.srcArrowAngle},{name:"target",x:a.arrowEndX,y:a.arrowEndY,angle:a.tgtArrowAngle},{name:"mid-source",x:a.midX,y:a.midY,angle:a.midsrcArrowAngle},{name:"mid-target",x:a.midX,y:a.midY,angle:a.midtgtArrowAngle}];for(x=0;x<k.length;x++){var E=k[x],C=s.arrowShapes[n.pstyle(E.name+"-arrow-shape").value],S=n.pstyle("width").pfValue;if(C.roughCollide(e,t,w,E.angle,{x:E.x,y:E.y},S,p)&&C.collide(e,t,w,E.angle,{x:E.x,y:E.y},S,p))return g(n),!0}u&&l.length>0&&(v(y),v(b))}function b(e,t,n){return qg(e,t,n)}function _(n,r){var i,a=n._private,o=f;i=r?r+"-":"",n.boundingBox();var s=a.labelBounds[r||"main"],c=n.pstyle(i+"label").value;if("yes"===n.pstyle("text-events").strValue&&c){var l=b(a.rscratch,"labelX",r),d=b(a.rscratch,"labelY",r),u=b(a.rscratch,"labelAngle",r),p=n.pstyle(i+"text-margin-x").pfValue,h=n.pstyle(i+"text-margin-y").pfValue,m=s.x1-o-p,v=s.x2+o-p,y=s.y1-o-h,_=s.y2+o-h;if(u){var x=Math.cos(u),w=Math.sin(u),k=function(e,t){return{x:(e-=l)*x-(t-=d)*w+l,y:e*w+t*x+d}},E=k(m,y),C=k(m,_),S=k(v,y),A=k(v,_),T=[E.x+p,E.y+h,S.x+p,S.y+h,A.x+p,A.y+h,C.x+p,C.y+h];if(zv(e,t,T))return g(n),!0}else if(Rv(s,e,t))return g(n),!0}}n&&(c=c.interactive);for(var x=c.length-1;x>=0;x--){var w=c[x];w.isNode()?v(w)||_(w):y(w)||_(w)||_(w,"source")||_(w,"target")}return l},getAllInBox:function(e,t,n,r){for(var i,a,o=this.getCachedZSortedEles().interactive,s=[],c=Math.min(e,n),l=Math.max(e,n),d=Math.min(t,r),u=Math.max(t,r),p=Cv({x1:e=c,y1:t=d,x2:n=l,y2:r=u}),h=0;h<o.length;h++){var f=o[h];if(f.isNode()){var m=f,g=m.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Ov(p,g)&&!Dv(g,p)&&s.push(m)}else{var v=f,y=v._private,b=y.rscratch;if(null!=b.startX&&null!=b.startY&&!Rv(p,b.startX,b.startY))continue;if(null!=b.endX&&null!=b.endY&&!Rv(p,b.endX,b.endY))continue;if("bezier"===b.edgeType||"multibezier"===b.edgeType||"self"===b.edgeType||"compound"===b.edgeType||"segments"===b.edgeType||"haystack"===b.edgeType){for(var _=y.rstyle.bezierPts||y.rstyle.linePts||y.rstyle.haystackPts,x=!0,w=0;w<_.length;w++)if(i=p,a=_[w],!Rv(i,a.x,a.y)){x=!1;break}x&&s.push(v)}else"haystack"!==b.edgeType&&"straight"!==b.edgeType||s.push(v)}}return s}},nk={calculateArrowAngles:function(e){var t,n,r,i,a,o,s=e._private.rscratch,c="haystack"===s.edgeType,l="bezier"===s.edgeType,d="multibezier"===s.edgeType,u="segments"===s.edgeType,p="compound"===s.edgeType,h="self"===s.edgeType;if(c?(r=s.haystackPts[0],i=s.haystackPts[1],a=s.haystackPts[2],o=s.haystackPts[3]):(r=s.arrowStartX,i=s.arrowStartY,a=s.arrowEndX,o=s.arrowEndY),m=s.midX,g=s.midY,u)t=r-s.segpts[0],n=i-s.segpts[1];else if(d||p||h||l){var f=s.allpts;t=r-wv(f[0],f[2],f[4],.1),n=i-wv(f[1],f[3],f[5],.1)}else t=r-m,n=i-g;s.srcArrowAngle=gv(t,n);var m=s.midX,g=s.midY;if(c&&(m=(r+a)/2,g=(i+o)/2),t=a-r,n=o-i,u)if((f=s.allpts).length/2%2==0){var v=(y=f.length/2)-2;t=f[y]-f[v],n=f[y+1]-f[v+1]}else{v=(y=f.length/2-1)-2;var y,b=y+2;t=f[y]-f[v],n=f[y+1]-f[v+1]}else if(d||p||h){var _,x,w,k,f=s.allpts;if(s.ctrlpts.length/2%2==0){var E=(C=(S=f.length/2-1)+2)+2;_=wv(f[S],f[C],f[E],0),x=wv(f[S+1],f[C+1],f[E+1],0),w=wv(f[S],f[C],f[E],1e-4),k=wv(f[S+1],f[C+1],f[E+1],1e-4)}else{var C,S;E=(C=f.length/2-1)+2;_=wv(f[S=C-2],f[C],f[E],.4999),x=wv(f[S+1],f[C+1],f[E+1],.4999),w=wv(f[S],f[C],f[E],.5),k=wv(f[S+1],f[C+1],f[E+1],.5)}t=w-_,n=k-x}(s.midtgtArrowAngle=gv(t,n),s.midDispX=t,s.midDispY=n,t*=-1,n*=-1,u)&&((f=s.allpts).length/2%2==0||(t=-(f[b=(y=f.length/2-1)+2]-f[y]),n=-(f[b+1]-f[y+1])));if(s.midsrcArrowAngle=gv(t,n),u)t=a-s.segpts[s.segpts.length-2],n=o-s.segpts[s.segpts.length-1];else if(d||p||h||l){var A=(f=s.allpts).length;t=a-wv(f[A-6],f[A-4],f[A-2],.9),n=o-wv(f[A-5],f[A-3],f[A-1],.9)}else t=a-m,n=o-g;s.tgtArrowAngle=gv(t,n)}};nk.getArrowWidth=nk.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=r,r)};var rk={};function ik(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t.push({x:r,y:i})}return t}}rk.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n._private,i=r.rscratch;if(!i.haystack){var a=2*Math.random()*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=2*Math.random()*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var o=r.source,s=r.target,c=o.position(),l=s.position(),d=o.width(),u=s.width(),p=o.height(),h=s.height(),f=n.pstyle("haystack-radius").value/2;i.haystackPts=i.allpts=[i.source.x*d*f+c.x,i.source.y*p*f+c.y,i.target.x*u*f+l.x,i.target.y*h*f+l.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},rk.findSegmentsPoints=function(e,t){var n=e._private.rscratch,r=t.posPts,i=t.intersectionPts,a=t.vectorNormInverse,o=e.pstyle("edge-distances").value,s=e.pstyle("segment-weights"),c=e.pstyle("segment-distances"),l=Math.min(s.pfValue.length,c.pfValue.length);n.edgeType="segments",n.segpts=[];for(var d=0;d<l;d++){var u=s.pfValue[d],p=c.pfValue[d],h=1-u,f=u,m="node-position"===o?r:i,g={x:m.x1*h+m.x2*f,y:m.y1*h+m.y2*f};n.segpts.push(g.x+a.x*p,g.y+a.y*p)}},rk.findLoopPoints=function(e,t,n,r){var i=e._private.rscratch,a=t.dirCounts,o=t.srcPos,s=e.pstyle("control-point-distances"),c=s?s.pfValue[0]:void 0,l=e.pstyle("loop-direction").pfValue,d=e.pstyle("loop-sweep").pfValue,u=e.pstyle("control-point-step-size").pfValue;i.edgeType="self";var p=n,h=u;r&&(p=0,h=c);var f=l-Math.PI/2,m=f-d/2,g=f+d/2,v=String(l+"_"+d);p=void 0===a[v]?a[v]=0:++a[v],i.ctrlpts=[o.x+1.4*Math.cos(m)*h*(p/3+1),o.y+1.4*Math.sin(m)*h*(p/3+1),o.x+1.4*Math.cos(g)*h*(p/3+1),o.y+1.4*Math.sin(g)*h*(p/3+1)]},rk.findCompoundLoopPoints=function(e,t,n,r){var i=e._private.rscratch;i.edgeType="compound";var a=t.srcPos,o=t.tgtPos,s=t.srcW,c=t.srcH,l=t.tgtW,d=t.tgtH,u=e.pstyle("control-point-step-size").pfValue,p=e.pstyle("control-point-distances"),h=p?p.pfValue[0]:void 0,f=n,m=u;r&&(f=0,m=h);var g={x:a.x-s/2,y:a.y-c/2},v={x:o.x-l/2,y:o.y-d/2},y={x:Math.min(g.x,v.x),y:Math.min(g.y,v.y)},b=Math.max(.5,Math.log(.01*s)),_=Math.max(.5,Math.log(.01*l));i.ctrlpts=[y.x,y.y-(1+Math.pow(50,1.12)/100)*m*(f/3+1)*b,y.x-(1+Math.pow(50,1.12)/100)*m*(f/3+1)*_,y.y]},rk.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},rk.findBezierPoints=function(e,t,n,r,i){var a=e._private.rscratch,o=t.vectorNormInverse,s=t.posPts,c=t.intersectionPts,l=e.pstyle("edge-distances").value,d=e.pstyle("control-point-step-size").pfValue,u=e.pstyle("control-point-distances"),p=e.pstyle("control-point-weights"),h=u&&p?Math.min(u.value.length,p.value.length):1,f=u?u.pfValue[0]:void 0,m=p.value[0],g=r;a.edgeType=g?"multibezier":"bezier",a.ctrlpts=[];for(var v=0;v<h;v++){var y=(.5-t.eles.length/2+n)*d*(i?-1:1),b=void 0,_=yv(y);g&&(f=u?u.pfValue[v]:d,m=p.value[v]);var x=void 0!==(b=r?f:void 0!==f?_*f:void 0)?b:y,w=1-m,k=m,E="node-position"===l?s:c,C={x:E.x1*w+E.x2*k,y:E.y1*w+E.y2*k};a.ctrlpts.push(C.x+o.x*x,C.y+o.y*x)}},rk.findTaxiPoints=function(e,t){var n=e._private.rscratch;n.edgeType="segments";var r="vertical",i="horizontal",a="leftward",o="rightward",s="downward",c="upward",l=t.posPts,d=t.srcW,u=t.srcH,p=t.tgtW,h=t.tgtH,f="node-position"!==e.pstyle("edge-distances").value,m=e.pstyle("taxi-direction").value,g=m,v=e.pstyle("taxi-turn"),y="%"===v.units,b=v.pfValue,_=b<0,x=e.pstyle("taxi-turn-min-distance").pfValue,w=f?(d+p)/2:0,k=f?(u+h)/2:0,E=l.x2-l.x1,C=l.y2-l.y1,S=function(e,t){return e>0?Math.max(e-t,0):Math.min(e+t,0)},A=S(E,w),T=S(C,k),I=!1;"auto"===g?m=Math.abs(A)>Math.abs(T)?i:r:g===c||g===s?(m=r,I=!0):g!==a&&g!==o||(m=i,I=!0);var O,R=m===r,D=R?T:A,P=R?C:E,L=yv(P),N=!1;(I&&(y||_)||!(g===s&&P<0||g===c&&P>0||g===a&&P>0||g===o&&P<0)||(D=(L*=-1)*Math.abs(D),N=!0),y)?O=(b<0?1+b:b)*D:O=(b<0?D:0)+b*L;var M=function(e){return Math.abs(e)<x||Math.abs(e)>=Math.abs(D)},F=M(O),z=M(Math.abs(D)-Math.abs(O));if((F||z)&&!N)if(R){var B=Math.abs(P)<=u/2,j=Math.abs(E)<=p/2;if(B){var H=(l.x1+l.x2)/2,V=l.y1,$=l.y2;n.segpts=[H,V,H,$]}else if(j){var U=(l.y1+l.y2)/2,G=l.x1,q=l.x2;n.segpts=[G,U,q,U]}else n.segpts=[l.x1,l.y2]}else{var X=Math.abs(P)<=d/2,Y=Math.abs(C)<=h/2;if(X){var K=(l.y1+l.y2)/2,W=l.x1,Z=l.x2;n.segpts=[W,K,Z,K]}else if(Y){var Q=(l.x1+l.x2)/2,J=l.y1,ee=l.y2;n.segpts=[Q,J,Q,ee]}else n.segpts=[l.x2,l.y1]}else if(R){var te=l.y1+O+(f?u/2*L:0),ne=l.x1,re=l.x2;n.segpts=[ne,te,re,te]}else{var ie=l.x1+O+(f?d/2*L:0),ae=l.y1,oe=l.y2;n.segpts=[ie,ae,ie,oe]}},rk.tryToCorrectInvalidPoints=function(e,t){var n=e._private.rscratch;if("bezier"===n.edgeType){var r=t.srcPos,i=t.tgtPos,a=t.srcW,o=t.srcH,s=t.tgtW,c=t.tgtH,l=t.srcShape,d=t.tgtShape,u=!Xm(n.startX)||!Xm(n.startY),p=!Xm(n.arrowStartX)||!Xm(n.arrowStartY),h=!Xm(n.endX)||!Xm(n.endY),f=!Xm(n.arrowEndX)||!Xm(n.arrowEndY),m=3*(this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth),g=bv({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),v=g<m,y=bv({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),b=y<m,_=!1;if(u||p||v){_=!0;var x={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},w=Math.sqrt(x.x*x.x+x.y*x.y),k={x:x.x/w,y:x.y/w},E=Math.max(a,o),C={x:n.ctrlpts[0]+2*k.x*E,y:n.ctrlpts[1]+2*k.y*E},S=l.intersectLine(r.x,r.y,a,o,C.x,C.y,0);v?(n.ctrlpts[0]=n.ctrlpts[0]+k.x*(m-g),n.ctrlpts[1]=n.ctrlpts[1]+k.y*(m-g)):(n.ctrlpts[0]=S[0]+k.x*m,n.ctrlpts[1]=S[1]+k.y*m)}if(h||f||b){_=!0;var A={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},T=Math.sqrt(A.x*A.x+A.y*A.y),I={x:A.x/T,y:A.y/T},O=Math.max(a,o),R={x:n.ctrlpts[0]+2*I.x*O,y:n.ctrlpts[1]+2*I.y*O},D=d.intersectLine(i.x,i.y,s,c,R.x,R.y,0);b?(n.ctrlpts[0]=n.ctrlpts[0]+I.x*(m-y),n.ctrlpts[1]=n.ctrlpts[1]+I.y*(m-y)):(n.ctrlpts[0]=D[0]+I.x*m,n.ctrlpts[1]=D[1]+I.y*m)}_&&this.findEndpoints(e)}},rk.storeAllpts=function(e){var t=e._private.rscratch;if("multibezier"===t.edgeType||"bezier"===t.edgeType||"self"===t.edgeType||"compound"===t.edgeType){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);var r;t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2==0?(r=t.allpts.length/2-1,t.midX=t.allpts[r],t.midY=t.allpts[r+1]):(r=t.allpts.length/2-3,.5,t.midX=wv(t.allpts[r],t.allpts[r+2],t.allpts[r+4],.5),t.midY=wv(t.allpts[r+1],t.allpts[r+3],t.allpts[r+5],.5))}else if("straight"===t.edgeType)t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if("segments"===t.edgeType)if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.segpts.length%4==0){var i=t.segpts.length/2,a=i-2;t.midX=(t.segpts[a]+t.segpts[i])/2,t.midY=(t.segpts[a+1]+t.segpts[i+1])/2}else{var o=t.segpts.length/2-1;t.midX=t.segpts[o],t.midY=t.segpts[o+1]}},rk.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||Xm(t.startX)&&Xm(t.startY)&&Xm(t.endX)&&Xm(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,zg("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},rk.findEdgeControlPoints=function(e){var t=this;if(e&&0!==e.length){for(var n=this,r=n.cy.hasCompoundNodes(),i={map:new Yg,get:function(e){var t=this.map.get(e[0]);return null!=t?t.get(e[1]):null},set:function(e,t){var n=this.map.get(e[0]);null==n&&(n=new Yg,this.map.set(e[0],n)),n.set(e[1],t)}},a=[],o=[],s=0;s<e.length;s++){var c=e[s],l=c._private,d=c.pstyle("curve-style").value;if(!c.removed()&&c.takesUpSpace())if("haystack"!==d){var u="unbundled-bezier"===d||"segments"===d||"straight"===d||"taxi"===d,p="unbundled-bezier"===d||"bezier"===d,h=l.source,f=l.target,m=[h.poolIndex(),f.poolIndex()].sort(),g=i.get(m);null==g&&(g={eles:[]},i.set(m,g),a.push(m)),g.eles.push(c),u&&(g.hasUnbundled=!0),p&&(g.hasBezier=!0)}else o.push(c)}for(var v=function(e){var o=a[e],s=i.get(o),c=void 0;if(!s.hasUnbundled){var l=s.eles[0].parallelEdges().filter((function(e){return e.isBundledBezier()}));Gg(s.eles),l.forEach((function(e){return s.eles.push(e)})),s.eles.sort((function(e,t){return e.poolIndex()-t.poolIndex()}))}var d=s.eles[0],u=d.source(),p=d.target();if(u.poolIndex()>p.poolIndex()){var h=u;u=p,p=h}var f=s.srcPos=u.position(),m=s.tgtPos=p.position(),g=s.srcW=u.outerWidth(),v=s.srcH=u.outerHeight(),y=s.tgtW=p.outerWidth(),b=s.tgtH=p.outerHeight(),_=s.srcShape=n.nodeShapes[t.getNodeShape(u)],x=s.tgtShape=n.nodeShapes[t.getNodeShape(p)];s.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var w=0;w<s.eles.length;w++){var k=s.eles[w],E=k[0]._private.rscratch,C=k.pstyle("curve-style").value,S="unbundled-bezier"===C||"segments"===C||"taxi"===C,A=!u.same(k.source());if(!s.calculatedIntersection&&u!==p&&(s.hasBezier||s.hasUnbundled)){s.calculatedIntersection=!0;var T=_.intersectLine(f.x,f.y,g,v,m.x,m.y,0),I=s.srcIntn=T,O=x.intersectLine(m.x,m.y,y,b,f.x,f.y,0),R=s.tgtIntn=O,D=s.intersectionPts={x1:T[0],x2:O[0],y1:T[1],y2:O[1]},P=s.posPts={x1:f.x,x2:m.x,y1:f.y,y2:m.y},L=O[1]-T[1],N=O[0]-T[0],M=Math.sqrt(N*N+L*L),F=s.vector={x:N,y:L},z=s.vectorNorm={x:F.x/M,y:F.y/M},B={x:-z.y,y:z.x};s.nodesOverlap=!Xm(M)||x.checkPoint(T[0],T[1],0,y,b,m.x,m.y)||_.checkPoint(O[0],O[1],0,g,v,f.x,f.y),s.vectorNormInverse=B,c={nodesOverlap:s.nodesOverlap,dirCounts:s.dirCounts,calculatedIntersection:!0,hasBezier:s.hasBezier,hasUnbundled:s.hasUnbundled,eles:s.eles,srcPos:m,tgtPos:f,srcW:y,srcH:b,tgtW:g,tgtH:v,srcIntn:R,tgtIntn:I,srcShape:x,tgtShape:_,posPts:{x1:P.x2,y1:P.y2,x2:P.x1,y2:P.y1},intersectionPts:{x1:D.x2,y1:D.y2,x2:D.x1,y2:D.y1},vector:{x:-F.x,y:-F.y},vectorNorm:{x:-z.x,y:-z.y},vectorNormInverse:{x:-B.x,y:-B.y}}}var j=A?c:s;E.nodesOverlap=j.nodesOverlap,E.srcIntn=j.srcIntn,E.tgtIntn=j.tgtIntn,r&&(u.isParent()||u.isChild()||p.isParent()||p.isChild())&&(u.parents().anySame(p)||p.parents().anySame(u)||u.same(p)&&u.isParent())?t.findCompoundLoopPoints(k,j,w,S):u===p?t.findLoopPoints(k,j,w,S):"segments"===C?t.findSegmentsPoints(k,j):"taxi"===C?t.findTaxiPoints(k,j):"straight"===C||!S&&s.eles.length%2==1&&w===Math.floor(s.eles.length/2)?t.findStraightEdgePoints(k):t.findBezierPoints(k,j,w,S,A),t.findEndpoints(k),t.tryToCorrectInvalidPoints(k,j),t.checkForInvalidEdgeWarning(k),t.storeAllpts(k),t.storeEdgeProjections(k),t.calculateArrowAngles(k),t.recalculateEdgeLabelProjections(k),t.calculateLabelAngles(k)}},y=0;y<a.length;y++)v(y);this.findHaystackPoints(o)}},rk.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if("segments"===t.edgeType)return this.recalculateRenderedStyle(e),ik(t.segpts)},rk.getControlPoints=function(e){var t=e[0]._private.rscratch,n=t.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return this.recalculateRenderedStyle(e),ik(t.ctrlpts)},rk.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var ak={manualEndptToPx:function(e,t){var n=e.position(),r=e.outerWidth(),i=e.outerHeight();if(2===t.value.length){var a=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(a[0]=a[0]*r),"%"===t.units[1]&&(a[1]=a[1]*i),a[0]+=n.x,a[1]+=n.y,a}var o=t.pfValue[0];o=-Math.PI/2+o;var s=2*Math.max(r,i),c=[n.x+Math.cos(o)*s,n.y+Math.sin(o)*s];return this.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,r,i,c[0],c[1],0)},findEndpoints:function(e){var t,n,r,i,a,o=this,s=e.source()[0],c=e.target()[0],l=s.position(),d=c.position(),u=e.pstyle("target-arrow-shape").value,p=e.pstyle("source-arrow-shape").value,h=e.pstyle("target-distance-from-node").pfValue,f=e.pstyle("source-distance-from-node").pfValue,m=e.pstyle("curve-style").value,g=e._private.rscratch,v=g.edgeType,y="self"===v||"compound"===v,b="bezier"===v||"multibezier"===v||y,_="bezier"!==v,x="straight"===v||"segments"===v,w="segments"===v,k=b||_||x,E=y||"taxi"===m,C=e.pstyle("source-endpoint"),S=E?"outside-to-node":C.value,A=e.pstyle("target-endpoint"),T=E?"outside-to-node":A.value;if(g.srcManEndpt=C,g.tgtManEndpt=A,b){var I=[g.ctrlpts[0],g.ctrlpts[1]];n=_?[g.ctrlpts[g.ctrlpts.length-2],g.ctrlpts[g.ctrlpts.length-1]]:I,r=I}else if(x){var O=w?g.segpts.slice(0,2):[d.x,d.y];n=w?g.segpts.slice(g.segpts.length-2):[l.x,l.y],r=O}if("inside-to-node"===T)t=[d.x,d.y];else if(A.units)t=this.manualEndptToPx(c,A);else if("outside-to-line"===T)t=g.tgtIntn;else if("outside-to-node"===T||"outside-to-node-or-label"===T?i=n:"outside-to-line"!==T&&"outside-to-line-or-label"!==T||(i=[l.x,l.y]),t=o.nodeShapes[this.getNodeShape(c)].intersectLine(d.x,d.y,c.outerWidth(),c.outerHeight(),i[0],i[1],0),"outside-to-node-or-label"===T||"outside-to-line-or-label"===T){var R=c._private.rscratch,D=R.labelWidth,P=R.labelHeight,L=R.labelX,N=R.labelY,M=D/2,F=P/2,z=c.pstyle("text-valign").value;"top"===z?N-=F:"bottom"===z&&(N+=F);var B=c.pstyle("text-halign").value;"left"===B?L-=M:"right"===B&&(L+=M);var j=qv(i[0],i[1],[L-M,N-F,L+M,N-F,L+M,N+F,L-M,N+F],d.x,d.y);if(j.length>0){var H=l,V=_v(H,mv(t)),$=_v(H,mv(j)),U=V;if($<V&&(t=j,U=$),j.length>2)_v(H,{x:j[2],y:j[3]})<U&&(t=[j[2],j[3]])}}var G=Xv(t,n,o.arrowShapes[u].spacing(e)+h),q=Xv(t,n,o.arrowShapes[u].gap(e)+h);if(g.endX=q[0],g.endY=q[1],g.arrowEndX=G[0],g.arrowEndY=G[1],"inside-to-node"===S)t=[l.x,l.y];else if(C.units)t=this.manualEndptToPx(s,C);else if("outside-to-line"===S)t=g.srcIntn;else if("outside-to-node"===S||"outside-to-node-or-label"===S?a=r:"outside-to-line"!==S&&"outside-to-line-or-label"!==S||(a=[d.x,d.y]),t=o.nodeShapes[this.getNodeShape(s)].intersectLine(l.x,l.y,s.outerWidth(),s.outerHeight(),a[0],a[1],0),"outside-to-node-or-label"===S||"outside-to-line-or-label"===S){var X=s._private.rscratch,Y=X.labelWidth,K=X.labelHeight,W=X.labelX,Z=X.labelY,Q=Y/2,J=K/2,ee=s.pstyle("text-valign").value;"top"===ee?Z-=J:"bottom"===ee&&(Z+=J);var te=s.pstyle("text-halign").value;"left"===te?W-=Q:"right"===te&&(W+=Q);var ne=qv(a[0],a[1],[W-Q,Z-J,W+Q,Z-J,W+Q,Z+J,W-Q,Z+J],l.x,l.y);if(ne.length>0){var re=d,ie=_v(re,mv(t)),ae=_v(re,mv(ne)),oe=ie;if(ae<ie&&(t=[ne[0],ne[1]],oe=ae),ne.length>2)_v(re,{x:ne[2],y:ne[3]})<oe&&(t=[ne[2],ne[3]])}}var se=Xv(t,r,o.arrowShapes[p].spacing(e)+f),ce=Xv(t,r,o.arrowShapes[p].gap(e)+f);g.startX=ce[0],g.startY=ce[1],g.arrowStartX=se[0],g.arrowStartY=se[1],k&&(Xm(g.startX)&&Xm(g.startY)&&Xm(g.endX)&&Xm(g.endY)?g.badLine=!1:g.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}}},ok={};function sk(e,t,n){for(var r=function(e,t,n,r){return wv(e,t,n,r)},i=t._private.rstyle.bezierPts,a=0;a<e.bezierProjPcts.length;a++){var o=e.bezierProjPcts[a];i.push({x:r(n[0],n[2],n[4],o),y:r(n[1],n[3],n[5],o)})}}ok.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,r=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===r||"bezier"===r||"self"===r||"compound"===r){t.rstyle.bezierPts=[];for(var i=0;i+5<n.allpts.length;i+=4)sk(this,e,n.allpts.slice(i,i+6))}else if("segments"===r){var a=t.rstyle.linePts=[];for(i=0;i+1<n.allpts.length;i+=2)a.push({x:n.allpts[i],y:n.allpts[i+1]})}else if("haystack"===r){var o=n.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},ok.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var ck={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!eg(t)){var n,r,i=e._private,a=e.width(),o=e.height(),s=e.padding(),c=e.position(),l=e.pstyle("text-halign").strValue,d=e.pstyle("text-valign").strValue,u=i.rscratch,p=i.rstyle;switch(l){case"left":n=c.x-a/2-s;break;case"right":n=c.x+a/2+s;break;default:n=c.x}switch(d){case"top":r=c.y-o/2-s;break;case"bottom":r=c.y+o/2+s;break;default:r=c.y}u.labelX=n,u.labelY=r,p.labelX=n,p.labelY=r,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}}},lk=function(e,t){var n=Math.atan(t/e);return 0===e&&n<0&&(n*=-1),n},dk=function(e,t){var n=t.x-e.x,r=t.y-e.y;return lk(n,r)};ck.recalculateEdgeLabelProjections=function(e){var t,n=e._private,r=n.rscratch,i=this,a={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(a.mid||a.source||a.target){t={x:r.midX,y:r.midY};var o=function(e,t,r){Xg(n.rscratch,e,t,r),Xg(n.rstyle,e,t,r)};o("labelX",null,t.x),o("labelY",null,t.y);var s=lk(r.midDispX,r.midDispY);o("labelAutoAngle",null,s);var c=function e(){if(e.cache)return e.cache;for(var t=[],a=0;a+5<r.allpts.length;a+=4){var o={x:r.allpts[a],y:r.allpts[a+1]},s={x:r.allpts[a+2],y:r.allpts[a+3]},c={x:r.allpts[a+4],y:r.allpts[a+5]};t.push({p0:o,p1:s,p2:c,startDist:0,length:0,segments:[]})}var l=n.rstyle.bezierPts,d=i.bezierProjPcts.length;function u(e,t,n,r,i){var a=bv(t,n),o=e.segments[e.segments.length-1],s={p0:t,p1:n,t0:r,t1:i,startDist:o?o.startDist+o.length:0,length:a};e.segments.push(s),e.length+=a}for(var p=0;p<t.length;p++){var h=t[p],f=t[p-1];f&&(h.startDist=f.startDist+f.length),u(h,h.p0,l[p*d],0,i.bezierProjPcts[0]);for(var m=0;m<d-1;m++)u(h,l[p*d+m],l[p*d+m+1],i.bezierProjPcts[m],i.bezierProjPcts[m+1]);u(h,l[p*d+d-1],h.p2,i.bezierProjPcts[d-1],1)}return e.cache=t},l=function(n){var i,s="source"===n;if(a[n]){var l=e.pstyle(n+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var d,u=c(),p=0,h=0,f=0;f<u.length;f++){for(var m=u[s?f:u.length-1-f],g=0;g<m.segments.length;g++){var v=m.segments[s?g:m.segments.length-1-g],y=f===u.length-1&&g===m.segments.length-1;if(p=h,(h+=v.length)>=l||y){d={cp:m,segment:v};break}}if(d)break}var b=d.cp,_=d.segment,x=(l-p)/_.length,w=_.t1-_.t0,k=s?_.t0+w*x:_.t1-w*x;k=Ev(0,k,1),t=kv(b.p0,b.p1,b.p2,k),i=function(e,t,n,r){var i=Ev(0,r-.001,1),a=Ev(0,r+.001,1),o=kv(e,t,n,i),s=kv(e,t,n,a);return dk(o,s)}(b.p0,b.p1,b.p2,k);break;case"straight":case"segments":case"haystack":for(var E,C,S,A,T=0,I=r.allpts.length,O=0;O+3<I&&(s?(S={x:r.allpts[O],y:r.allpts[O+1]},A={x:r.allpts[O+2],y:r.allpts[O+3]}):(S={x:r.allpts[I-2-O],y:r.allpts[I-1-O]},A={x:r.allpts[I-4-O],y:r.allpts[I-3-O]}),C=T,!((T+=E=bv(S,A))>=l));O+=2);var R=(l-C)/E;R=Ev(0,R,1),t=function(e,t,n,r){var i=t.x-e.x,a=t.y-e.y,o=bv(e,t),s=i/o,c=a/o;return n=null==n?0:n,r=null!=r?r:n*o,{x:e.x+s*r,y:e.y+c*r}}(S,A,R),i=dk(S,A)}o("labelX",n,t.x),o("labelY",n,t.y),o("labelAutoAngle",n,i)}};l("source"),l("target"),this.applyLabelDimensions(e)}},ck.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},ck.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,r),a=e.pstyle("line-height").pfValue,o=e.pstyle("text-wrap").strValue,s=qg(n.rscratch,"labelWrapCachedLines",t)||[],c="wrap"!==o?1:Math.max(s.length,1),l=i.height/c,d=l*a,u=i.width,p=i.height+(c-1)*(a-1)*l;Xg(n.rstyle,"labelWidth",t,u),Xg(n.rscratch,"labelWidth",t,u),Xg(n.rstyle,"labelHeight",t,p),Xg(n.rscratch,"labelHeight",t,p),Xg(n.rscratch,"labelLineHeight",t,d)},ck.getLabelText=function(e,t){var n=e._private,r=t?t+"-":"",i=e.pstyle(r+"label").strValue,a=e.pstyle("text-transform").value,o=function(e,r){return r?(Xg(n.rscratch,e,t,r),r):qg(n.rscratch,e,t)};if(!i)return"";"none"==a||("uppercase"==a?i=i.toUpperCase():"lowercase"==a&&(i=i.toLowerCase()));var s=e.pstyle("text-wrap").value;if("wrap"===s){var c=o("labelKey");if(null!=c&&o("labelWrapKey")===c)return o("labelWrapCachedText");for(var l=i.split("\n"),d=e.pstyle("text-max-width").pfValue,u="anywhere"===e.pstyle("text-overflow-wrap").value,p=[],h=/[\s\u200b]+/,f=u?"":" ",m=0;m<l.length;m++){var g=l[m],v=this.calculateLabelDimensions(e,g).width;if(u){var y=g.split("").join("â€‹");g=y}if(v>d){for(var b=g.split(h),_="",x=0;x<b.length;x++){var w=b[x],k=0===_.length?w:_+f+w;this.calculateLabelDimensions(e,k).width<=d?_+=w+f:(_&&p.push(_),_=w+f)}_.match(/^[\s\u200b]+$/)||p.push(_)}else p.push(g)}o("labelWrapCachedLines",p),i=o("labelWrapCachedText",p.join("\n")),o("labelWrapKey",c)}else if("ellipsis"===s){var E=e.pstyle("text-max-width").pfValue,C="",S=!1;if(this.calculateLabelDimensions(e,i).width<E)return i;for(var A=0;A<i.length;A++){if(this.calculateLabelDimensions(e,C+i[A]+"â€¦").width>E)break;C+=i[A],A===i.length-1&&(S=!0)}return S||(C+="â€¦"),C}return i},ck.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if("auto"!==t)return t;if(!e.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},ck.calculateLabelDimensions=function(e,t){var n=Cg(t,e._private.labelDimsKey),r=this.labelDimCache||(this.labelDimCache=[]),i=r[n];if(null!=i)return i;var a=e.pstyle("font-style").strValue,o=e.pstyle("font-size").pfValue,s=e.pstyle("font-family").strValue,c=e.pstyle("font-weight").strValue,l=this.labelCalcCanvas,d=this.labelCalcCanvasContext;if(!l){l=this.labelCalcCanvas=document.createElement("canvas"),d=this.labelCalcCanvasContext=l.getContext("2d");var u=l.style;u.position="absolute",u.left="-9999px",u.top="-9999px",u.zIndex="-1",u.visibility="hidden",u.pointerEvents="none"}d.font="".concat(a," ").concat(c," ").concat(o,"px ").concat(s);for(var p=0,h=0,f=t.split("\n"),m=0;m<f.length;m++){var g=f[m],v=d.measureText(g),y=Math.ceil(v.width),b=o;p=Math.max(y,p),h+=b}return p+=0,h+=0,r[n]={width:p,height:h}},ck.calculateLabelAngle=function(e,t){var n=e._private.rscratch,r=e.isEdge(),i=t?t+"-":"",a=e.pstyle(i+"text-rotation"),o=a.strValue;return"none"===o?0:r&&"autorotate"===o?n.labelAutoAngle:"autorotate"===o?0:a.pfValue},ck.calculateLabelAngles=function(e){var t=this,n=e.isEdge(),r=e._private.rscratch;r.labelAngle=t.calculateLabelAngle(e),n&&(r.sourceLabelAngle=t.calculateLabelAngle(e,"source"),r.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var uk={},pk=!1;uk.getNodeShape=function(e){var t=e.pstyle("shape").value;if("cutrectangle"===t&&(e.width()<28||e.height()<28))return pk||(zg("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),pk=!0),"rectangle";if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"round-rectangle"===t||"cutrectangle"===t||"cut-rectangle"===t||"barrel"===t?t:"rectangle";if("polygon"===t){var n=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return t};var hk={registerCalculationListeners:function(){var e=this.cy,t=e.collection(),n=this,r=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.merge(e),n)for(var r=0;r<e.length;r++){var i=e[r],a=i._private,o=a.rstyle;o.clean=!1,o.cleanConnected=!1}};n.binder(e).on("bounds.* dirty.*",(function(e){var t=e.target;r(t)})).on("style.* background.*",(function(e){var t=e.target;r(t,!1)}));var i=function(i){if(i){var a=n.onUpdateEleCalcsFns;t.cleanStyle();for(var o=0;o<t.length;o++){var s=t[o],c=s._private.rstyle;s.isNode()&&!c.cleanConnected&&(r(s.connectedEdges()),c.cleanConnected=!0)}if(a)for(var l=0;l<a.length;l++){(0,a[l])(i,t)}n.recalculateRenderedStyle(t),t=e.collection()}};n.flushRenderedStyleQueue=function(){i(!0)},n.beforeRender(i,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var n=function(e){return e._private.rstyle.cleanConnected},r=[],i=[];if(!this.destroyed){void 0===t&&(t=!0);for(var a=0;a<e.length;a++){var o=e[a],s=o._private,c=s.rstyle;!o.isEdge()||n(o.source())&&n(o.target())||(c.clean=!1),t&&c.clean||o.removed()||"none"!==o.pstyle("display").value&&("nodes"===s.group?i.push(o):r.push(o),c.clean=!0)}for(var l=0;l<i.length;l++){var d=i[l],u=d._private.rstyle,p=d.position();this.recalculateNodeLabelProjection(d),u.nodeX=p.x,u.nodeY=p.y,u.nodeW=d.pstyle("width").pfValue,u.nodeH=d.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var h=0;h<r.length;h++){var f=r[h]._private,m=f.rstyle,g=f.rscratch;m.srcX=g.arrowStartX,m.srcY=g.arrowStartY,m.tgtX=g.arrowEndX,m.tgtY=g.arrowEndY,m.midX=g.midX,m.midY=g.midY,m.labelAngle=g.labelAngle,m.sourceLabelAngle=g.sourceLabelAngle,m.targetLabelAngle=g.targetLabelAngle}}}},fk={updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var r=(i=e[n])._private.rscratch;i.grabbed()&&!i.isParent()?t.push(i):r.inDragLayer?e.drag.push(i):e.nondrag.push(i)}for(n=0;n<t.length;n++){var i=t[n];e.drag.push(i)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(nx),t.interactive=t.filter((function(e){return e.interactive()})),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}},mk={};[tk,nk,rk,ak,ok,ck,uk,hk,fk].forEach((function(e){lg(mk,e)}));var gk={getCachedImage:function(e,t,n){var r=this.imageCache=this.imageCache||{},i=r[e];if(i)return i.image.complete||i.image.addEventListener("load",n),i.image;var a=(i=r[e]=r[e]||{}).image=new Image;a.addEventListener("load",n),a.addEventListener("error",(function(){a.error=!0}));var o="data:";return e.substring(0,o.length).toLowerCase()===o||(a.crossOrigin=t),a.src=e,a}},vk={registerBinding:function(e,t,n,r){var i=Array.prototype.slice.apply(arguments,[1]),a=this.binder(e);return a.on.apply(a,i)}};vk.binder=function(e){var t,n=this,r=e===window||e===document||e===document.body||(t=e,"undefined"!=typeof HTMLElement&&t instanceof HTMLElement);if(null==n.supportsPassiveEvents){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});window.addEventListener("test",null,a)}catch(e){}n.supportsPassiveEvents=i}var o=function(t,i,a){var o=Array.prototype.slice.call(arguments);return r&&n.supportsPassiveEvents&&(o[2]={capture:null!=a&&a,passive:!1,once:!1}),n.bindings.push({target:e,args:o}),(e.addEventListener||e.on).apply(e,o),this};return{on:o,addEventListener:o,addListener:o,bind:o}},vk.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},vk.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},vk.load=function(){var e=this,t=function(e){return e.selected()},n=function(t,n,r,i){null==t&&(t=e.cy);for(var a=0;a<n.length;a++){var o=n[a];t.emit({originalEvent:r,type:o,position:i})}},r=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},i=function(t,n){var r=!0;if(e.cy.hasCompoundNodes()&&t&&t.pannable())for(var i=0;n&&i<n.length;i++){if((t=n[i]).isNode()&&t.isParent()&&!t.pannable()){r=!1;break}}else r=!0;return r},a=function(e){e[0]._private.rscratch.inDragLayer=!0},o=function(e){e[0]._private.rscratch.isGrabTarget=!0},s=function(e,t){var n=t.addToList;n.has(e)||(n.merge(e),function(e){e[0]._private.grabbed=!0}(e))},c=function(t,n){n=n||{};var r=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(a),t.neighborhood().stdFilter((function(e){return!r||e.isEdge()})).forEach(a)),n.addToList&&t.forEach((function(e){s(e,n)})),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(a),n.connectedEdges().forEach(a)),t.addToList&&t.addToList.unmerge(n)}}(t,n),u(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},l=c,d=function(t){t&&(e.getCachedZSortedEles().forEach((function(e){!function(e){e[0]._private.grabbed=!1}(e),function(e){e[0]._private.rscratch.inDragLayer=!1}(e),function(e){e[0]._private.rscratch.isGrabTarget=!1}(e)})),e.updateCachedGrabbedEles())},u=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var r=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),i=r.connectedEdges();t.inDragLayer&&(i.forEach(a),r.forEach(a)),t.addToList&&r.forEach((function(e){s(e,t)}))}}},p=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},h="undefined"!=typeof MutationObserver,f="undefined"!=typeof ResizeObserver;h?(e.removeObserver=new MutationObserver((function(t){for(var n=0;n<t.length;n++){var r=t[n].removedNodes;if(r)for(var i=0;i<r.length;i++){if(r[i]===e.container){e.destroy();break}}}})),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",(function(t){e.destroy()}));var m=Tm((function(){e.cy.resize()}),100);h&&(e.styleObserver=new MutationObserver(m),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(window,"resize",m),f&&(e.resizeObserver=new ResizeObserver(m),e.resizeObserver.observe(e.container));var g=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,(function(t){e.registerBinding(t,"transitionend",g),e.registerBinding(t,"animationend",g),e.registerBinding(t,"scroll",g)})),e.registerBinding(e.container,"contextmenu",(function(e){e.preventDefault()}));var v=function(t){for(var n=e.findContainerClientCoords(),r=n[0],i=n[1],a=n[2],o=n[3],s=t.touches?t.touches:[t],c=!1,l=0;l<s.length;l++){var d=s[l];if(r<=d.clientX&&d.clientX<=r+a&&i<=d.clientY&&d.clientY<=i+o){c=!0;break}}if(!c)return!1;for(var u=e.container,p=t.target.parentNode,h=!1;p;){if(p===u){h=!0;break}p=p.parentNode}return!!h};e.registerBinding(e.container,"mousedown",(function(t){if(v(t)){t.preventDefault(),p(),e.hoverData.capture=!0,e.hoverData.which=t.which;var r=e.cy,i=[t.clientX,t.clientY],a=e.projectIntoViewport(i[0],i[1]),s=e.selection,d=e.findNearestElements(a[0],a[1],!0,!1),u=d[0],h=e.dragData.possibleDragElements;e.hoverData.mdownPos=a,e.hoverData.mdownGPos=i;if(3==t.which){e.hoverData.cxtStarted=!0;var f={originalEvent:t,type:"cxttapstart",position:{x:a[0],y:a[1]}};u?(u.activate(),u.emit(f),e.hoverData.down=u):r.emit(f),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==t.which){if(u&&u.activate(),null!=u&&e.nodeIsGrabbable(u)){var m=function(e){return{originalEvent:t,type:e,position:{x:a[0],y:a[1]}}};if(o(u),u.selected()){h=e.dragData.possibleDragElements=r.collection();var g=r.$((function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)}));c(g,{addToList:h}),u.emit(m("grabon")),g.forEach((function(e){e.emit(m("grab"))}))}else h=e.dragData.possibleDragElements=r.collection(),l(u,{addToList:h}),u.emit(m("grabon")).emit(m("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=u,e.hoverData.downs=d,e.hoverData.downTime=(new Date).getTime(),n(u,["mousedown","tapstart","vmousedown"],t,{x:a[0],y:a[1]}),null==u?(s[4]=1,e.data.bgActivePosistion={x:a[0],y:a[1]},e.redrawHint("select",!0),e.redraw()):u.pannable()&&(s[4]=1),e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout((function(){if(!e.hoverData.tapholdCancelled){var n=e.hoverData.down;n?n.emit({originalEvent:t,type:"taphold",position:{x:a[0],y:a[1]}}):r.emit({originalEvent:t,type:"taphold",position:{x:a[0],y:a[1]}})}}),e.tapholdDuration)}s[0]=s[2]=a[0],s[1]=s[3]=a[1]}}),!1),e.registerBinding(window,"mousemove",(function(t){if(e.hoverData.capture||v(t)){var a=!1,o=e.cy,s=o.zoom(),l=[t.clientX,t.clientY],u=e.projectIntoViewport(l[0],l[1]),p=e.hoverData.mdownPos,h=e.hoverData.mdownGPos,f=e.selection,m=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(m=e.findNearestElement(u[0],u[1],!0,!1));var g,y=e.hoverData.last,b=e.hoverData.down,_=[u[0]-f[2],u[1]-f[3]],x=e.dragData.possibleDragElements;if(h){var w=l[0]-h[0],k=w*w,E=l[1]-h[1],C=k+E*E;e.hoverData.isOverThresholdDrag=g=C>=e.desktopTapThreshold2}var S=r(t);g&&(e.hoverData.tapholdCancelled=!0);a=!0,n(m,["mousemove","vmousemove","tapdrag"],t,{x:u[0],y:u[1]});var A=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||o.emit({originalEvent:t,type:"boxstart",position:{x:u[0],y:u[1]}}),f[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(g){var T={originalEvent:t,type:"cxtdrag",position:{x:u[0],y:u[1]}};b?b.emit(T):o.emit(T),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&m===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:u[0],y:u[1]}}),e.hoverData.cxtOver=m,m&&m.emit({originalEvent:t,type:"cxtdragover",position:{x:u[0],y:u[1]}}))}}else if(e.hoverData.dragging){if(a=!0,o.panningEnabled()&&o.userPanningEnabled()){var I;if(e.hoverData.justStartedPan){var O=e.hoverData.mdownPos;I={x:(u[0]-O[0])*s,y:(u[1]-O[1])*s},e.hoverData.justStartedPan=!1}else I={x:_[0]*s,y:_[1]*s};o.panBy(I),e.hoverData.dragged=!0}u=e.projectIntoViewport(t.clientX,t.clientY)}else if(1!=f[4]||null!=b&&!b.pannable()){if(b&&b.pannable()&&b.active()&&b.unactivate(),b&&b.grabbed()||m==y||(y&&n(y,["mouseout","tapdragout"],t,{x:u[0],y:u[1]}),m&&n(m,["mouseover","tapdragover"],t,{x:u[0],y:u[1]}),e.hoverData.last=m),b)if(g){if(o.boxSelectionEnabled()&&S)b&&b.grabbed()&&(d(x),b.emit("freeon"),x.emit("free"),e.dragData.didDrag&&(b.emit("dragfreeon"),x.emit("dragfree"))),A();else if(b&&b.grabbed()&&e.nodeIsDraggable(b)){var R=!e.dragData.didDrag;R&&e.redrawHint("eles",!0),e.dragData.didDrag=!0;var D=o.collection();e.hoverData.draggingEles||c(x,{inDragLayer:!0});var P={x:0,y:0};if(Xm(_[0])&&Xm(_[1])&&(P.x+=_[0],P.y+=_[1],R)){var L=e.hoverData.dragDelta;L&&Xm(L[0])&&Xm(L[1])&&(P.x+=L[0],P.y+=L[1])}for(var N=0;N<x.length;N++){var M=x[N];e.nodeIsDraggable(M)&&M.grabbed()&&D.push(M)}e.hoverData.draggingEles=!0,D.silentShift(P).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(_[0]),t.push(_[1])):(t[0]+=_[0],t[1]+=_[1])}();a=!0}else if(g){if(e.hoverData.dragging||!o.boxSelectionEnabled()||!S&&o.panningEnabled()&&o.userPanningEnabled()){if(!e.hoverData.selecting&&o.panningEnabled()&&o.userPanningEnabled()){i(b,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,f[4]=0,e.data.bgActivePosistion=mv(p),e.redrawHint("select",!0),e.redraw())}}else A();b&&b.pannable()&&b.active()&&b.unactivate()}return f[2]=u[0],f[3]=u[1],a?(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1):void 0}}),!1),e.registerBinding(window,"mouseup",(function(i){if(e.hoverData.capture){e.hoverData.capture=!1;var a=e.cy,o=e.projectIntoViewport(i.clientX,i.clientY),s=e.selection,c=e.findNearestElement(o[0],o[1],!0,!1),l=e.dragData.possibleDragElements,u=e.hoverData.down,p=r(i);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,u&&u.unactivate(),3===e.hoverData.which){var h={originalEvent:i,type:"cxttapend",position:{x:o[0],y:o[1]}};if(u?u.emit(h):a.emit(h),!e.hoverData.cxtDragged){var f={originalEvent:i,type:"cxttap",position:{x:o[0],y:o[1]}};u?u.emit(f):a.emit(f)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(n(c,["mouseup","tapend","vmouseup"],i,{x:o[0],y:o[1]}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||n(u,["click","tap","vclick"],i,{x:o[0],y:o[1]}),null!=u||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||r(i)||(a.$(t).unselect(["tapunselect"]),l.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=l=a.collection()),c!=u||e.dragData.didDrag||e.hoverData.selecting||null!=c&&c._private.selectable&&(e.hoverData.dragging||("additive"===a.selectionType()||p?c.selected()?c.unselect(["tapunselect"]):c.select(["tapselect"]):p||(a.$(t).unmerge(c).unselect(["tapunselect"]),c.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var m=a.collection(e.getAllInBox(s[0],s[1],s[2],s[3]));e.redrawHint("select",!0),m.length>0&&e.redrawHint("eles",!0),a.emit({type:"boxend",originalEvent:i,position:{x:o[0],y:o[1]}});var g=function(e){return e.selectable()&&!e.selected()};"additive"===a.selectionType()||p||a.$(t).unmerge(m).unselect(),m.emit("box").stdFilter(g).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!s[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var v=u&&u.grabbed();d(l),v&&(u.emit("freeon"),l.emit("free"),e.dragData.didDrag&&(u.emit("dragfreeon"),l.emit("dragfree")))}}s[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null}}),!1);var y,b,_,x,w,k,E,C,S,A,T,I,O,R=function(t){if(!e.scrollingPage){var n=e.cy,r=n.zoom(),i=n.pan(),a=e.projectIntoViewport(t.clientX,t.clientY),o=[a[0]*r+i.x,a[1]*r+i.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||0!==e.selection[4])t.preventDefault();else if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){var s;t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout((function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()}),150),s=null!=t.deltaY?t.deltaY/-250:null!=t.wheelDeltaY?t.wheelDeltaY/1e3:t.wheelDelta/1e3,s*=e.wheelSensitivity,1===t.deltaMode&&(s*=33);var c=n.zoom()*Math.pow(10,s);"gesturechange"===t.type&&(c=e.gestureStartZoom*t.scale),n.zoom({level:c,renderedPosition:{x:o[0],y:o[1]}})}}};e.registerBinding(e.container,"wheel",R,!0),e.registerBinding(window,"scroll",(function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout((function(){e.scrollingPage=!1}),250)}),!0),e.registerBinding(e.container,"gesturestart",(function(t){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||t.preventDefault()}),!0),e.registerBinding(e.container,"gesturechange",(function(t){e.hasTouchStarted||R(t)}),!0),e.registerBinding(e.container,"mouseout",(function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:n[0],y:n[1]}})}),!1),e.registerBinding(e.container,"mouseover",(function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:n[0],y:n[1]}})}),!1);var D,P,L,N,M=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},F=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};if(e.registerBinding(e.container,"touchstart",D=function(t){if(e.hasTouchStarted=!0,v(t)){p(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var r=e.cy,i=e.touchData.now,a=e.touchData.earlier;if(t.touches[0]){var s=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);i[0]=s[0],i[1]=s[1]}if(t.touches[1]){s=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);i[2]=s[0],i[3]=s[1]}if(t.touches[2]){s=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);i[4]=s[0],i[5]=s[1]}if(t.touches[1]){e.touchData.singleTouchMoved=!0,d(e.dragData.touchDragEles);var u=e.findContainerClientCoords();S=u[0],A=u[1],T=u[2],I=u[3],y=t.touches[0].clientX-S,b=t.touches[0].clientY-A,_=t.touches[1].clientX-S,x=t.touches[1].clientY-A,O=0<=y&&y<=T&&0<=_&&_<=T&&0<=b&&b<=I&&0<=x&&x<=I;var h=r.pan(),f=r.zoom();w=M(y,b,_,x),k=F(y,b,_,x),C=[((E=[(y+_)/2,(b+x)/2])[0]-h.x)/f,(E[1]-h.y)/f];if(k<4e4&&!t.touches[2]){var m=e.findNearestElement(i[0],i[1],!0,!0),g=e.findNearestElement(i[2],i[3],!0,!0);return m&&m.isNode()?(m.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=m):g&&g.isNode()?(g.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=g):r.emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(t.touches[2])r.boxSelectionEnabled()&&t.preventDefault();else if(t.touches[1]);else if(t.touches[0]){var R=e.findNearestElements(i[0],i[1],!0,!0),D=R[0];if(null!=D&&(D.activate(),e.touchData.start=D,e.touchData.starts=R,e.nodeIsGrabbable(D))){var P=e.dragData.touchDragEles=r.collection(),L=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),D.selected()?(L=r.$((function(t){return t.selected()&&e.nodeIsGrabbable(t)})),c(L,{addToList:P})):l(D,{addToList:P}),o(D);var N=function(e){return{originalEvent:t,type:e,position:{x:i[0],y:i[1]}}};D.emit(N("grabon")),L?L.forEach((function(e){e.emit(N("grab"))})):D.emit(N("grab"))}n(D,["touchstart","tapstart","vmousedown"],t,{x:i[0],y:i[1]}),null==D&&(e.data.bgActivePosistion={x:s[0],y:s[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout((function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||n(e.touchData.start,["taphold"],t,{x:i[0],y:i[1]})}),e.tapholdDuration)}if(t.touches.length>=1){for(var z=e.touchData.startPosition=[],B=0;B<i.length;B++)z[B]=a[B]=i[B];var j=t.touches[0];e.touchData.startGPosition=[j.clientX,j.clientY]}}},!1),e.registerBinding(window,"touchmove",P=function(t){var r=e.touchData.capture;if(r||v(t)){var a=e.selection,o=e.cy,s=e.touchData.now,l=e.touchData.earlier,u=o.zoom();if(t.touches[0]){var p=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=p[0],s[1]=p[1]}if(t.touches[1]){p=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);s[2]=p[0],s[3]=p[1]}if(t.touches[2]){p=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);s[4]=p[0],s[5]=p[1]}var h,f=e.touchData.startGPosition;if(r&&t.touches[0]&&f){for(var m=[],g=0;g<s.length;g++)m[g]=s[g]-l[g];var E=t.touches[0].clientX-f[0],T=E*E,I=t.touches[0].clientY-f[1];h=T+I*I>=e.touchTapThreshold2}if(r&&e.touchData.cxt){t.preventDefault();var R=t.touches[0].clientX-S,D=t.touches[0].clientY-A,P=t.touches[1].clientX-S,L=t.touches[1].clientY-A,N=F(R,D,P,L);if(N/k>=2.25||N>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var z={originalEvent:t,type:"cxttapend",position:{x:s[0],y:s[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(z),e.touchData.start=null):o.emit(z)}}if(r&&e.touchData.cxt){z={originalEvent:t,type:"cxtdrag",position:{x:s[0],y:s[1]}};e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(z):o.emit(z),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var B=e.findNearestElement(s[0],s[1],!0,!0);e.touchData.cxtOver&&B===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:s[0],y:s[1]}}),e.touchData.cxtOver=B,B&&B.emit({originalEvent:t,type:"cxtdragover",position:{x:s[0],y:s[1]}}))}else if(r&&t.touches[2]&&o.boxSelectionEnabled())t.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||o.emit({originalEvent:t,type:"boxstart",position:{x:s[0],y:s[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,a[4]=1,a&&0!==a.length&&void 0!==a[0]?(a[2]=(s[0]+s[2]+s[4])/3,a[3]=(s[1]+s[3]+s[5])/3):(a[0]=(s[0]+s[2]+s[4])/3,a[1]=(s[1]+s[3]+s[5])/3,a[2]=(s[0]+s[2]+s[4])/3+1,a[3]=(s[1]+s[3]+s[5])/3+1),e.redrawHint("select",!0),e.redraw();else if(r&&t.touches[1]&&!e.touchData.didSelect&&o.zoomingEnabled()&&o.panningEnabled()&&o.userZoomingEnabled()&&o.userPanningEnabled()){if(t.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),J=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var j=0;j<J.length;j++){var H=J[j]._private;H.grabbed=!1,H.rscratch.inDragLayer=!1}}var V=e.touchData.start,$=(R=t.touches[0].clientX-S,D=t.touches[0].clientY-A,P=t.touches[1].clientX-S,L=t.touches[1].clientY-A,M(R,D,P,L)),U=$/w;if(O){var G=(R-y+(P-_))/2,q=(D-b+(L-x))/2,X=o.zoom(),Y=X*U,K=o.pan(),W=C[0]*X+K.x,Z=C[1]*X+K.y,Q={x:-Y/X*(W-K.x-G)+W,y:-Y/X*(Z-K.y-q)+Z};if(V&&V.active()){var J=e.dragData.touchDragEles;d(J),e.redrawHint("drag",!0),e.redrawHint("eles",!0),V.unactivate().emit("freeon"),J.emit("free"),e.dragData.didDrag&&(V.emit("dragfreeon"),J.emit("dragfree"))}o.viewport({zoom:Y,pan:Q,cancelOnFailedZoom:!0}),w=$,y=R,b=D,_=P,x=L,e.pinching=!0}if(t.touches[0]){p=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=p[0],s[1]=p[1]}if(t.touches[1]){p=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);s[2]=p[0],s[3]=p[1]}if(t.touches[2]){p=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);s[4]=p[0],s[5]=p[1]}}else if(t.touches[0]&&!e.touchData.didSelect){var ee=e.touchData.start,te=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(B=e.findNearestElement(s[0],s[1],!0,!0)),r&&null!=ee&&t.preventDefault(),r&&null!=ee&&e.nodeIsDraggable(ee))if(h){J=e.dragData.touchDragEles;var ne=!e.dragData.didDrag;ne&&c(J,{inDragLayer:!0}),e.dragData.didDrag=!0;var re={x:0,y:0};if(Xm(m[0])&&Xm(m[1]))if(re.x+=m[0],re.y+=m[1],ne)e.redrawHint("eles",!0),(ie=e.touchData.dragDelta)&&Xm(ie[0])&&Xm(ie[1])&&(re.x+=ie[0],re.y+=ie[1]);e.hoverData.draggingEles=!0,J.silentShift(re).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==l[0]&&e.touchData.startPosition[1]==l[1]&&e.redrawHint("eles",!0),e.redraw()}else{var ie;0===(ie=e.touchData.dragDelta=e.touchData.dragDelta||[]).length?(ie.push(m[0]),ie.push(m[1])):(ie[0]+=m[0],ie[1]+=m[1])}if(n(ee||B,["touchmove","tapdrag","vmousemove"],t,{x:s[0],y:s[1]}),ee&&ee.grabbed()||B==te||(te&&te.emit({originalEvent:t,type:"tapdragout",position:{x:s[0],y:s[1]}}),B&&B.emit({originalEvent:t,type:"tapdragover",position:{x:s[0],y:s[1]}})),e.touchData.last=B,r)for(j=0;j<s.length;j++)s[j]&&e.touchData.startPosition[j]&&h&&(e.touchData.singleTouchMoved=!0);if(r&&(null==ee||ee.pannable())&&o.panningEnabled()&&o.userPanningEnabled()){i(ee,e.touchData.starts)&&(t.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=mv(e.touchData.startPosition)),e.swipePanning?o.panBy({x:m[0]*u,y:m[1]*u}):h&&(e.swipePanning=!0,o.panBy({x:E*u,y:I*u}),ee&&(ee.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));p=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=p[0],s[1]=p[1]}}for(g=0;g<s.length;g++)l[g]=s[g];r&&t.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&null!=e.data.bgActivePosistion&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1),e.registerBinding(window,"touchcancel",L=function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()}),e.registerBinding(window,"touchend",N=function(r){var i=e.touchData.start;if(e.touchData.capture){0===r.touches.length&&(e.touchData.capture=!1),r.preventDefault();var a=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var o,s=e.cy,c=s.zoom(),l=e.touchData.now,u=e.touchData.earlier;if(r.touches[0]){var p=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);l[0]=p[0],l[1]=p[1]}if(r.touches[1]){p=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);l[2]=p[0],l[3]=p[1]}if(r.touches[2]){p=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);l[4]=p[0],l[5]=p[1]}if(i&&i.unactivate(),e.touchData.cxt){if(o={originalEvent:r,type:"cxttapend",position:{x:l[0],y:l[1]}},i?i.emit(o):s.emit(o),!e.touchData.cxtDragged){var h={originalEvent:r,type:"cxttap",position:{x:l[0],y:l[1]}};i?i.emit(h):s.emit(h)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!r.touches[2]&&s.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var f=s.collection(e.getAllInBox(a[0],a[1],a[2],a[3]));a[0]=void 0,a[1]=void 0,a[2]=void 0,a[3]=void 0,a[4]=0,e.redrawHint("select",!0),s.emit({type:"boxend",originalEvent:r,position:{x:l[0],y:l[1]}});f.emit("box").stdFilter((function(e){return e.selectable()&&!e.selected()})).select().emit("boxselect"),f.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=i&&i.unactivate(),r.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(r.touches[1]);else if(r.touches[0]);else if(!r.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var m=e.dragData.touchDragEles;if(null!=i){var g=i._private.grabbed;d(m),e.redrawHint("drag",!0),e.redrawHint("eles",!0),g&&(i.emit("freeon"),m.emit("free"),e.dragData.didDrag&&(i.emit("dragfreeon"),m.emit("dragfree"))),n(i,["touchend","tapend","vmouseup","tapdragout"],r,{x:l[0],y:l[1]}),i.unactivate(),e.touchData.start=null}else{var v=e.findNearestElement(l[0],l[1],!0,!0);n(v,["touchend","tapend","vmouseup","tapdragout"],r,{x:l[0],y:l[1]})}var y=e.touchData.startPosition[0]-l[0],b=y*y,_=e.touchData.startPosition[1]-l[1],x=(b+_*_)*c*c;e.touchData.singleTouchMoved||(i||s.$(":selected").unselect(["tapunselect"]),n(i,["tap","vclick"],r,{x:l[0],y:l[1]})),null!=i&&!e.dragData.didDrag&&i._private.selectable&&x<e.touchTapThreshold2&&!e.pinching&&("single"===s.selectionType()?(s.$(t).unmerge(i).unselect(["tapunselect"]),i.select(["tapselect"])):i.selected()?i.unselect(["tapunselect"]):i.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var w=0;w<l.length;w++)u[w]=l[w];e.dragData.didDrag=!1,0===r.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=null,e.touchData.startGPosition=null,e.touchData.didSelect=!1),r.touches.length<2&&(1===r.touches.length&&(e.touchData.startGPosition=[r.touches[0].clientX,r.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"==typeof TouchEvent){var z=[],B=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},j=function(e){z.push(function(e){return{event:e,touch:B(e)}}(e))},H=function(e){for(var t=0;t<z.length;t++){if(z[t].event.pointerId===e.pointerId)return void z.splice(t,1)}},V=function(e){e.touches=z.map((function(e){return e.touch}))},$=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",(function(e){$(e)||(e.preventDefault(),j(e),V(e),D(e))})),e.registerBinding(e.container,"pointerup",(function(e){$(e)||(H(e),V(e),N(e))})),e.registerBinding(e.container,"pointercancel",(function(e){$(e)||(H(e),V(e),L())})),e.registerBinding(e.container,"pointermove",(function(e){$(e)||(e.preventDefault(),function(e){var t=z.filter((function(t){return t.event.pointerId===e.pointerId}))[0];t.event=e,t.touch=B(e)}(e),V(e),P(e))}))}};var yk={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl("polygon",e,t,n,r,i,this.points)},intersectLine:function(e,t,n,r,i,a,o){return qv(i,a,this.points,e,t,n/2,r/2,o)},checkPoint:function(e,t,n,r,i,a,o){return Bv(e,t,this.points,a,o,r,i,[0,-1],n)}}}};yk.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,a,o){return function(e,t,n,r,i,a){var o=n-e,s=r-t;o/=i,s/=a;var c=Math.sqrt(o*o+s*s),l=c-1;if(l<0)return[];var d=l/c;return[(n-e)*d+e,(r-t)*d+t]}(i,a,e,t,n/2+o,r/2+o)},checkPoint:function(e,t,n,r,i,a,o){return Vv(e,t,r,i,a,o,n)}}},yk.generateRoundPolygon=function(e,t){for(var n=new Array(2*t.length),r=0;r<t.length/2;r++){var i=2*r,a=void 0;a=r<t.length/2-1?2*(r+1):0,n[4*r]=t[i],n[4*r+1]=t[i+1];var o=t[a]-t[i],s=t[a+1]-t[i+1],c=Math.sqrt(o*o+s*s);n[4*r+2]=o/c,n[4*r+3]=s/c}return this.nodeShapes[e]={renderer:this,name:e,points:n,draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl("round-polygon",e,t,n,r,i,this.points)},intersectLine:function(e,t,n,r,i,a,o){return function(e,t,n,r,i,a,o,s){for(var c,l=[],d=new Array(n.length),u=a/2,p=o/2,h=Qv(a,o),f=0;f<n.length/4;f++){var m,g=void 0;g=0===f?n.length-2:4*f-2,m=4*f+2;var v=r+u*n[4*f],y=i+p*n[4*f+1],b=-n[g]*n[m]-n[g+1]*n[m+1],_=h/Math.tan(Math.acos(b)/2),x=v-_*n[g],w=y-_*n[g+1],k=v+_*n[m],E=y+_*n[m+1];0===f?(d[n.length-2]=x,d[n.length-1]=w):(d[4*f-2]=x,d[4*f-1]=w),d[4*f]=k,d[4*f+1]=E;var C=n[g+1],S=-n[g];C*n[m]+S*n[m+1]<0&&(C*=-1,S*=-1),0!==(c=$v(e,t,r,i,x+C*h,w+S*h,h)).length&&l.push(c[0],c[1])}for(var A=0;A<d.length/4;A++)0!==(c=Gv(e,t,r,i,d[4*A],d[4*A+1],d[4*A+2],d[4*A+3],!1)).length&&l.push(c[0],c[1]);if(l.length>2){for(var T=[l[0],l[1]],I=Math.pow(T[0]-e,2)+Math.pow(T[1]-t,2),O=1;O<l.length/2;O++){var R=Math.pow(l[2*O]-e,2)+Math.pow(l[2*O+1]-t,2);R<=I&&(T[0]=l[2*O],T[1]=l[2*O+1],I=R)}return T}return l}(i,a,this.points,e,t,n,r)},checkPoint:function(e,t,n,r,i,a,o){return function(e,t,n,r,i,a,o){for(var s=new Array(n.length),c=a/2,l=o/2,d=Qv(a,o),u=d*d,p=0;p<n.length/4;p++){var h,f=void 0;f=0===p?n.length-2:4*p-2,h=4*p+2;var m=r+c*n[4*p],g=i+l*n[4*p+1],v=-n[f]*n[h]-n[f+1]*n[h+1],y=d/Math.tan(Math.acos(v)/2),b=m-y*n[f],_=g-y*n[f+1],x=m+y*n[h],w=g+y*n[h+1];s[4*p]=b,s[4*p+1]=_,s[4*p+2]=x,s[4*p+3]=w;var k=n[f+1],E=-n[f];k*n[h]+E*n[h+1]<0&&(k*=-1,E*=-1);var C=b+k*d,S=_+E*d;if(Math.pow(C-e,2)+Math.pow(S-t,2)<=u)return!0}return zv(e,t,s)}(e,t,this.points,a,o,r,i)}}},yk.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Yv(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,a,o){return Pv(i,a,e,t,n,r,o)},checkPoint:function(e,t,n,r,i,a,o){var s=Zv(r,i),c=2*s;return!!Bv(e,t,this.points,a,o,r,i-c,[0,-1],n)||(!!Bv(e,t,this.points,a,o,r-c,i,[0,-1],n)||(!!Vv(e,t,c,c,a-r/2+s,o-i/2+s,n)||(!!Vv(e,t,c,c,a+r/2-s,o-i/2+s,n)||(!!Vv(e,t,c,c,a+r/2-s,o+i/2-s,n)||!!Vv(e,t,c,c,a-r/2+s,o+i/2-s,n)))))}}},yk.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Yv(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},generateCutTrianglePts:function(e,t,n,r){var i=this.cornerLength,a=t/2,o=e/2,s=n-o,c=n+o,l=r-a,d=r+a;return{topLeft:[s,l+i,s+i,l,s+i,l+i],topRight:[c-i,l,c,l+i,c-i,l+i],bottomRight:[c,d-i,c-i,d,c-i,d-i],bottomLeft:[s+i,d,s,d-i,s+i,d-i]}},intersectLine:function(e,t,n,r,i,a,o){var s=this.generateCutTrianglePts(n+2*o,r+2*o,e,t),c=[].concat.apply([],[s.topLeft.splice(0,4),s.topRight.splice(0,4),s.bottomRight.splice(0,4),s.bottomLeft.splice(0,4)]);return qv(i,a,c,e,t)},checkPoint:function(e,t,n,r,i,a,o){if(Bv(e,t,this.points,a,o,r,i-2*this.cornerLength,[0,-1],n))return!0;if(Bv(e,t,this.points,a,o,r-2*this.cornerLength,i,[0,-1],n))return!0;var s=this.generateCutTrianglePts(r,i,a,o);return zv(e,t,s.topLeft)||zv(e,t,s.topRight)||zv(e,t,s.bottomRight)||zv(e,t,s.bottomLeft)}}},yk.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Yv(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,a,o){var s=this.generateBarrelBezierPts(n+2*o,r+2*o,e,t),c=function(e){var t=kv({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),n=kv({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),r=kv({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,n.x,n.y,r.x,r.y,e[4],e[5]]},l=[].concat(c(s.topLeft),c(s.topRight),c(s.bottomRight),c(s.bottomLeft));return qv(i,a,l,e,t)},generateBarrelBezierPts:function(e,t,n,r){var i=t/2,a=e/2,o=n-a,s=n+a,c=r-i,l=r+i,d=Jv(e,t),u=d.heightOffset,p=d.widthOffset,h=d.ctrlPtOffsetPct*e,f={topLeft:[o,c+u,o+h,c,o+p,c],topRight:[s-p,c,s-h,c,s,c+u],bottomRight:[s,l-u,s-h,l,s-p,l],bottomLeft:[o+p,l,o+h,l,o,l-u]};return f.topLeft.isTop=!0,f.topRight.isTop=!0,f.bottomLeft.isBottom=!0,f.bottomRight.isBottom=!0,f},checkPoint:function(e,t,n,r,i,a,o){var s=Jv(r,i),c=s.heightOffset,l=s.widthOffset;if(Bv(e,t,this.points,a,o,r,i-2*c,[0,-1],n))return!0;if(Bv(e,t,this.points,a,o,r-2*l,i,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(r,i,a,o),u=function(e,t,n){var r,i,a=n[4],o=n[2],s=n[0],c=n[5],l=n[1],d=Math.min(a,s),u=Math.max(a,s),p=Math.min(c,l),h=Math.max(c,l);if(d<=e&&e<=u&&p<=t&&t<=h){var f=[(r=a)-2*(i=o)+s,2*(i-r),r],m=function(e,t,n,r){var i=t*t-4*e*(n-=r);if(i<0)return[];var a=Math.sqrt(i),o=2*e;return[(-t+a)/o,(-t-a)/o]}(f[0],f[1],f[2],e).filter((function(e){return 0<=e&&e<=1}));if(m.length>0)return m[0]}return null},p=Object.keys(d),h=0;h<p.length;h++){var f=d[p[h]],m=u(e,t,f);if(null!=m){var g=f[5],v=f[3],y=f[1],b=wv(g,v,y,m);if(f.isTop&&b<=t)return!0;if(f.isBottom&&t<=b)return!0}}return!1}}},yk.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Yv(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,a,o){var s=t-(r/2+o),c=Gv(i,a,e,t,e-(n/2+o),s,e+(n/2+o),s,!1);return c.length>0?c:Pv(i,a,e,t,n,r,o)},checkPoint:function(e,t,n,r,i,a,o){var s=Zv(r,i),c=2*s;if(Bv(e,t,this.points,a,o,r,i-c,[0,-1],n))return!0;if(Bv(e,t,this.points,a,o,r-c,i,[0,-1],n))return!0;var l=r/2+2*n,d=i/2+2*n;return!!zv(e,t,[a-l,o-d,a-l,o,a+l,o,a+l,o-d])||(!!Vv(e,t,c,c,a+r/2-s,o+i/2-s,n)||!!Vv(e,t,c,c,a-r/2+s,o+i/2-s,n))}}},yk.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",Yv(3,0)),this.generateRoundPolygon("round-triangle",Yv(3,0)),this.generatePolygon("rectangle",Yv(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n),this.generatePolygon("pentagon",Yv(5,0)),this.generateRoundPolygon("round-pentagon",Yv(5,0)),this.generatePolygon("hexagon",Yv(6,0)),this.generateRoundPolygon("round-hexagon",Yv(6,0)),this.generatePolygon("heptagon",Yv(7,0)),this.generateRoundPolygon("round-heptagon",Yv(7,0)),this.generatePolygon("octagon",Yv(8,0)),this.generateRoundPolygon("round-octagon",Yv(8,0));var r=new Array(20),i=Wv(5,0),a=Wv(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<a.length/2;s++)a[2*s]*=o,a[2*s+1]*=o;for(s=0;s<5;s++)r[4*s]=i[2*s],r[4*s+1]=i[2*s+1],r[4*s+2]=a[2*s],r[4*s+3]=a[2*s+1];r=Kv(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var c=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",c),this.generateRoundPolygon("round-tag",c),e.makePolygon=function(e){var n,r="polygon-"+e.join("$");return(n=this[r])?n:t.generatePolygon(r,e)}};var bk={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||Vg();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){null==t&&Mg("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort((function(e,t){return t.priority-e.priority}))}}},_k=function(e,t,n){for(var r=e.beforeRenderCallbacks,i=0;i<r.length;i++)r[i].fn(t,n)};bk.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;vg((function n(r){if(!e.destroyed){if(t.batching());else if(e.requestedFrame&&!e.skipFrame){_k(e,!0,r);var i=yg();e.render(e.renderOptions);var a=e.lastDrawTime=yg();void 0===e.averageRedrawTime&&(e.averageRedrawTime=a-i),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var o=a-i;e.redrawTotalTime+=o,e.lastRedrawTime=o,e.averageRedrawTime=e.averageRedrawTime/2+o/2,e.requestedFrame=!1}else _k(e,!1,r);e.skipFrame=!1,vg(n)}}))}};var xk=function(e){this.init(e)},wk=xk.prototype;wk.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],wk.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container();if(Mm){var r=Mm.document,i=r.head,a="__________cytoscape_stylesheet",o="__________cytoscape_container",s=null!=r.getElementById(a);if(n.className.indexOf(o)<0&&(n.className=(n.className||"")+" "+o),!s){var c=r.createElement("style");c.id=a,c.innerHTML="."+o+" { position: relative; }",i.insertBefore(c,i.children[0])}"static"===Mm.getComputedStyle(n).getPropertyValue("position")&&zg("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=Xm(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},wk.notify=function(e,t){var n=this,r=n.cy;this.destroyed||("init"!==e?"destroy"!==e?(("add"===e||"remove"===e||"move"===e&&r.hasCompoundNodes()||"load"===e||"zorder"===e||"mount"===e)&&n.invalidateCachedZSortedEles(),"viewport"===e&&n.redrawHint("select",!0),"load"!==e&&"resize"!==e&&"mount"!==e||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},wk.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n.target;(r.off||r.removeEventListener).apply(r,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(e){}},wk.isHeadless=function(){return!1},[ek,mk,gk,vk,yk,bk].forEach((function(e){lg(wk,e)}));var kk=function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var r=Tm((function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()}),e.deqRedrawThreshold),i=e.priority||Ng;n.beforeRender((function(i,a){var o=yg(),s=n.averageRedrawTime,c=n.lastRedrawTime,l=[],d=n.cy.extent(),u=n.getPixelRatio();for(i||n.flushRenderedStyleQueue();;){var p=yg(),h=p-o,f=p-a;if(c<16.666666666666668){var m=16.666666666666668-(i?s:0);if(f>=e.deqFastCost*m)break}else if(i){if(h>=e.deqCost*c||h>=e.deqAvgCost*s)break}else if(f>=16.666666666666668*e.deqNoDrawCost)break;var g=e.deq(t,u,d);if(!(g.length>0))break;for(var v=0;v<g.length;v++)l.push(g[v])}l.length>0&&(e.onDeqd(t,l),!i&&e.shouldRedraw(t,l,u,d)&&r())}),i(t))}}},Ek=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pg;Rm(this,e),this.idsByKey=new Yg,this.keyForId=new Yg,this.cachesByLvl=new Yg,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=n}return Pm(e,[{key:"getIdsFor",value:function(e){null==e&&Mg("Can not get id list for null key");var t=this.idsByKey,n=this.idsByKey.get(e);return n||(n=new Wg,t.set(e,n)),n}},{key:"addIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).add(t)}},{key:"deleteIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).delete(t)}},{key:"getNumberOfIdsForKey",value:function(e){return null==e?0:this.getIdsFor(e).size}},{key:"updateKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t),r=this.getKey(e);this.deleteIdForKey(n,t),this.addIdForKey(r,t),this.keyForId.set(t,r)}},{key:"deleteKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteIdForKey(n,t),this.keyForId.delete(t)}},{key:"keyHasChangedFor",value:function(e){var t=e.id();return this.keyForId.get(t)!==this.getKey(e)}},{key:"isInvalid",value:function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)}},{key:"getCachesAt",value:function(e){var t=this.cachesByLvl,n=this.lvls,r=t.get(e);return r||(r=new Yg,t.set(e,r),n.push(e)),r}},{key:"getCache",value:function(e,t){return this.getCachesAt(t).get(e)}},{key:"get",value:function(e,t){var n=this.getKey(e),r=this.getCache(n,t);return null!=r&&this.updateKeyMappingFor(e),r}},{key:"getForCachedKey",value:function(e,t){var n=this.keyForId.get(e.id());return this.getCache(n,t)}},{key:"hasCache",value:function(e,t){return this.getCachesAt(t).has(e)}},{key:"has",value:function(e,t){var n=this.getKey(e);return this.hasCache(n,t)}},{key:"setCache",value:function(e,t,n){n.key=e,this.getCachesAt(t).set(e,n)}},{key:"set",value:function(e,t,n){var r=this.getKey(e);this.setCache(r,t,n),this.updateKeyMappingFor(e)}},{key:"deleteCache",value:function(e,t){this.getCachesAt(t).delete(e)}},{key:"delete",value:function(e,t){var n=this.getKey(e);this.deleteCache(n,t)}},{key:"invalidateKey",value:function(e){var t=this;this.lvls.forEach((function(n){return t.deleteCache(e,n)}))}},{key:"invalidate",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteKeyMappingFor(e);var r=this.doesEleInvalidateKey(e);return r&&this.invalidateKey(n),r||0===this.getNumberOfIdsForKey(n)}}]),e}(),Ck={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Sk=$g({getKey:null,doesEleInvalidateKey:Pg,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Dg,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Ak=function(e,t){var n=this;n.renderer=e,n.onDequeues=[];var r=Sk(t);lg(n,r),n.lookup=new Ek(r.getKey,r.doesEleInvalidateKey),n.setupDequeueing()},Tk=Ak.prototype;Tk.reasons=Ck,Tk.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},Tk.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},Tk.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new Im((function(e,t){return t.reqs-e.reqs}))},Tk.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Tk.getElement=function(e,t,n,r,i){var a=this,o=this.renderer,s=o.cy.zoom(),c=this.lookup;if(!t||0===t.w||0===t.h||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed())return null;if(!a.allowEdgeTxrCaching&&e.isEdge()||!a.allowParentTxrCaching&&e.isParent())return null;if(null==r&&(r=Math.ceil(vv(s*n))),r<-4)r=-4;else if(s>=7.99||r>3)return null;var l=Math.pow(2,r),d=t.h*l,u=t.w*l,p=o.eleTextBiggerThanMin(e,l);if(!this.isVisible(e,p))return null;var h,f=c.get(e,r);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;if(h=d<=25?25:d<=50?50:50*Math.ceil(d/50),d>1024||u>1024)return null;var m=a.getTextureQueue(h),g=m[m.length-2],v=function(){return a.recycleTexture(h,u)||a.addTexture(h,u)};g||(g=m[m.length-1]),g||(g=v()),g.width-g.usedWidth<u&&(g=v());for(var y,b=function(e){return e&&e.scaledLabelShown===p},_=i&&i===Ck.dequeue,x=i&&i===Ck.highQuality,w=i&&i===Ck.downscale,k=r+1;k<=3;k++){var E=c.get(e,k);if(E){y=E;break}}var C=y&&y.level===r+1?y:null,S=function(){g.context.drawImage(C.texture.canvas,C.x,0,C.width,C.height,g.usedWidth,0,u,d)};if(g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(g.usedWidth,0,u,h),b(C))S();else if(b(y)){if(!x)return a.queueElement(e,y.level-1),y;for(var A=y.level;A>r;A--)C=a.getElement(e,t,n,A,Ck.downscale);S()}else{var T;if(!_&&!x&&!w)for(var I=r-1;I>=-4;I--){var O=c.get(e,I);if(O){T=O;break}}if(b(T))return a.queueElement(e,r),T;g.context.translate(g.usedWidth,0),g.context.scale(l,l),this.drawElement(g.context,e,t,p,!1),g.context.scale(1/l,1/l),g.context.translate(-g.usedWidth,0)}return f={x:g.usedWidth,texture:g,level:r,scale:l,width:u,height:d,scaledLabelShown:p},g.usedWidth+=Math.ceil(u+8),g.eleCaches.push(f),c.set(e,r,f),a.checkTextureFullness(g),f},Tk.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},Tk.invalidateElement=function(e){var t=this,n=t.lookup,r=[];if(n.isInvalid(e)){for(var i=-4;i<=3;i++){var a=n.getForCachedKey(e,i);a&&r.push(a)}if(n.invalidate(e))for(var o=0;o<r.length;o++){var s=r[o],c=s.texture;c.invalidatedWidth+=s.width,s.invalidated=!0,t.checkTextureUtility(c)}t.removeFromQueue(e)}},Tk.checkTextureUtility=function(e){e.invalidatedWidth>=.2*e.width&&this.retireTexture(e)},Tk.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?Ug(t,e):e.fullnessChecks++},Tk.retireTexture=function(e){var t=e.height,n=this.getTextureQueue(t),r=this.lookup;Ug(n,e),e.retired=!0;for(var i=e.eleCaches,a=0;a<i.length;a++){var o=i[a];r.deleteCache(o.key,o.level)}Gg(i),this.getRetiredTextureQueue(t).push(e)},Tk.addTexture=function(e,t){var n={};return this.getTextureQueue(e).push(n),n.eleCaches=[],n.height=e,n.width=Math.max(1024,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},Tk.recycleTexture=function(e,t){for(var n=this.getTextureQueue(e),r=this.getRetiredTextureQueue(e),i=0;i<r.length;i++){var a=r[i];if(a.width>=t)return a.retired=!1,a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,Gg(a.eleCaches),a.context.setTransform(1,0,0,1,0,0),a.context.clearRect(0,0,a.width,a.height),Ug(r,a),n.push(a),a}},Tk.queueElement=function(e,t){var n=this.getElementQueue(),r=this.getElementKeyToQueue(),i=this.getKey(e),a=r[i];if(a)a.level=Math.max(a.level,t),a.eles.merge(e),a.reqs++,n.updateItem(a);else{var o={eles:e.spawn().merge(e),level:t,reqs:1,key:i};n.push(o),r[i]=o}},Tk.dequeue=function(e){for(var t=this,n=t.getElementQueue(),r=t.getElementKeyToQueue(),i=[],a=t.lookup,o=0;o<1&&n.size()>0;o++){var s=n.pop(),c=s.key,l=s.eles[0],d=a.hasCache(l,s.level);if(r[c]=null,!d){i.push(s);var u=t.getBoundingBox(l);t.getElement(l,u,e,s.level,Ck.dequeue)}}return i},Tk.removeFromQueue=function(e){var t=this.getElementQueue(),n=this.getElementKeyToQueue(),r=this.getKey(e),i=n[r];null!=i&&(1===i.eles.length?(i.reqs=Rg,t.updateItem(i),t.pop(),n[r]=null):i.eles.unmerge(e))},Tk.onDequeue=function(e){this.onDequeues.push(e)},Tk.offDequeue=function(e){Ug(this.onDequeues,e)},Tk.setupDequeueing=kk({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){(0,e.onDequeues[n])(t)}},shouldRedraw:function(e,t,n,r){for(var i=0;i<t.length;i++)for(var a=t[i].eles,o=0;o<a.length;o++){var s=a[o].boundingBox();if(Ov(s,r))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var Ik=function(e){var t=this,n=t.renderer=e,r=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=yg()-500,t.skipping=!1,t.eleTxrDeqs=r.collection(),t.scheduleElementRefinement=Tm((function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)}),50),n.beforeRender((function(e,n){n-t.lastInvalidationTime<=250?t.skipping=!0:t.skipping=!1}),n.beforeRenderPriorities.lyrTxrSkip);t.layersQueue=new Im((function(e,t){return t.reqs-e.reqs})),t.setupDequeueing()},Ok=Ik.prototype,Rk=0,Dk=Math.pow(2,53)-1;Ok.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),i=Math.ceil(e.h*n),a=this.renderer.makeOffscreenCanvas(r,i),o={id:Rk=++Rk%Dk,bb:e,level:t,width:r,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,c=-o.bb.x1,l=-o.bb.y1;return s.scale(n,n),s.translate(c,l),o},Ok.getLayers=function(e,t,n){var r=this,i=r.renderer.cy.zoom(),a=r.firstGet;if(r.firstGet=!1,null==n)if((n=Math.ceil(vv(i*t)))<-4)n=-4;else if(i>=3.99||n>2)return null;r.validateLayersElesOrdering(n,e);var o,s,c=r.layersByLevel,l=Math.pow(2,n),d=c[n]=c[n]||[];if(r.levelIsComplete(n,e))return d;!function(){var t=function(t){if(r.validateLayersElesOrdering(t,e),r.levelIsComplete(t,e))return s=c[t],!0},i=function(e){if(!s)for(var r=n+e;-4<=r&&r<=2&&!t(r);r+=e);};i(1),i(-1);for(var a=d.length-1;a>=0;a--){var o=d[a];o.invalid&&Ug(d,o)}}();var u=function(t){var i=(t=t||{}).after;if(function(){if(!o){o=Cv();for(var t=0;t<e.length;t++)n=o,r=e[t].boundingBox(),n.x1=Math.min(n.x1,r.x1),n.x2=Math.max(n.x2,r.x2),n.w=n.x2-n.x1,n.y1=Math.min(n.y1,r.y1),n.y2=Math.max(n.y2,r.y2),n.h=n.y2-n.y1}var n,r}(),o.w*l*(o.h*l)>16e6)return null;var a=r.makeLayer(o,n);if(null!=i){var s=d.indexOf(i)+1;d.splice(s,0,a)}else(void 0===t.insert||t.insert)&&d.unshift(a);return a};if(r.skipping&&!a)return null;for(var p=null,h=e.length/1,f=!a,m=0;m<e.length;m++){var g=e[m],v=g._private.rscratch,y=v.imgLayerCaches=v.imgLayerCaches||{},b=y[n];if(b)p=b;else{if((!p||p.eles.length>=h||!Dv(p.bb,g.boundingBox()))&&!(p=u({insert:!0,after:p})))return null;s||f?r.queueLayer(p,g):r.drawEleInLayer(p,g,n,t),p.eles.push(g),y[n]=p}}return s||(f?null:d)},Ok.getEleLevelForLayerLevel=function(e,t){return e},Ok.drawEleInLayer=function(e,t,n,r){var i=this.renderer,a=e.context,o=t.boundingBox();0!==o.w&&0!==o.h&&t.visible()&&(n=this.getEleLevelForLayerLevel(n,r),i.setImgSmoothing(a,!1),i.drawCachedElement(a,t,null,null,n,true),i.setImgSmoothing(a,!0))},Ok.levelIsComplete=function(e,t){var n=this.layersByLevel[e];if(!n||0===n.length)return!1;for(var r=0,i=0;i<n.length;i++){var a=n[i];if(a.reqs>0)return!1;if(a.invalid)return!1;r+=a.eles.length}return r===t.length},Ok.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=-1,o=0;o<t.length;o++)if(i.eles[0]===t[o]){a=o;break}if(a<0)this.invalidateLayer(i);else{var s=a;for(o=0;o<i.eles.length;o++)if(i.eles[o]!==t[s+o]){this.invalidateLayer(i);break}}}},Ok.updateElementsInLayers=function(e,t){for(var n=Wm(e[0]),r=0;r<e.length;r++)for(var i=n?null:e[r],a=n?e[r]:e[r].ele,o=a._private.rscratch,s=o.imgLayerCaches=o.imgLayerCaches||{},c=-4;c<=2;c++){var l=s[c];l&&(i&&this.getEleLevelForLayerLevel(l.level)!==i.level||t(l,a,i))}},Ok.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var n=this.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e},Ok.invalidateElements=function(e){var t=this;0!==e.length&&(t.lastInvalidationTime=yg(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,(function(e,n,r){t.invalidateLayer(e)})))},Ok.invalidateLayer=function(e){if(this.lastInvalidationTime=yg(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];Ug(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<n.length;i++){var a=n[i]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}},Ok.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,(function(e,n,r){var i=e.replacement;if(i||((i=e.replacement=t.makeLayer(e.bb,e.level)).replaces=e,i.eles=e.eles),!i.reqs)for(var a=0;a<i.eles.length;a++)t.queueLayer(i,i.eles[a])}))},Ok.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},Ok.queueLayer=function(e,t){var n=this.layersQueue,r=e.elesQueue,i=r.hasId=r.hasId||{};if(!e.replacement){if(t){if(i[t.id()])return;r.push(t),i[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},Ok.dequeue=function(e){for(var t=this,n=t.layersQueue,r=[],i=0;i<1&&0!==n.size();){var a=n.peek();if(a.replacement)n.pop();else if(a.replaces&&a!==a.replaces.replacement)n.pop();else if(a.invalid)n.pop();else{var o=a.elesQueue.shift();o&&(t.drawEleInLayer(a,o,a.level,e),i++),0===r.length&&r.push(!0),0===a.elesQueue.length&&(n.pop(),a.reqs=0,a.replaces&&t.applyLayerReplacement(a),t.requestRedraw())}}return r},Ok.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],n=e.replaces,r=t.indexOf(n);if(!(r<0||n.invalid)){t[r]=e;for(var i=0;i<e.eles.length;i++){var a=e.eles[i]._private,o=a.imgLayerCaches=a.imgLayerCaches||{};o&&(o[e.level]=e)}this.requestRedraw()}},Ok.requestRedraw=Tm((function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()}),100),Ok.setupDequeueing=kk({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:Ng,shouldRedraw:Dg,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Pk,Lk={};function Nk(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}}function Mk(e,t,n){for(var r,i=0;i<t.length;i++){var a=t[i];0===i&&(r=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)}function Fk(e,t,n){e.beginPath&&e.beginPath();for(var r=t,i=0;i<r.length;i++){var a=r[i];e.lineTo(a.x,a.y)}var o=n,s=n[0];e.moveTo(s.x,s.y);for(i=1;i<o.length;i++){a=o[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()}function zk(e,t,n,r,i){e.beginPath&&e.beginPath(),e.arc(n,r,i,0,2*Math.PI,!1);var a=t,o=a[0];e.moveTo(o.x,o.y);for(var s=0;s<a.length;s++){var c=a[s];e.lineTo(c.x,c.y)}e.closePath&&e.closePath()}function Bk(e,t,n,r){e.arc(t,n,r,0,2*Math.PI,!1)}Lk.arrowShapeImpl=function(e){return(Pk||(Pk={polygon:Nk,"triangle-backcurve":Mk,"triangle-tee":Fk,"circle-triangle":zk,"triangle-cross":Fk,circle:Bk}))[e]};var jk={drawElement:function(e,t,n,r,i,a){t.isNode()?this.drawNode(e,t,n,r,i,a):this.drawEdge(e,t,n,r,i,a)},drawElementOverlay:function(e,t){t.isNode()?this.drawNodeOverlay(e,t):this.drawEdgeOverlay(e,t)},drawCachedElementPortion:function(e,t,n,r,i,a,o,s){var c=this,l=n.getBoundingBox(t);if(0!==l.w&&0!==l.h){var d=n.getElement(t,l,r,i,a);if(null!=d){var u=s(c,t);if(0===u)return;var p,h,f,m,g,v,y=o(c,t),b=l.x1,_=l.y1,x=l.w,w=l.h;if(0!==y){var k=n.getRotationPoint(t);f=k.x,m=k.y,e.translate(f,m),e.rotate(y),(g=c.getImgSmoothing(e))||c.setImgSmoothing(e,!0);var E=n.getRotationOffset(t);p=E.x,h=E.y}else p=b,h=_;1!==u&&(v=e.globalAlpha,e.globalAlpha=v*u),e.drawImage(d.texture.canvas,d.x,0,d.width,d.height,p,h,x,w),1!==u&&(e.globalAlpha=v),0!==y&&(e.rotate(-y),e.translate(-f,-m),g||c.setImgSmoothing(e,!1))}else n.drawElement(e,t)}}},Hk=function(){return 0},Vk=function(e,t){return e.getTextAngle(t,null)},$k=function(e,t){return e.getTextAngle(t,"source")},Uk=function(e,t){return e.getTextAngle(t,"target")},Gk=function(e,t){return t.effectiveOpacity()},qk=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};jk.drawCachedElement=function(e,t,n,r,i,a){var o=this,s=o.data,c=s.eleTxrCache,l=s.lblTxrCache,d=s.slbTxrCache,u=s.tlbTxrCache,p=t.boundingBox(),h=!0===a?c.reasons.highQuality:null;if(0!==p.w&&0!==p.h&&t.visible()&&(!r||Ov(p,r))){var f=t.isEdge(),m=t.element()._private.rscratch.badLine;o.drawCachedElementPortion(e,t,c,n,i,h,Hk,Gk),f&&m||o.drawCachedElementPortion(e,t,l,n,i,h,Vk,qk),f&&!m&&(o.drawCachedElementPortion(e,t,d,n,i,h,$k,qk),o.drawCachedElementPortion(e,t,u,n,i,h,Uk,qk)),o.drawElementOverlay(e,t)}},jk.drawElements=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];this.drawElement(e,r)}},jk.drawCachedElements=function(e,t,n,r){for(var i=0;i<t.length;i++){var a=t[i];this.drawCachedElement(e,a,n,r)}},jk.drawCachedNodes=function(e,t,n,r){for(var i=0;i<t.length;i++){var a=t[i];a.isNode()&&this.drawCachedElement(e,a,n,r)}},jk.drawLayeredElements=function(e,t,n,r){var i=this.data.lyrTxrCache.getLayers(t,n);if(i)for(var a=0;a<i.length;a++){var o=i[a],s=o.bb;0!==s.w&&0!==s.h&&e.drawImage(o.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(e,t,n,r)};var Xk={drawEdge:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this,s=t._private.rscratch;if((!a||t.visible())&&!s.badLine&&null!=s.allpts&&!isNaN(s.allpts[0])){var c;n&&(c=n,e.translate(-c.x1,-c.y1));var l=a?t.pstyle("opacity").value:1,d=a?t.pstyle("line-opacity").value:1,u=t.pstyle("line-style").value,p=t.pstyle("width").pfValue,h=t.pstyle("line-cap").value,f=l*d,m=l*d,g=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;e.lineWidth=p,e.lineCap=h,o.eleStrokeStyle(e,t,n),o.drawEdgePath(t,e,s.allpts,u),e.lineCap="butt"},v=function(){i&&o.drawEdgeOverlay(e,t)},y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;o.drawArrowheads(e,t,n)},b=function(){o.drawElementText(e,t,null,r)};e.lineJoin="round";var _="yes"===t.pstyle("ghost").value;if(_){var x=t.pstyle("ghost-offset-x").pfValue,w=t.pstyle("ghost-offset-y").pfValue,k=t.pstyle("ghost-opacity").value,E=f*k;e.translate(x,w),g(E),y(E),e.translate(-x,-w)}g(),y(),v(),b(),n&&e.translate(c.x1,c.y1)}},drawEdgeOverlay:function(e,t){if(t.visible()){var n=t.pstyle("overlay-opacity").value;if(0!==n){var r=this,i=r.usePaths(),a=t._private.rscratch,o=2*t.pstyle("overlay-padding").pfValue,s=t.pstyle("overlay-color").value;e.lineWidth=o,"self"!==a.edgeType||i?e.lineCap="round":e.lineCap="butt",r.colorStrokeStyle(e,s[0],s[1],s[2],n),r.drawEdgePath(t,e,a.allpts,"solid")}}},drawEdgePath:function(e,t,n,r){var i,a=e._private.rscratch,o=t,s=!1,c=this.usePaths(),l=e.pstyle("line-dash-pattern").pfValue,d=e.pstyle("line-dash-offset").pfValue;if(c){var u=n.join("$");a.pathCacheKey&&a.pathCacheKey===u?(i=t=a.pathCache,s=!0):(i=t=new Path2D,a.pathCacheKey=u,a.pathCache=i)}if(o.setLineDash)switch(r){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(l),o.lineDashOffset=d;break;case"solid":o.setLineDash([])}if(!s&&!a.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var p=2;p+3<n.length;p+=4)t.quadraticCurveTo(n[p],n[p+1],n[p+2],n[p+3]);break;case"straight":case"segments":case"haystack":for(var h=2;h+1<n.length;h+=2)t.lineTo(n[h],n[h+1])}t=o,c?t.stroke(i):t.stroke(),t.setLineDash&&t.setLineDash([])},drawArrowheads:function(e,t,n){var r=t._private.rscratch,i="haystack"===r.edgeType;i||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},drawArrowhead:function(e,t,n,r,i,a,o){if(!(isNaN(r)||null==r||isNaN(i)||null==i||isNaN(a)||null==a)){var s=this,c=t.pstyle(n+"-arrow-shape").value;if("none"!==c){var l="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",d=t.pstyle(n+"-arrow-fill").value,u=t.pstyle("width").pfValue,p=t.pstyle("opacity").value;void 0===o&&(o=p);var h=e.globalCompositeOperation;1===o&&"hollow"!==d||(e.globalCompositeOperation="destination-out",s.colorFillStyle(e,255,255,255,1),s.colorStrokeStyle(e,255,255,255,1),s.drawArrowShape(t,e,l,u,c,r,i,a),e.globalCompositeOperation=h);var f=t.pstyle(n+"-arrow-color").value;s.colorFillStyle(e,f[0],f[1],f[2],o),s.colorStrokeStyle(e,f[0],f[1],f[2],o),s.drawArrowShape(t,e,d,u,c,r,i,a)}}},drawArrowShape:function(e,t,n,r,i,a,o,s){var c,l=this,d=this.usePaths()&&"triangle-cross"!==i,u=!1,p=t,h={x:a,y:o},f=e.pstyle("arrow-scale").value,m=this.getArrowWidth(r,f),g=l.arrowShapes[i];if(d){var v=l.arrowPathCache=l.arrowPathCache||[],y=Cg(i),b=v[y];null!=b?(c=t=b,u=!0):(c=t=new Path2D,v[y]=c)}u||(t.beginPath&&t.beginPath(),d?g.draw(t,1,0,{x:0,y:0},1):g.draw(t,m,s,h,r),t.closePath&&t.closePath()),t=p,d&&(t.translate(a,o),t.rotate(s),t.scale(m,m)),"filled"!==n&&"both"!==n||(d?t.fill(c):t.fill()),"hollow"!==n&&"both"!==n||(t.lineWidth=(g.matchEdgeWidth?r:1)/(d?m:1),t.lineJoin="miter",d?t.stroke(c):t.stroke()),d&&(t.scale(1/m,1/m),t.rotate(-s),t.translate(-a,-o))}},Yk={safeDrawImage:function(e,t,n,r,i,a,o,s,c,l){i<=0||a<=0||c<=0||l<=0||e.drawImage(t,n,r,i,a,o,s,c,l)},drawInscribedImage:function(e,t,n,r,i){var a=this,o=n.position(),s=o.x,c=o.y,l=n.cy().style(),d=l.getIndexedStyle.bind(l),u=d(n,"background-fit","value",r),p=d(n,"background-repeat","value",r),h=n.width(),f=n.height(),m=2*n.padding(),g=h+("inner"===d(n,"background-width-relative-to","value",r)?0:m),v=f+("inner"===d(n,"background-height-relative-to","value",r)?0:m),y=n._private.rscratch,b="node"===d(n,"background-clip","value",r),_=d(n,"background-image-opacity","value",r)*i,x=d(n,"background-image-smoothing","value",r),w=t.width||t.cachedW,k=t.height||t.cachedH;null!=w&&null!=k||(document.body.appendChild(t),w=t.cachedW=t.width||t.offsetWidth,k=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var E=w,C=k;if("auto"!==d(n,"background-width","value",r)&&(E="%"===d(n,"background-width","units",r)?d(n,"background-width","pfValue",r)*g:d(n,"background-width","pfValue",r)),"auto"!==d(n,"background-height","value",r)&&(C="%"===d(n,"background-height","units",r)?d(n,"background-height","pfValue",r)*v:d(n,"background-height","pfValue",r)),0!==E&&0!==C){if("contain"===u)E*=S=Math.min(g/E,v/C),C*=S;else if("cover"===u){var S;E*=S=Math.max(g/E,v/C),C*=S}var A=s-g/2,T=d(n,"background-position-x","units",r),I=d(n,"background-position-x","pfValue",r);A+="%"===T?(g-E)*I:I;var O=d(n,"background-offset-x","units",r),R=d(n,"background-offset-x","pfValue",r);A+="%"===O?(g-E)*R:R;var D=c-v/2,P=d(n,"background-position-y","units",r),L=d(n,"background-position-y","pfValue",r);D+="%"===P?(v-C)*L:L;var N=d(n,"background-offset-y","units",r),M=d(n,"background-offset-y","pfValue",r);D+="%"===N?(v-C)*M:M,y.pathCache&&(A-=s,D-=c,s=0,c=0);var F=e.globalAlpha;e.globalAlpha=_;var z=a.getImgSmoothing(e),B=!1;if("no"===x&&z?(a.setImgSmoothing(e,!1),B=!0):"yes"!==x||z||(a.setImgSmoothing(e,!0),B=!0),"no-repeat"===p)b&&(e.save(),y.pathCache?e.clip(y.pathCache):(a.nodeShapes[a.getNodeShape(n)].draw(e,s,c,g,v),e.clip())),a.safeDrawImage(e,t,0,0,w,k,A,D,E,C),b&&e.restore();else{var j=e.createPattern(t,p);e.fillStyle=j,a.nodeShapes[a.getNodeShape(n)].draw(e,s,c,g,v),e.translate(A,D),e.fill(),e.translate(-A,-D)}e.globalAlpha=F,B&&a.setImgSmoothing(e,z)}}},Kk={};function Wk(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+i-a),e.quadraticCurveTo(t+r,n+i,t+r-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath(),e.fill()}Kk.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(vv(n*r));t=Math.pow(2,i)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},Kk.drawElementText=function(e,t,n,r,i){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this;if(null==r){if(a&&!o.eleTextBiggerThanMin(t))return}else if(!1===r)return;if(t.isNode()){var s=t.pstyle("label");if(!s||!s.value)return;var c=o.getLabelJustification(t);e.textAlign=c,e.textBaseline="bottom"}else{var l=t.element()._private.rscratch.badLine,d=t.pstyle("label"),u=t.pstyle("source-label"),p=t.pstyle("target-label");if(l||(!d||!d.value)&&(!u||!u.value)&&(!p||!p.value))return;e.textAlign="center",e.textBaseline="bottom"}var h,f=!n;n&&(h=n,e.translate(-h.x1,-h.y1)),null==i?(o.drawText(e,t,null,f,a),t.isEdge()&&(o.drawText(e,t,"source",f,a),o.drawText(e,t,"target",f,a))):o.drawText(e,t,i,f,a),n&&e.translate(h.x1,h.y1)},Kk.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((t=this.fontCaches[n]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},Kk.setupTextStyle=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,s=n?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,c=t.pstyle("text-outline-opacity").value*s,l=t.pstyle("color").value,d=t.pstyle("text-outline-color").value;e.font=r+" "+o+" "+i+" "+a,e.lineJoin="round",this.colorFillStyle(e,l[0],l[1],l[2],s),this.colorStrokeStyle(e,d[0],d[1],d[2],c)},Kk.getTextAngle=function(e,t){var n=e._private.rscratch,r=t?t+"-":"",i=e.pstyle(r+"text-rotation"),a=qg(n,"labelAngle",t);return"autorotate"===i.strValue?e.isEdge()?a:0:"none"===i.strValue?0:i.pfValue},Kk.drawText=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=t._private,o=a.rscratch,s=i?t.effectiveOpacity():1;if(!i||0!==s&&0!==t.pstyle("text-opacity").value){"main"===n&&(n=null);var c,l,d=qg(o,"labelX",n),u=qg(o,"labelY",n),p=this.getLabelText(t,n);if(null!=p&&""!==p&&!isNaN(d)&&!isNaN(u)){this.setupTextStyle(e,t,i);var h,f=n?n+"-":"",m=qg(o,"labelWidth",n),g=qg(o,"labelHeight",n),v=t.pstyle(f+"text-margin-x").pfValue,y=t.pstyle(f+"text-margin-y").pfValue,b=t.isEdge(),_=t.pstyle("text-halign").value,x=t.pstyle("text-valign").value;switch(b&&(_="center",x="center"),d+=v,u+=y,0!==(h=r?this.getTextAngle(t,n):0)&&(c=d,l=u,e.translate(c,l),e.rotate(h),d=0,u=0),x){case"top":break;case"center":u+=g/2;break;case"bottom":u+=g}var w=t.pstyle("text-background-opacity").value,k=t.pstyle("text-border-opacity").value,E=t.pstyle("text-border-width").pfValue,C=t.pstyle("text-background-padding").pfValue;if(w>0||E>0&&k>0){var S=d-C;switch(_){case"left":S-=m;break;case"center":S-=m/2}var A=u-g-C,T=m+2*C,I=g+2*C;if(w>0){var O=e.fillStyle,R=t.pstyle("text-background-color").value;e.fillStyle="rgba("+R[0]+","+R[1]+","+R[2]+","+w*s+")";var D=t.pstyle("text-background-shape").strValue;0===D.indexOf("round")?Wk(e,S,A,T,I,2):e.fillRect(S,A,T,I),e.fillStyle=O}if(E>0&&k>0){var P=e.strokeStyle,L=e.lineWidth,N=t.pstyle("text-border-color").value,M=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+N[0]+","+N[1]+","+N[2]+","+k*s+")",e.lineWidth=E,e.setLineDash)switch(M){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=E/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(S,A,T,I),"double"===M){var F=E/2;e.strokeRect(S+F,A+F,T-2*F,I-2*F)}e.setLineDash&&e.setLineDash([]),e.lineWidth=L,e.strokeStyle=P}}var z=2*t.pstyle("text-outline-width").pfValue;if(z>0&&(e.lineWidth=z),"wrap"===t.pstyle("text-wrap").value){var B=qg(o,"labelWrapCachedLines",n),j=qg(o,"labelLineHeight",n),H=m/2,V=this.getLabelJustification(t);switch("auto"===V||("left"===_?"left"===V?d+=-m:"center"===V&&(d+=-H):"center"===_?"left"===V?d+=-H:"right"===V&&(d+=H):"right"===_&&("center"===V?d+=H:"right"===V&&(d+=m))),x){case"top":u-=(B.length-1)*j;break;case"center":case"bottom":u-=(B.length-1)*j}for(var $=0;$<B.length;$++)z>0&&e.strokeText(B[$],d,u),e.fillText(B[$],d,u),u+=j}else z>0&&e.strokeText(p,d,u),e.fillText(p,d,u);0!==h&&(e.rotate(-h),e.translate(-c,-l))}}};var Zk={drawNode:function(e,t,n){var r,i,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],c=this,l=t._private,d=l.rscratch,u=t.position();if(Xm(u.x)&&Xm(u.y)&&(!s||t.visible())){var p,h,f=s?t.effectiveOpacity():1,m=c.usePaths(),g=!1,v=t.padding();r=t.width()+2*v,i=t.height()+2*v,n&&(h=n,e.translate(-h.x1,-h.y1));for(var y=t.pstyle("background-image"),b=y.value,_=new Array(b.length),x=new Array(b.length),w=0,k=0;k<b.length;k++){var E=b[k],C=_[k]=null!=E&&"none"!==E;if(C){var S=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",k);w++,x[k]=c.getCachedImage(E,S,(function(){l.backgroundTimestamp=Date.now(),t.emitAndNotify("background")}))}}var A=t.pstyle("background-blacken").value,T=t.pstyle("border-width").pfValue,I=t.pstyle("background-opacity").value*f,O=t.pstyle("border-color").value,R=t.pstyle("border-style").value,D=t.pstyle("border-opacity").value*f;e.lineJoin="miter";var P=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;c.eleFillStyle(e,t,n)},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;c.colorStrokeStyle(e,O[0],O[1],O[2],t)},N=t.pstyle("shape").strValue,M=t.pstyle("shape-polygon-points").pfValue;if(m){e.translate(u.x,u.y);var F=c.nodePathCache=c.nodePathCache||[],z=Sg("polygon"===N?N+","+M.join(","):N,""+i,""+r),B=F[z];null!=B?(p=B,g=!0,d.pathCache=p):(p=new Path2D,F[z]=d.pathCache=p)}var j=function(){if(!g){var n=u;m&&(n={x:0,y:0}),c.nodeShapes[c.getNodeShape(t)].draw(p||e,n.x,n.y,r,i)}m?e.fill(p):e.fill()},H=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=l.backgrounding,a=0,o=0;o<x.length;o++){var s=t.cy().style().getIndexedStyle(t,"background-image-containment","value",o);r&&"over"===s||!r&&"inside"===s?a++:_[o]&&x[o].complete&&!x[o].error&&(a++,c.drawInscribedImage(e,x[o],t,o,n))}l.backgrounding=!(a===w),i!==l.backgrounding&&t.updateStyle(!1)},V=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;c.hasPie(t)&&(c.drawPie(e,t,a),n&&(m||c.nodeShapes[c.getNodeShape(t)].draw(e,u.x,u.y,r,i)))},$=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=(A>0?A:-A)*t,r=A>0?0:255;0!==A&&(c.colorFillStyle(e,r,r,r,n),m?e.fill(p):e.fill())},U=function(){if(T>0){if(e.lineWidth=T,e.lineCap="butt",e.setLineDash)switch(R){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}if(m?e.stroke(p):e.stroke(),"double"===R){e.lineWidth=T/3;var t=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",m?e.stroke(p):e.stroke(),e.globalCompositeOperation=t}e.setLineDash&&e.setLineDash([])}},G=function(){o&&c.drawNodeOverlay(e,t,u,r,i)},q=function(){c.drawElementText(e,t,null,a)},X="yes"===t.pstyle("ghost").value;if(X){var Y=t.pstyle("ghost-offset-x").pfValue,K=t.pstyle("ghost-offset-y").pfValue,W=t.pstyle("ghost-opacity").value,Z=W*f;e.translate(Y,K),P(W*I),j(),H(Z,!0),L(W*D),U(),V(0!==A||0!==T),H(Z,!1),$(Z),e.translate(-Y,-K)}P(),j(),H(f,!0),L(),U(),V(0!==A||0!==T),H(f,!1),$(),m&&e.translate(-u.x,-u.y),q(),G(),n&&e.translate(h.x1,h.y1)}},drawNodeOverlay:function(e,t,n,r,i){if(t.visible()){var a=t.pstyle("overlay-padding").pfValue,o=t.pstyle("overlay-opacity").value,s=t.pstyle("overlay-color").value;if(o>0){if(n=n||t.position(),null==r||null==i){var c=t.padding();r=t.width()+2*c,i=t.height()+2*c}this.colorFillStyle(e,s[0],s[1],s[2],o),this.nodeShapes.roundrectangle.draw(e,n.x,n.y,r+2*a,i+2*a),e.fill()}}},hasPie:function(e){return(e=e[0])._private.hasPie},drawPie:function(e,t,n,r){t=t[0],r=r||t.position();var i=t.cy().style(),a=t.pstyle("pie-size"),o=r.x,s=r.y,c=t.width(),l=t.height(),d=Math.min(c,l)/2,u=0;this.usePaths()&&(o=0,s=0),"%"===a.units?d*=a.pfValue:void 0!==a.pfValue&&(d=a.pfValue/2);for(var p=1;p<=i.pieBackgroundN;p++){var h=t.pstyle("pie-"+p+"-background-size").value,f=t.pstyle("pie-"+p+"-background-color").value,m=t.pstyle("pie-"+p+"-background-opacity").value*n,g=h/100;g+u>1&&(g=1-u);var v=1.5*Math.PI+2*Math.PI*u,y=v+2*Math.PI*g;0===h||u>=1||u+g>1||(e.beginPath(),e.moveTo(o,s),e.arc(o,s,d,v,y),e.closePath(),this.colorFillStyle(e,f[0],f[1],f[2],m),e.fill(),u+=g)}}},Qk={};Qk.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},Qk.paintCache=function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if((t=n[i]).context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},Qk.createGradientStyleFor=function(e,t,n,r,i){var a,o=this.usePaths(),s=n.pstyle(t+"-gradient-stop-colors").value,c=n.pstyle(t+"-gradient-stop-positions").pfValue;if("radial-gradient"===r)if(n.isEdge()){var l=n.sourceEndpoint(),d=n.targetEndpoint(),u=n.midpoint(),p=bv(l,u),h=bv(d,u);a=e.createRadialGradient(u.x,u.y,0,u.x,u.y,Math.max(p,h))}else{var f=o?{x:0,y:0}:n.position(),m=n.paddedWidth(),g=n.paddedHeight();a=e.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(m,g))}else if(n.isEdge()){var v=n.sourceEndpoint(),y=n.targetEndpoint();a=e.createLinearGradient(v.x,v.y,y.x,y.y)}else{var b=o?{x:0,y:0}:n.position(),_=n.paddedWidth()/2,x=n.paddedHeight()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":a=e.createLinearGradient(b.x,b.y-x,b.x,b.y+x);break;case"to-top":a=e.createLinearGradient(b.x,b.y+x,b.x,b.y-x);break;case"to-left":a=e.createLinearGradient(b.x+_,b.y,b.x-_,b.y);break;case"to-right":a=e.createLinearGradient(b.x-_,b.y,b.x+_,b.y);break;case"to-bottom-right":case"to-right-bottom":a=e.createLinearGradient(b.x-_,b.y-x,b.x+_,b.y+x);break;case"to-top-right":case"to-right-top":a=e.createLinearGradient(b.x-_,b.y+x,b.x+_,b.y-x);break;case"to-bottom-left":case"to-left-bottom":a=e.createLinearGradient(b.x+_,b.y-x,b.x-_,b.y+x);break;case"to-top-left":case"to-left-top":a=e.createLinearGradient(b.x+_,b.y+x,b.x-_,b.y-x)}}if(!a)return null;for(var w=c.length===s.length,k=s.length,E=0;E<k;E++)a.addColorStop(w?c[E]:E/(k-1),"rgba("+s[E][0]+","+s[E][1]+","+s[E][2]+","+i+")");return a},Qk.gradientFillStyle=function(e,t,n,r){var i=this.createGradientStyleFor(e,"background",t,n,r);if(!i)return null;e.fillStyle=i},Qk.colorFillStyle=function(e,t,n,r,i){e.fillStyle="rgba("+t+","+n+","+r+","+i+")"},Qk.eleFillStyle=function(e,t,n){var r=t.pstyle("background-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientFillStyle(e,t,r,n);else{var i=t.pstyle("background-color").value;this.colorFillStyle(e,i[0],i[1],i[2],n)}},Qk.gradientStrokeStyle=function(e,t,n,r){var i=this.createGradientStyleFor(e,"line",t,n,r);if(!i)return null;e.strokeStyle=i},Qk.colorStrokeStyle=function(e,t,n,r,i){e.strokeStyle="rgba("+t+","+n+","+r+","+i+")"},Qk.eleStrokeStyle=function(e,t,n){var r=t.pstyle("line-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientStrokeStyle(e,t,r,n);else{var i=t.pstyle("line-color").value;this.colorStrokeStyle(e,i[0],i[1],i[2],n)}},Qk.matchCanvasSize=function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),i=r[2],a=r[3],o=t.getPixelRatio(),s=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(o=s);var c,l=i*o,d=a*o;if(l!==t.canvasWidth||d!==t.canvasHeight){t.fontCaches=null;var u=n.canvasContainer;u.style.width=i+"px",u.style.height=a+"px";for(var p=0;p<t.CANVAS_LAYERS;p++)(c=n.canvases[p]).width=l,c.height=d,c.style.width=i+"px",c.style.height=a+"px";for(p=0;p<t.BUFFER_COUNT;p++)(c=n.bufferCanvases[p]).width=l,c.height=d,c.style.width=i+"px",c.style.height=a+"px";t.textureMult=1,o<=1&&(c=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,c.width=l*t.textureMult,c.height=d*t.textureMult),t.canvasWidth=l,t.canvasHeight=d}},Qk.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},Qk.render=function(e){var t=(e=e||Vg()).forcedContext,n=e.drawAllLayers,r=e.drawOnlyNodeLayer,i=e.forcedZoom,a=e.forcedPan,o=this,s=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,c=o.cy,l=o.data,d=l.canvasNeedsRedraw,u=o.textureOnViewport&&!t&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),p=void 0!==e.motionBlur?e.motionBlur:o.motionBlur,h=o.motionBlurPxRatio,f=c.hasCompoundNodes(),m=o.hoverData.draggingEles,g=!(!o.hoverData.selecting&&!o.touchData.selecting),v=p=p&&!t&&o.motionBlurEnabled&&!g;t||(o.prevPxRatio!==s&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=s),!t&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),p&&(null==o.mbFrames&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(v=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!u&&(d[o.NODE]=!0,d[o.SELECT_BOX]=!0);var y=c.style(),b=c.zoom(),_=void 0!==i?i:b,x=c.pan(),w={x:x.x,y:x.y},k={zoom:b,pan:{x:x.x,y:x.y}},E=o.prevViewport;void 0===E||k.zoom!==E.zoom||k.pan.x!==E.pan.x||k.pan.y!==E.pan.y||m&&!f||(o.motionBlurPxRatio=1),a&&(w=a),_*=s,w.x*=s,w.y*=s;var C=o.getCachedZSortedEles();function S(e,t,n,r,i){var a=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",o.colorFillStyle(e,255,255,255,o.motionBlurTransparency),e.fillRect(t,n,r,i),e.globalCompositeOperation=a}function A(e,r){var s,c,d,u;o.clearingMotionBlur||e!==l.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]&&e!==l.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]?(s=w,c=_,d=o.canvasWidth,u=o.canvasHeight):(s={x:x.x*h,y:x.y*h},c=b*h,d=o.canvasWidth*h,u=o.canvasHeight*h),e.setTransform(1,0,0,1,0,0),"motionBlur"===r?S(e,0,0,d,u):t||void 0!==r&&!r||e.clearRect(0,0,d,u),n||(e.translate(s.x,s.y),e.scale(c,c)),a&&e.translate(a.x,a.y),i&&e.scale(i,i)}if(u||(o.textureDrawLastFrame=!1),u){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=c.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var T=o.data.bufferContexts[o.TEXTURE_BUFFER];T.setTransform(1,0,0,1,0,0),T.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:T,drawOnlyNodeLayer:!0,forcedPxRatio:s*o.textureMult}),(k=o.textureCache.viewport={zoom:c.zoom(),pan:c.pan(),width:o.canvasWidth,height:o.canvasHeight}).mpan={x:(0-k.pan.x)/k.zoom,y:(0-k.pan.y)/k.zoom}}d[o.DRAG]=!1,d[o.NODE]=!1;var I=l.contexts[o.NODE],O=o.textureCache.texture;k=o.textureCache.viewport;I.setTransform(1,0,0,1,0,0),p?S(I,0,0,k.width,k.height):I.clearRect(0,0,k.width,k.height);var R=y.core("outside-texture-bg-color").value,D=y.core("outside-texture-bg-opacity").value;o.colorFillStyle(I,R[0],R[1],R[2],D),I.fillRect(0,0,k.width,k.height);b=c.zoom();A(I,!1),I.clearRect(k.mpan.x,k.mpan.y,k.width/k.zoom/s,k.height/k.zoom/s),I.drawImage(O,k.mpan.x,k.mpan.y,k.width/k.zoom/s,k.height/k.zoom/s)}else o.textureOnViewport&&!t&&(o.textureCache=null);var P=c.extent(),L=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),N=o.hideEdgesOnViewport&&L,M=[];if(M[o.NODE]=!d[o.NODE]&&p&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,M[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),M[o.DRAG]=!d[o.DRAG]&&p&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,M[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),d[o.NODE]||n||r||M[o.NODE]){var F=p&&!M[o.NODE]&&1!==h;A(I=t||(F?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:l.contexts[o.NODE]),p&&!F?"motionBlur":void 0),N?o.drawCachedNodes(I,C.nondrag,s,P):o.drawLayeredElements(I,C.nondrag,s,P),o.debug&&o.drawDebugPoints(I,C.nondrag),n||p||(d[o.NODE]=!1)}if(!r&&(d[o.DRAG]||n||M[o.DRAG])){F=p&&!M[o.DRAG]&&1!==h;A(I=t||(F?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:l.contexts[o.DRAG]),p&&!F?"motionBlur":void 0),N?o.drawCachedNodes(I,C.drag,s,P):o.drawCachedElements(I,C.drag,s,P),o.debug&&o.drawDebugPoints(I,C.drag),n||p||(d[o.DRAG]=!1)}if(o.showFps||!r&&d[o.SELECT_BOX]&&!n){if(A(I=t||l.contexts[o.SELECT_BOX]),1==o.selection[4]&&(o.hoverData.selecting||o.touchData.selecting)){b=o.cy.zoom();var z=y.core("selection-box-border-width").value/b;I.lineWidth=z,I.fillStyle="rgba("+y.core("selection-box-color").value[0]+","+y.core("selection-box-color").value[1]+","+y.core("selection-box-color").value[2]+","+y.core("selection-box-opacity").value+")",I.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),z>0&&(I.strokeStyle="rgba("+y.core("selection-box-border-color").value[0]+","+y.core("selection-box-border-color").value[1]+","+y.core("selection-box-border-color").value[2]+","+y.core("selection-box-opacity").value+")",I.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(l.bgActivePosistion&&!o.hoverData.selecting){b=o.cy.zoom();var B=l.bgActivePosistion;I.fillStyle="rgba("+y.core("active-bg-color").value[0]+","+y.core("active-bg-color").value[1]+","+y.core("active-bg-color").value[2]+","+y.core("active-bg-opacity").value+")",I.beginPath(),I.arc(B.x,B.y,y.core("active-bg-size").pfValue/b,0,2*Math.PI),I.fill()}var j=o.lastRedrawTime;if(o.showFps&&j){j=Math.round(j);var H=Math.round(1e3/j);I.setTransform(1,0,0,1,0,0),I.fillStyle="rgba(255, 0, 0, 0.75)",I.strokeStyle="rgba(255, 0, 0, 0.75)",I.lineWidth=1,I.fillText("1 frame = "+j+" ms = "+H+" fps",0,20);I.strokeRect(0,30,250,20),I.fillRect(0,30,250*Math.min(H/60,1),20)}n||(d[o.SELECT_BOX]=!1)}if(p&&1!==h){var V=l.contexts[o.NODE],$=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],U=l.contexts[o.DRAG],G=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],q=function(e,t,n){e.setTransform(1,0,0,1,0,0),n||!v?e.clearRect(0,0,o.canvasWidth,o.canvasHeight):S(e,0,0,o.canvasWidth,o.canvasHeight);var r=h;e.drawImage(t,0,0,o.canvasWidth*r,o.canvasHeight*r,0,0,o.canvasWidth,o.canvasHeight)};(d[o.NODE]||M[o.NODE])&&(q(V,$,M[o.NODE]),d[o.NODE]=!1),(d[o.DRAG]||M[o.DRAG])&&(q(U,G,M[o.DRAG]),d[o.DRAG]=!1)}o.prevViewport=k,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),p&&(o.motionBlurTimeout=setTimeout((function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!u,o.mbFrames=0,d[o.NODE]=!0,d[o.DRAG]=!0,o.redraw()}),100)),t||c.emit("render")};for(var Jk={drawPolygonPath:function(e,t,n,r,i,a){var o=r/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*a[0],n+s*a[1]);for(var c=1;c<a.length/2;c++)e.lineTo(t+o*a[2*c],n+s*a[2*c+1]);e.closePath()},drawRoundPolygonPath:function(e,t,n,r,i,a){var o=r/2,s=i/2,c=Qv(r,i);e.beginPath&&e.beginPath();for(var l=0;l<a.length/4;l++){var d,u=void 0;u=0===l?a.length-2:4*l-2,d=4*l+2;var p=t+o*a[4*l],h=n+s*a[4*l+1],f=-a[u]*a[d]-a[u+1]*a[d+1],m=c/Math.tan(Math.acos(f)/2),g=p-m*a[u],v=h-m*a[u+1],y=p+m*a[d],b=h+m*a[d+1];0===l?e.moveTo(g,v):e.lineTo(g,v),e.arcTo(p,h,y,b,c)}e.closePath()},drawRoundRectanglePath:function(e,t,n,r,i){var a=r/2,o=i/2,s=Zv(r,i);e.beginPath&&e.beginPath(),e.moveTo(t,n-o),e.arcTo(t+a,n-o,t+a,n,s),e.arcTo(t+a,n+o,t,n+o,s),e.arcTo(t-a,n+o,t-a,n,s),e.arcTo(t-a,n-o,t,n-o,s),e.lineTo(t,n-o),e.closePath()},drawBottomRoundRectanglePath:function(e,t,n,r,i){var a=r/2,o=i/2,s=Zv(r,i);e.beginPath&&e.beginPath(),e.moveTo(t,n-o),e.lineTo(t+a,n-o),e.lineTo(t+a,n),e.arcTo(t+a,n+o,t,n+o,s),e.arcTo(t-a,n+o,t-a,n,s),e.lineTo(t-a,n-o),e.lineTo(t,n-o),e.closePath()},drawCutRectanglePath:function(e,t,n,r,i){var a=r/2,o=i/2;e.beginPath&&e.beginPath(),e.moveTo(t-a+8,n-o),e.lineTo(t+a-8,n-o),e.lineTo(t+a,n-o+8),e.lineTo(t+a,n+o-8),e.lineTo(t+a-8,n+o),e.lineTo(t-a+8,n+o),e.lineTo(t-a,n+o-8),e.lineTo(t-a,n-o+8),e.closePath()},drawBarrelPath:function(e,t,n,r,i){var a=r/2,o=i/2,s=t-a,c=t+a,l=n-o,d=n+o,u=Jv(r,i),p=u.widthOffset,h=u.heightOffset,f=u.ctrlPtOffsetPct*p;e.beginPath&&e.beginPath(),e.moveTo(s,l+h),e.lineTo(s,d-h),e.quadraticCurveTo(s+f,d,s+p,d),e.lineTo(c-p,d),e.quadraticCurveTo(c-f,d,c,d-h),e.lineTo(c,l+h),e.quadraticCurveTo(c-f,l,c-p,l),e.lineTo(s+p,l),e.quadraticCurveTo(s+f,l,s,l+h),e.closePath()}},eE=Math.sin(0),tE=Math.cos(0),nE={},rE={},iE=Math.PI/40,aE=0*Math.PI;aE<2*Math.PI;aE+=iE)nE[aE]=Math.sin(aE),rE[aE]=Math.cos(aE);Jk.drawEllipsePath=function(e,t,n,r,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,i/2,0,0,2*Math.PI);else for(var a,o,s=r/2,c=i/2,l=0*Math.PI;l<2*Math.PI;l+=iE)a=t-s*nE[l]*eE+s*rE[l]*tE,o=n+c*rE[l]*eE+c*nE[l]*tE,0===l?e.moveTo(a,o):e.lineTo(a,o);e.closePath()};var oE={};function sE(e){var t=e.indexOf(",");return e.substr(t+1)}function cE(e,t,n){var r=function(){return t.toDataURL(n,e.quality)};switch(e.output){case"blob-promise":return new ub((function(r,i){try{t.toBlob((function(e){null!=e?r(e):i(new Error("`canvas.toBlob()` sent a null value in its callback"))}),n,e.quality)}catch(e){i(e)}}));case"blob":return function(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),i=new Uint8Array(r),a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return new Blob([r],{type:t})}(sE(r()),n);case"base64":return sE(r());case"base64uri":default:return r()}}oE.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},oE.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements().boundingBox(),r=this.findContainerClientCoords(),i=e.full?Math.ceil(n.w):r[2],a=e.full?Math.ceil(n.h):r[3],o=Xm(e.maxWidth)||Xm(e.maxHeight),s=this.getPixelRatio(),c=1;if(void 0!==e.scale)i*=e.scale,a*=e.scale,c=e.scale;else if(o){var l=1/0,d=1/0;Xm(e.maxWidth)&&(l=c*e.maxWidth/i),Xm(e.maxHeight)&&(d=c*e.maxHeight/a),i*=c=Math.min(l,d),a*=c}o||(i*=s,a*=s,c*=s);var u=document.createElement("canvas");u.width=i,u.height=a,u.style.width=i+"px",u.style.height=a+"px";var p=u.getContext("2d");if(i>0&&a>0){p.clearRect(0,0,i,a),p.globalCompositeOperation="source-over";var h=this.getCachedZSortedEles();if(e.full)p.translate(-n.x1*c,-n.y1*c),p.scale(c,c),this.drawElements(p,h),p.scale(1/c,1/c),p.translate(n.x1*c,n.y1*c);else{var f=t.pan(),m={x:f.x*c,y:f.y*c};c*=t.zoom(),p.translate(m.x,m.y),p.scale(c,c),this.drawElements(p,h),p.scale(1/c,1/c),p.translate(-m.x,-m.y)}e.bg&&(p.globalCompositeOperation="destination-over",p.fillStyle=e.bg,p.rect(0,0,i,a),p.fill())}return u},oE.png=function(e){return cE(e,this.bufferCanvasImage(e),"image/png")},oE.jpg=function(e){return cE(e,this.bufferCanvasImage(e),"image/jpeg")};var lE={nodeShapeImpl:function(e,t,n,r,i,a,o){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,i,a);case"polygon":return this.drawPolygonPath(t,n,r,i,a,o);case"round-polygon":return this.drawRoundPolygonPath(t,n,r,i,a,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,r,i,a);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,r,i,a);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,r,i,a);case"barrel":return this.drawBarrelPath(t,n,r,i,a)}}},dE=pE,uE=pE.prototype;function pE(e){var t=this;t.data={canvases:new Array(uE.CANVAS_LAYERS),contexts:new Array(uE.CANVAS_LAYERS),canvasNeedsRedraw:new Array(uE.CANVAS_LAYERS),bufferCanvases:new Array(uE.BUFFER_COUNT),bufferContexts:new Array(uE.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",r="rgba(0,0,0,0)";t.data.canvasContainer=document.createElement("div");var i=t.data.canvasContainer.style;t.data.canvasContainer.style[n]=r,i.position="relative",i.zIndex="0",i.overflow="hidden";var a=e.cy.container();a.appendChild(t.data.canvasContainer),a.style[n]=r;var o={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Fm&&Fm.userAgent.match(/msie|trident|edge/i)&&(o["-ms-touch-action"]="none",o["touch-action"]="none");for(var s=0;s<uE.CANVAS_LAYERS;s++){var c=t.data.canvases[s]=document.createElement("canvas");t.data.contexts[s]=c.getContext("2d"),Object.keys(o).forEach((function(e){c.style[e]=o[e]})),c.style.position="absolute",c.setAttribute("data-id","layer"+s),c.style.zIndex=String(uE.CANVAS_LAYERS-s),t.data.canvasContainer.appendChild(c),t.data.canvasNeedsRedraw[s]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[uE.NODE].setAttribute("data-id","layer"+uE.NODE+"-node"),t.data.canvases[uE.SELECT_BOX].setAttribute("data-id","layer"+uE.SELECT_BOX+"-selectbox"),t.data.canvases[uE.DRAG].setAttribute("data-id","layer"+uE.DRAG+"-drag");for(s=0;s<uE.BUFFER_COUNT;s++)t.data.bufferCanvases[s]=document.createElement("canvas"),t.data.bufferContexts[s]=t.data.bufferCanvases[s].getContext("2d"),t.data.bufferCanvases[s].style.position="absolute",t.data.bufferCanvases[s].setAttribute("data-id","buffer"+s),t.data.bufferCanvases[s].style.zIndex=String(-s-1),t.data.bufferCanvases[s].style.visibility="hidden";t.pathsEnabled=!0;var l=Cv(),d=function(e){return{x:-e.w/2,y:-e.h/2}},u=function(e){return e.boundingBox(),e[0]._private.bodyBounds},p=function(e){return e.boundingBox(),e[0]._private.labelBounds.main||l},h=function(e){return e.boundingBox(),e[0]._private.labelBounds.source||l},f=function(e){return e.boundingBox(),e[0]._private.labelBounds.target||l},m=function(e,t){return t},g=function(e,t,n){var r=e?e+"-":"";return{x:t.x+n.pstyle(r+"text-margin-x").pfValue,y:t.y+n.pstyle(r+"text-margin-y").pfValue}},v=function(e,t,n){var r=e[0]._private.rscratch;return{x:r[t],y:r[n]}},y=t.data.eleTxrCache=new Ak(t,{getKey:function(e){return e[0]._private.nodeKey},doesEleInvalidateKey:function(e){var t=e[0]._private;return!(t.oldBackgroundTimestamp===t.backgroundTimestamp)},drawElement:function(e,n,r,i,a){return t.drawElement(e,n,r,!1,!1,a)},getBoundingBox:u,getRotationPoint:function(e){return{x:((t=u(e)).x1+t.x2)/2,y:(t.y1+t.y2)/2};var t},getRotationOffset:function(e){return d(u(e))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),b=t.data.lblTxrCache=new Ak(t,{getKey:function(e){return e[0]._private.labelStyleKey},drawElement:function(e,n,r,i,a){return t.drawElementText(e,n,r,i,"main",a)},getBoundingBox:p,getRotationPoint:function(e){return g("",v(e,"labelX","labelY"),e)},getRotationOffset:function(e){var t=p(e),n=d(p(e));if(e.isNode()){switch(e.pstyle("text-halign").value){case"left":n.x=-t.w;break;case"right":n.x=0}switch(e.pstyle("text-valign").value){case"top":n.y=-t.h;break;case"bottom":n.y=0}}return n},isVisible:m}),_=t.data.slbTxrCache=new Ak(t,{getKey:function(e){return e[0]._private.sourceLabelStyleKey},drawElement:function(e,n,r,i,a){return t.drawElementText(e,n,r,i,"source",a)},getBoundingBox:h,getRotationPoint:function(e){return g("source",v(e,"sourceLabelX","sourceLabelY"),e)},getRotationOffset:function(e){return d(h(e))},isVisible:m}),x=t.data.tlbTxrCache=new Ak(t,{getKey:function(e){return e[0]._private.targetLabelStyleKey},drawElement:function(e,n,r,i,a){return t.drawElementText(e,n,r,i,"target",a)},getBoundingBox:f,getRotationPoint:function(e){return g("target",v(e,"targetLabelX","targetLabelY"),e)},getRotationOffset:function(e){return d(f(e))},isVisible:m}),w=t.data.lyrTxrCache=new Ik(t);t.onUpdateEleCalcs((function(e,t){y.invalidateElements(t),b.invalidateElements(t),_.invalidateElements(t),x.invalidateElements(t),w.invalidateElements(t);for(var n=0;n<t.length;n++){var r=t[n]._private;r.oldBackgroundTimestamp=r.backgroundTimestamp}}));var k=function(e){for(var t=0;t<e.length;t++)w.enqueueElementRefinement(e[t].ele)};y.onDequeue(k),b.onDequeue(k),_.onDequeue(k),x.onDequeue(k)}uE.CANVAS_LAYERS=3,uE.SELECT_BOX=0,uE.DRAG=1,uE.NODE=2,uE.BUFFER_COUNT=3,uE.TEXTURE_BUFFER=0,uE.MOTIONBLUR_BUFFER_NODE=1,uE.MOTIONBLUR_BUFFER_DRAG=2,uE.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[uE.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[uE.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[uE.SELECT_BOX]=t}};var hE="undefined"!=typeof Path2D;uE.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},uE.usePaths=function(){return hE&&this.pathsEnabled},uE.setImgSmoothing=function(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},uE.getImgSmoothing=function(e){return null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},uE.makeOffscreenCanvas=function(e,t){var n;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":Om(OffscreenCanvas))?n=new OffscreenCanvas(e,t):((n=document.createElement("canvas")).width=e,n.height=t),n},[Lk,jk,Xk,Yk,Kk,Zk,Qk,Jk,oE,lE].forEach((function(e){lg(uE,e)}));var fE=[{type:"layout",extensions:Ww},{type:"renderer",extensions:[{name:"null",impl:Zw},{name:"base",impl:xk},{name:"canvas",impl:dE}]}],mE={},gE={};function vE(e,t,n){var r=n,i=function(n){Mg("Can not register `"+t+"` for `"+e+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===e){if(dw.prototype[t])return i(t);dw.prototype[t]=n}else if("collection"===e){if(Tx.prototype[t])return i(t);Tx.prototype[t]=n}else if("layout"===e){for(var a=function(e){this.options=e,n.call(this,e),qm(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},o=a.prototype=Object.create(n.prototype),s=[],c=0;c<s.length;c++){var l=s[c];o[l]=o[l]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var d=n.prototype.stop;o.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return d?d.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var u=function(e){return e._private.cy},p={addEventFields:function(e,t){t.layout=e,t.cy=u(e),t.target=e},bubble:function(){return!0},parent:function(e){return u(e)}};lg(o,{createEmitter:function(){return this._private.emitter=new q_(p,this),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),fb.eventAliasesOn(o),r=a}else if("renderer"===e&&"null"!==t&&"base"!==t){var h=yE("renderer","base"),f=h.prototype,m=n,g=n.prototype,v=function(){h.apply(this,arguments),m.apply(this,arguments)},y=v.prototype;for(var b in f){var _=f[b];if(null!=g[b])return i(b);y[b]=_}for(var x in g)y[x]=g[x];f.clientFunctions.forEach((function(e){y[e]=y[e]||function(){Mg("Renderer does not implement `renderer."+e+"()` on its prototype")}})),r=v}return pg({map:mE,keys:[e,t],value:r})}function yE(e,t){return hg({map:mE,keys:[e,t]})}function bE(e,t,n,r,i){return pg({map:gE,keys:[e,t,n,r],value:i})}function _E(e,t,n,r){return hg({map:gE,keys:[e,t,n,r]})}var xE=function(){return 2===arguments.length?yE.apply(null,arguments):3===arguments.length?vE.apply(null,arguments):4===arguments.length?_E.apply(null,arguments):5===arguments.length?bE.apply(null,arguments):void Mg("Invalid extension access syntax")};dw.prototype.extension=xE,fE.forEach((function(e){e.extensions.forEach((function(t){vE(e.type,t.name,t.impl)}))}));var wE=function e(){if(!(this instanceof e))return new e;this.length=0},kE=wE.prototype;kE.instanceString=function(){return"stylesheet"},kE.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},kE.css=function(e,t){var n=this.length-1;if($m(e))this[n].properties.push({name:e,value:t});else if(qm(e))for(var r=e,i=Object.keys(r),a=0;a<i.length;a++){var o=i[a],s=r[o];if(null!=s){var c=aw.properties[o]||aw.properties[ig(o)];if(null!=c){var l=c.name,d=s;this[n].properties.push({name:l,value:d})}}}return this},kE.style=kE.css,kE.generateStyle=function(e){var t=new aw(e);return this.appendToStyle(t)},kE.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,i=n.properties;e.selector(r);for(var a=0;a<i.length;a++){var o=i[a];e.css(o.name,o.value)}}return e};var EE=function(e){return void 0===e&&(e={}),qm(e)?new dw(e):$m(e)?xE.apply(xE,arguments):void 0};EE.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(EE),e.apply(null,t),this},EE.warnings=function(e){return Fg(e)},EE.version="3.18.1",EE.stylesheet=EE.Stylesheet=wE;var CE=EE;class SE extends zf{constructor(){super(...arguments),this.workflowsToDisplay=[Ra.GENESIS,Ra.CALL_ZOME,Ra.INCOMING_DHT_OPS,Ra.INTEGRATE_DHT_OPS,Ra.PRODUCE_DHT_OPS,Ra.PUBLISH_DHT_OPS,Ra.APP_VALIDATION,Ra.SYS_VALIDATION],this.workflowDelay=1e3,this.hideErrors=!1,this.stepByStep=!1,this._onPause=!1,this._callZomeTasks=[],this._runningTasks={},this._errors=[]}observedCells(){return[this.cell]}onNewObservedCell(e){return[e.workflowExecutor.before((async e=>{this.workflowsToDisplay.includes(e.type)&&(e.type===Ra.CALL_ZOME?this._callZomeTasks.push(e):(this._runningTasks[e.type]||(this._runningTasks[e.type]=0),this._runningTasks[e.type]+=1),this.requestUpdate(),this.stepByStep?(this.dispatchEvent(new CustomEvent("execution-paused",{detail:{paused:!0},composed:!0,bubbles:!0})),await new Promise((e=>this._resumeObservable.subscribe((()=>e(null))))),this.dispatchEvent(new CustomEvent("execution-paused",{detail:{paused:!1},composed:!0,bubbles:!0}))):await go(this.workflowDelay))})),e.workflowExecutor.success((async e=>{e.type===Ra.CALL_ZOME?this._callZomeTasks=this._callZomeTasks.filter((t=>t!==e)):this._runningTasks[e.type]&&(this._runningTasks[e.type]-=1,0===this._runningTasks[e.type]&&delete this._runningTasks[e.type]),this.requestUpdate()})),e.workflowExecutor.error((async(e,t)=>{if(e.type===Ra.CALL_ZOME?this._callZomeTasks=this._callZomeTasks.filter((t=>t!==e)):this._runningTasks[e.type]&&(this._runningTasks[e.type]-=1,0===this._runningTasks[e.type]&&delete this._runningTasks[e.type]),!this.hideErrors){const n={task:e,error:t};this._errors.push(n),this.requestUpdate(),this.stepByStep?(this.dispatchEvent(new CustomEvent("execution-paused",{detail:{paused:!0},composed:!0,bubbles:!0})),await new Promise((e=>this._resumeObservable.subscribe((()=>e(null))))),this.dispatchEvent(new CustomEvent("execution-paused",{detail:{paused:!1},composed:!0,bubbles:!0}))):await go(this.workflowDelay);const r=this._errors.findIndex((e=>e===n));this._errors.splice(r,1)}this.requestUpdate()}))]}sortTasks(e){return e.sort(((e,t)=>Da(e[0])-Da(t[0])))}showTasks(){return 0!==Object.keys(this._runningTasks).length||0!==this._errors.length||0!==this._callZomeTasks.length}render(){if(!this.showTasks())return l(Hh||(Hh=Pf``));const e=this.sortTasks(Object.entries(this._runningTasks));return l(Vh||(Vh=Pf`
      <mwc-card class="tasks-card">
        <mwc-list style="max-height: 300px; overflow-y: auto; width: 200px;">
          ${0}
          ${0}
          ${0}
        </mwc-list>
        ${0}
      </mwc-card>
    `),this._callZomeTasks.map((e=>l($h||($h=Pf`
              <mwc-list-item
                twoline
                graphic="icon"
                style="--mdc-list-item-graphic-margin: 4px;"
              >
                <mwc-icon slot="graphic" style="color: green;"
                  >call_made</mwc-icon
                >
                <span>${0}</span>
                <span slot="secondary">Zome: ${0}</span>
              </mwc-list-item>
            `),e.details.fnName,e.details.zome))),this._errors.map((e=>l(Uh||(Uh=Pf`
              <mwc-list-item
                twoline
                graphic="icon"
                style="--mdc-list-item-graphic-margin: 4px;"
              >
                <mwc-icon slot="graphic" style="color: red"
                  >error_outline</mwc-icon
                >
                <span> ${0} </span>
                <span slot="secondary">
                  ${0}</span
                >
              </mwc-list-item>
            `),e.error.message,e.task.type===Ra.CALL_ZOME?`${e.task.details.fnName} in ${e.task.details.zome}`:e.task.type))),e.map((([e,t])=>l(Gh||(Gh=Pf`
              <mwc-list-item
                twoline
                graphic="icon"
                style="--mdc-list-item-graphic-margin: 4px;"
              >
                <mwc-icon slot="graphic">miscellaneous_services</mwc-icon>
                <span>
                  ${0} ${0}
                </span>
                <span slot="secondary">Cell Workflow</span>
              </mwc-list-item>
            `),t>1?t+"x":"",e))),this.stepByStep?l(qh||(qh=Pf``)):l(Xh||(Xh=Pf` <mwc-linear-progress indeterminate></mwc-linear-progress> `)))}static get styles(){return[Bf,c(Yh||(Yh=Pf`
        .tasks-card {
          width: auto;
        }
      `))]}static get scopedElements(){return{"mwc-card":il,"mwc-list":hd,"mwc-icon":vs,"mwc-list-item":bl,"mwc-linear-progress":qu}}}Lf([v({type:Object}),Nf("design:type",ao)],SE.prototype,"cell",void 0),Lf([v({type:Array}),Nf("design:type",Array)],SE.prototype,"workflowsToDisplay",void 0),Lf([v({type:Number}),Nf("design:type",Number)],SE.prototype,"workflowDelay",void 0),Lf([v({type:Boolean,attribute:"hide-errors"}),Nf("design:type",Object)],SE.prototype,"hideErrors",void 0),Lf([v({type:Boolean}),Nf("design:type",Boolean)],SE.prototype,"stepByStep",void 0),Lf([v({type:Array}),Nf("design:type",Array)],SE.prototype,"_callZomeTasks",void 0),Lf([v({type:Object}),Nf("design:type",Object)],SE.prototype,"_runningTasks",void 0),Lf([v({type:Object}),Nf("design:type",Array)],SE.prototype,"_errors",void 0);class AE extends zf{renderHelpDialog(){return l(Kh||(Kh=Pf`
      <mwc-dialog id="help-dialog" .heading=${0}>
        <slot></slot>
        <mwc-button slot="primaryAction" dialogAction="cancel">
          Got it!
        </mwc-button>
      </mwc-dialog>
    `),this.heading)}render(){return l(Wh||(Wh=Pf`
      ${0}
      <mwc-icon-button
        icon="help_outline"
        @click=${0}
      ></mwc-icon-button>
    `),this.renderHelpDialog(),(()=>this._helpDialog.show()))}static get scopedElements(){return{"mwc-icon-button":ft,"mwc-button":Ss,"mwc-dialog":Vd}}}function TE(e){const t={},n=[];for(const r of e){const e=r.agentPubKey,i=r.p2p.getNeighbors();for(const r of i)t[r]&&t[r][e]||n.push({data:{id:`${e}->${r}`,source:e,target:r},classes:["neighbor-edge"]}),t[e]||(t[e]={}),t[e][r]=!0;for(const t of r.p2p.farKnownPeers)n.push({data:{id:`${e}->${t}`,source:e,target:t},classes:["far-neighbor-edge"]})}return n}Lf([v({type:String}),Nf("design:type",String)],AE.prototype,"heading",void 0),Lf([b("#help-dialog"),Nf("design:type",Vd)],AE.prototype,"_helpDialog",void 0);const IE={name:"circle",startAngle:2*Math.PI,ready:e=>{e.cy.resize()}};class OE extends zf{constructor(){super(...arguments),this.animationDelay=2e3,this.workflowsToDisplay=[Ra.CALL_ZOME,Ra.APP_VALIDATION],this.networkRequestsToDisplay=[oo.PUBLISH_REQUEST,oo.CALL_REMOTE],this.hideTimeController=!1,this.stepByStep=!1,this._resumeObservable=new Ep,this._onPause=!1,this._neighborEdges=[]}async firstUpdated(){window.addEventListener("scroll",(()=>{this._cy.resize(),this.requestUpdate()})),this._cy=CE({container:this._graph,boxSelectionEnabled:!1,autoungrabify:!0,userPanningEnabled:!1,userZoomingEnabled:!1,layout:IE,style:"\n  node {\n    background-color: lightblue;\n    border-color: black;\n    border-width: 2px;\n    label: data(label);\n    font-size: 20px;\n    width: 50px;\n    height: 50px;\n  }\n  \n  .selected {\n    border-width: 4px;\n    border-color: black;\n    border-style: solid;\n  }\n\n  .highlighted {\n    background-color: yellow;\n  }\n\n  edge {\n    width: 1;\n  }\n\n  .network-request {\n    target-arrow-shape: triangle;\n    label: data(label);\n  }\n\n  .neighbor-edge {\n    line-style: dotted;\n  }\n\n  .far-neighbor-edge {\n    line-style: dotted;\n    opacity: 0.2;\n  }\n\n  .network-request {\n    width: 10px;\n    height: 10px;\n    background-color: grey;\n    border-width: 0px;\n  }\n"}),this._cy.on("tap","node",(e=>{this.updatePlayground({activeAgentPubKey:e.target.id()})}));let e=!1;this._cy.on("render",(()=>{0!==this._cy.width()&&(e||(e=!0,setTimeout((()=>{this.setupGraphNodes()}))))}))}highlightNodesWithEntry(){const e=Hf(this.activeDna,this.conductors);if(e.forEach((e=>this._cy.getElementById(e.agentPubKey).removeClass("highlighted"))),this.activeHash){const t=function(e,t){return Yi(e)===zi.ENTRY?t.filter((t=>{return n=t.getState(),r=e,void 0!==n.metadata.system_meta[r];var n,r})):t.filter((t=>{return n=t.getState(),r=e,"StoreElement"===n.metadata.misc_meta[r];var n,r}))}(this.activeHash,e);for(const e of t)this._cy.getElementById(e.agentPubKey).addClass("highlighted")}}observedCells(){return Hf(this.activeDna,this.conductors)}onNewObservedCell(e){return[e.p2p.networkRequestsExecutor.before((async e=>{if(this.requestUpdate(),!this.networkRequestsToDisplay.includes(e.type))return;if(e.toAgent===e.fromAgent)return;const t=this._cy.getElementById(e.fromAgent);if(!t.position())return;const n=this._cy.getElementById(e.toAgent),r=t.position(),i=n.position();let a=e.type;if(e.type===oo.PUBLISH_REQUEST){const t=e.details.dhtOps;a=`Publish: ${li(Object.values(t).map((e=>e.type))).join(", ")}`}const o=this._cy.add([{group:"nodes",data:{networkRequest:e,label:a},position:{x:r.x+1,y:r.y+1},classes:["network-request"]}]);if(this.stepByStep){const e={x:(i.x-r.x)/2+r.x,y:(i.y-r.y)/2+r.y};o.animate({position:e,duration:this.animationDelay/2}),await go(this.animationDelay/2),this._onPause=!0,await new Promise((e=>this._resumeObservable.subscribe((()=>e(null))))),this._onPause=!1,o.animate({position:i,duration:this.animationDelay/2}),await go(this.animationDelay/2)}else o.animate({position:n.position(),duration:this.animationDelay}),await go(this.animationDelay);this._cy.remove(o)}))]}onCellsChanged(){this.setupGraphNodes()}setupGraphNodes(){const e=this._observedCells.sort(((e,t)=>Gi(e.agentPubKey)-Gi(t.agentPubKey))).map((e=>({data:{id:e.agentPubKey,label:`${e.agentPubKey.substr(0,10)}...`},classes:["cell"]})));this._layout&&this._layout.stop(),this._cy.remove("node"),this._cy.remove("edge"),this._cy.add(e);const t=TE(this._observedCells);this._cy.add(t),this._layout=this._cy.elements().makeLayout(IE),this._layout.run(),this._cy.fit(e,e.length<3?170:0),this._cy.center()}updated(e){super.updated(e);const t=TE(this._observedCells);this._neighborEdges.length!=t.length&&(this._neighborEdges=t,this._cy.add(t)),this.observedCells().forEach((e=>this._cy.getElementById(e.agentPubKey).removeClass("selected"))),this._cy.getElementById(this.activeAgentPubKey).addClass("selected"),this.highlightNodesWithEntry(),e.has("_onPause")&&this._cy.style().selector(".cell").style({opacity:this._onPause?.4:1})}renderTimeController(){return this.hideTimeController?l(Zh||(Zh=Pf``)):l(Qh||(Qh=Pf`
      <div class="row center-content">
        ${0}

        <span
          class="vertical-divider"
          style="margin: 0 16px; margin-right: 24px;"
        ></span>

        <mwc-formfield label="Step By Step" style="margin-right: 16px;">
          <mwc-switch
            id="step-by-step-switch"
            .checked=${0}
            @change=${0}
          ></mwc-switch>
        </mwc-formfield>
      </div>
    `),this.stepByStep?l(Jh||(Jh=Pf`
              <mwc-icon-button
                .disabled=${0}
                icon="play_arrow"
                style=${0}
                @click=${0}
              ></mwc-icon-button>
            `),!this._onPause,O({"background-color":this._onPause?"#dbdbdb":"white","border-radius":"50%"}),(()=>this._resumeObservable.next())):l(ef||(ef=Pf`
              <mwc-slider
                style="margin-right: 16px;"
                .value=${0}
                pin
                .min=${0}
                .max=${0}
                @change=${0}
              ></mwc-slider>
              <mwc-icon style="margin: 0 8px;">speed</mwc-icon>
            `),7e3-this.animationDelay,1e3,7e3,(e=>this.animationDelay=7e3-e.target.value)),this.stepByStep,(e=>{this.stepByStep=e.target.checked,this._onPause&&this._resumeObservable.next()}))}renderHelp(){return l(tf||(tf=Pf`
      <holochain-playground-help-button heading="DHT Cells" class="block-help">
        <span>
          This is a visual interactive representation of a holochain
          <a
            href="https://developer.holochain.org/docs/concepts/4_public_data_on_the_dht/"
            target="_blank"
            >DHT</a
          >, with ${0} nodes.
          <br />
          <br />
          In the DHT, all nodes have a <strong>public and private key</strong>.
          The public key is visible and shared througout the network, but
          private keys never leave their nodes. This public key is of 256 bits
          an it's actually the node's ID, which you can see labeled besides the
          nodes (encoded in base58 strings).
          <br />
          <br />
          If you pay attention, you will see that
          <strong>all nodes in the DHT are ordered alphabetically</strong>. This
          is because the nodes organize themselves in neighborhoods: they are
          more connected with the nodes that are closest to their ID, and less
          connected with the nodes that are far.
        </span>
      </holochain-playground-help-button>
    `),this.conductors.length)}renderTasksTooltips(){if(!this._cy||!this._observedCells)return l(nf||(nf=Pf``));const e=this._cy.nodes().map((e=>{const t=e.id();return{cell:this._observedCells.find((e=>e.agentPubKey===t)),position:e.renderedPosition()}}));return l(rf||(rf=Pf`${0}`),e.map((({cell:e,position:t})=>{const n=this._cy.width()/2>t.x,r=this._cy.height()/2>t.y,i=t.x+(n?-250:50),a=t.y+(r?-50:50);return l(af||(af=Pf`<holochain-playground-cell-tasks
        .workflowsToDisplay=${0}
        .workflowDelay=${0}
        .cell=${0}
        style=${0}
        .stepByStep=${0}
        ._onPause=${0}
        ._resumeObservable=${0}
        @execution-paused=${0}
      >
      </holochain-playground-cell-tasks>`),this.workflowsToDisplay,this.animationDelay,e,O({top:`${a}px`,left:`${i}px`,position:"absolute","z-index":"3"}),this.stepByStep,this._onPause,this._resumeObservable,(e=>this._onPause=e.detail.paused))})))}renderCopyButton(){return l(of||(of=Pf``))}renderBottomToolbar(){const e=Object.values(Ra),t=Object.values(oo);return l(sf||(sf=Pf`
      <div class="row center-content" style="margin: 16px; position: relative;">
        <mwc-button
          label="Visible Worfklows"
          style="--mdc-theme-primary: rgba(0,0,0,0.7);"
          icon="arrow_drop_down"
          id="active-workflows-button"
          trailingIcon
          @click=${0}
        ></mwc-button>
        <mwc-menu
          corner="BOTTOM_END"
          multi
          activatable
          id="active-workflows-menu"
          .anchor=${0}
          @selected=${0}
        >
          ${0}
        </mwc-menu>

        <mwc-button
          label="Visible Network Requests"
          style="--mdc-theme-primary: rgba(0,0,0,0.7);"
          icon="arrow_drop_down"
          id="network-requests-button"
          trailingIcon
          @click=${0}
        ></mwc-button>
        <mwc-menu
          corner="BOTTOM_END"
          multi
          activatable
          id="network-requests-menu"
          .anchor=${0}
          @selected=${0}
        >
          ${0}
        </mwc-menu>

        <span style="flex: 1;"></span>

        ${0}
      </div>
    `),(()=>this._activeWorkflowsMenu.show()),this._activeWorkflowsButton,(t=>this.workflowsToDisplay=[...t.detail.index].map((t=>e[t]))),e.map((e=>l(cf||(cf=Pf`
              <mwc-list-item
                graphic="icon"
                .selected=${0}
                .activated=${0}
              >
                ${0}
                ${0}
              </mwc-list-item>
            `),this.workflowsToDisplay.includes(e),this.workflowsToDisplay.includes(e),this.workflowsToDisplay.includes(e)?l(lf||(lf=Pf` <mwc-icon slot="graphic">check</mwc-icon> `)):l(df||(df=Pf``)),e))),(()=>this._networkRequestsMenu.show()),this._networkRequestsButton,(e=>this.networkRequestsToDisplay=[...e.detail.index].map((e=>t[e]))),t.map((e=>l(uf||(uf=Pf`
              <mwc-list-item
                graphic="icon"
                .selected=${0}
                .activated=${0}
              >
                ${0}
                ${0}
              </mwc-list-item>
            `),this.networkRequestsToDisplay.includes(e),this.networkRequestsToDisplay.includes(e),this.networkRequestsToDisplay.includes(e)?l(pf||(pf=Pf` <mwc-icon slot="graphic">check</mwc-icon> `)):l(hf||(hf=Pf``)),e))),this.renderTimeController())}render(){return l(ff||(ff=Pf`
      <mwc-card class="block-card" style="position: relative;">
        ${0} ${0}
        ${0}
        <div class="column fill">
          <span class="block-title" style="margin: 16px;">DHT Cells</span>
          <div
            id="graph"
            class="fill"
            style=${0}
          ></div>
          ${0}
        </div>
      </mwc-card>
    `),this.renderHelp(),this.renderTasksTooltips(),this.renderCopyButton(),O({"background-color":this._onPause?"#dbdbdba0":"white"}),this.renderBottomToolbar())}static get styles(){return[Bf,c(mf||(mf=Pf`
        :host {
          display: flex;
        }
      `))]}static get scopedElements(){return{"mwc-card":il,"mwc-menu-surface":tu,"mwc-button":Ss,"mwc-icon":vs,"mwc-menu":Fp,"mwc-list-item":bl,"mwc-slider":Ou,"mwc-switch":ju,"mwc-formfield":np,"mwc-icon-button":ft,"holochain-playground-help-button":AE,"holochain-playground-cell-tasks":SE}}}Lf([v({type:Number}),Nf("design:type",Number)],OE.prototype,"animationDelay",void 0),Lf([v({type:Array}),Nf("design:type",Array)],OE.prototype,"workflowsToDisplay",void 0),Lf([v({type:Array}),Nf("design:type",Array)],OE.prototype,"networkRequestsToDisplay",void 0),Lf([v({type:Boolean,attribute:"hide-time-controller"}),Nf("design:type",Boolean)],OE.prototype,"hideTimeController",void 0),Lf([v({type:Boolean,attribute:"step-by-step"}),Nf("design:type",Object)],OE.prototype,"stepByStep",void 0),Lf([b("#graph"),Nf("design:type",Object)],OE.prototype,"_graph",void 0),Lf([b("#active-workflows-button"),Nf("design:type",Ss)],OE.prototype,"_activeWorkflowsButton",void 0),Lf([b("#active-workflows-menu"),Nf("design:type",Fp)],OE.prototype,"_activeWorkflowsMenu",void 0),Lf([b("#network-requests-button"),Nf("design:type",Ss)],OE.prototype,"_networkRequestsButton",void 0),Lf([b("#network-requests-menu"),Nf("design:type",Fp)],OE.prototype,"_networkRequestsMenu",void 0),Lf([v({type:Boolean}),Nf("design:type",Object)],OE.prototype,"_onPause",void 0);class RE extends zf{constructor(){super(...arguments),this.processing=!1}static get styles(){return Bf}get activeCell(){return Vf(this.activeDna,this.activeAgentPubKey,this.conductors)||this.allCells[0]}get allCells(){return Hf(this.activeDna,this.conductors)}renderStatsHelp(){return l(gf||(gf=Pf`
      <mwc-dialog id="stats-help" heading="DHT Statistics Help">
        <span>
          This panel contains statistics for the current state of the DHT.
          <br />
          <br />
          Having a redundancy factor of
          ${0}, it will
          <strong>
            replicate every DHT Op in the
            ${0} nodes that are closest to
            its neighborhood </strong
          >.
          <br />
          <br />
          The number of
          <strong
            >DHT Ops (DHT Operation Transforms) is a measure of the load that
            the DHT has to hold</strong
          >. A DHT Op is the command that a node receives to indicate it has to
          change something in its shard of the DHT. Example of DHT Ops are
          "StoreEntry", "RegisterAddLink".
        </span>
        <mwc-button slot="primaryAction" dialogAction="cancel">
          Got it!
        </mwc-button>
      </mwc-dialog>
    `),$f(this.activeCell),$f(this.activeCell))}async republish(){const e=parseInt(this.nNodes.value),t=this.allCells.length;parseInt(this.rFactor.value),this.activeDna;let n=this.conductors;if(e>t){const r=e-t;n=await yo(r,n,mo())}else if(e<t){const r=t-e,i=e=>Math.max(...jf(this.activeDna,e).map((e=>e.getState().sourceChain.length)));n=n.sort(((e,t)=>i(e)-i(t))),n.splice(0,r)}this.processing=!1}updateDHTStats(){this.processing=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.republish()}),400)}render(){return l(vf||(vf=Pf`
      ${0}
      <div class="column" style="position: relative;">
        <div style="padding: 16px;">
          <span class="title">Global DHT Stats</span>

          <mwc-icon-button
            style="position: absolute; right: 8px; top: 8px;"
            icon="help_outline"
            @click=${0}
          ></mwc-icon-button>

          <div class="row center-content">
            <div class="row center-content" style="padding-right: 16px;">
              <span style="margin-right: 8px;">Number of nodes: </span
              ><mwc-textfield
                id="number-of-nodes"
                min="1"
                max="50"
                outlined
                type="number"
                style="width: 5em;"
                .disabled=${0}
                @change=${0}
                .value=${0}
              ></mwc-textfield>
            </div>
            <div class="row center-content" style="padding-right: 24px;">
              <span style="margin-right: 8px;">Redundancy factor: </span
              ><mwc-textfield
                id="r-factor"
                min="1"
                max="50"
                outlined
                type="number"
                .disabled=${0}
                style="width: 5em;"
                @change=${0}
                .value=${0}
              ></mwc-textfield>
            </div>
            <div class="column fill">
              <span style="margin-bottom: 2px;"
                >Unique DHT Ops:
                <strong>${0}</strong></span
              >
              <span style="margin-bottom: 2px;"
                >Median DHT Ops per node:
                <strong
                  >${0}</strong
                ></span
              >
              <span
                >Global DHT Ops:
                <strong>${0}</strong></span
              >
            </div>
          </div>
        </div>
        ${0}
      </div>
    `),this.renderStatsHelp(),(()=>this.statsHelp.open=!0),void 0!==this.conductorsUrls,(()=>this.updateDHTStats()),this.allCells.length.toString(),void 0!==this.conductorsUrls,(()=>this.updateDHTStats()),$f(this.activeCell).toString(),function(e){const t={};for(const n of e)for(const e of Object.keys(n.getState().integratedDHTOps))t[e]={};return Object.keys(t).length}(this.allCells),function(e){const t=[];for(const n of e)t.push(Object.keys(n.getState().integratedDHTOps).length);t.sort();const n=Math.floor(t.length/2);return t.sort(((e,t)=>e-t))[n]}(this.allCells),function(e){let t=0;for(const n of e)t+=Object.keys(n.getState().integratedDHTOps).length;return t}(this.allCells),this.processing?l(yf||(yf=Pf`<mwc-linear-progress indeterminate></mwc-linear-progress>`)):l(bf||(bf=Pf``)))}static get scopedElements(){return{"mwc-linear-progress":qu,"mwc-textfield":ps,"mwc-icon-button":ft,"mwc-dialog":Vd}}}function DE(e,t,n){const r={},i={},a={};for(const t of e){const e=t.getState();for(const n of ta(e)){r[n]=ea(e,n),i[n]||(i[n]=[]),i[n].push(na(e,n));const o=r[n].headers[0];o&&o.header.content.entry_type&&(a[n]=_a(t,o.header.content.entry_type))}}const o=function(e,t){return e.sort(((e,n)=>function(e,t,n){const r=Object.values(e[t].headers).sort(LE),i=Object.values(e[n].headers).sort(LE);return r.length>0?Pt(r[0].header.content.timestamp):0-i.length>0?Pt(i[0].header.content.timestamp):0}(t,e,n)))}(Object.keys(r),r),s=[],c=[],l={};for(const e of o){const o=r[e],d=o.entry,u=o.headers[0],p=a[e];if(l[p]||(l[p]=0),!n.includes(p)){if(c.push({data:{id:e,data:d,label:`${p}${l[p]}`},classes:[p]}),t){const t=am(d.content);if("object"==typeof t){const n=Object.keys(d.content);for(const r of n){const n=`${e}:${r}`;c.push({data:{id:n,parent:e}}),c.push({data:{id:`${n}:key`,label:r,parent:n}}),c.push({data:{id:`${n}:value`,label:t[r],parent:n}})}}else c.push({data:{id:`${e}:content`,label:t,parent:e}})}if(ba(u.header.content.entry_type)){const t=PE(Object.keys(r),d.content);for(const r of t)n.includes(a[r.target])||s.push({data:{id:`${e}->${r.target}`,source:e,target:r.target,label:r.label},classes:["implicit"]})}const h=i[e];if(h){const t=aa(h);for(const r of t){const t=r.tag&&"string"!=typeof r.tag?JSON.stringify(r.tag):r.tag,i=r.target;if(!n.includes(a[i])){const n={data:{id:`${e}->${i}`,source:e,target:i},classes:["explicit"]};t&&(n.data.label=t),s.push(n)}}}const f=o.headers.filter((t=>t.header.content.original_header_address&&t.header.content.original_entry_address===e));for(const t of f){const n=t.header.content.entry_hash;s.push({data:{id:`${e}-updated-by-${n}`,source:e,target:n,label:"updated by"},classes:["update-edge"]})}const m=c.find((t=>t.data.id===e));o.updates.length>0&&m.classes.push("updated"),o.deletes.length>0&&m.classes.push("deleted")}l[p]+=1}return{entries:[...c,...s],entryTypes:Object.keys(l)}}function PE(e,t){if(!t)return[];if("string"==typeof t)return e.includes(t)?[{label:void 0,target:t}]:[];if(Array.isArray(t)&&t.length>0&&"string"==typeof t[0])return t.filter((t=>e.includes(t))).map((e=>({target:e,label:void 0})));if("object"==typeof t){const n=Object.entries(t).map((([t,n])=>{const r=PE(e,n);for(const e of r)e.label||(e.label=t);return r}));return[].concat(...n)}return[]}function LE(e,t){return Pt(e.header.content.timestamp)-Pt(t.header.content.timestamp)}Lf([b("#stats-help"),Nf("design:type",Vd)],RE.prototype,"statsHelp",void 0),Lf([b("#number-of-nodes"),Nf("design:type",ps)],RE.prototype,"nNodes",void 0),Lf([b("#r-factor"),Nf("design:type",ps)],RE.prototype,"rFactor",void 0),Lf([v({type:Boolean}),Nf("design:type",Boolean)],RE.prototype,"processing",void 0);var NE=lm((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){this.source=e,this.target=t,this.type=n};t.PowerEdge=n;var r=function(){function e(e,t,n,r){var i=this;if(this.linkAccessor=n,this.modules=new Array(e),this.roots=[],r)this.initModulesFromGroup(r);else{this.roots.push(new o);for(var s=0;s<e;++s)this.roots[0].add(this.modules[s]=new a(s))}this.R=t.length,t.forEach((function(e){var t=i.modules[n.getSourceIndex(e)],r=i.modules[n.getTargetIndex(e)],a=n.getType(e);t.outgoing.add(a,r),r.incoming.add(a,t)}))}return e.prototype.initModulesFromGroup=function(e){var t=new o;this.roots.push(t);for(var n=0;n<e.leaves.length;++n){var r=e.leaves[n],i=new a(r.id);this.modules[r.id]=i,t.add(i)}if(e.groups)for(var c=0;c<e.groups.length;++c){var l=e.groups[c],d={};for(var u in l)"leaves"!==u&&"groups"!==u&&l.hasOwnProperty(u)&&(d[u]=l[u]);t.add(new a(-1-c,new s,new s,this.initModulesFromGroup(l),d))}return t},e.prototype.merge=function(e,t,n){void 0===n&&(n=0);var r=e.incoming.intersection(t.incoming),i=e.outgoing.intersection(t.outgoing),s=new o;s.add(e),s.add(t);var c=new a(this.modules.length,i,r,s);this.modules.push(c);var l=function(n,r,i){n.forAll((function(n,a){n.forAll((function(n){var o=n[r];o.add(a,c),o.remove(a,e),o.remove(a,t),e[i].remove(a,n),t[i].remove(a,n)}))}))};return l(i,"incoming","outgoing"),l(r,"outgoing","incoming"),this.R-=r.count()+i.count(),this.roots[n].remove(e),this.roots[n].remove(t),this.roots[n].add(c),c},e.prototype.rootMerges=function(e){void 0===e&&(e=0);for(var t=this.roots[e].modules(),n=t.length,r=new Array(n*(n-1)),i=0,a=0,o=n-1;a<o;++a)for(var s=a+1;s<n;++s){var c=t[a],l=t[s];r[i]={id:i,nEdges:this.nEdges(c,l),a:c,b:l},i++}return r},e.prototype.greedyMerge=function(){for(var e=0;e<this.roots.length;++e)if(!(this.roots[e].modules().length<2)){var t=this.rootMerges(e).sort((function(e,t){return e.nEdges==t.nEdges?e.id-t.id:e.nEdges-t.nEdges}))[0];if(!(t.nEdges>=this.R))return this.merge(t.a,t.b,e),!0}},e.prototype.nEdges=function(e,t){var n=e.incoming.intersection(t.incoming),r=e.outgoing.intersection(t.outgoing);return this.R-n.count()-r.count()},e.prototype.getGroupHierarchy=function(e){var t=this,r=[];return i(this.roots[0],{},r),this.allEdges().forEach((function(i){var a=t.modules[i.source],o=t.modules[i.target];e.push(new n(void 0===a.gid?i.source:r[a.gid],void 0===o.gid?i.target:r[o.gid],i.type))})),r},e.prototype.allEdges=function(){var t=[];return e.getEdges(this.roots[0],t),t},e.getEdges=function(t,n){t.forAll((function(t){t.getEdges(n),e.getEdges(t.children,n)}))},e}();function i(e,t,n){e.forAll((function(e){if(e.isLeaf())t.leaves||(t.leaves=[]),t.leaves.push(e.id);else{var r=t;if(e.gid=n.length,!e.isIsland()||e.isPredefined()){if(r={id:e.gid},e.isPredefined())for(var a in e.definition)r[a]=e.definition[a];t.groups||(t.groups=[]),t.groups.push(e.gid),n.push(r)}i(e.children,r,n)}}))}t.Configuration=r;var a=function(){function e(e,t,n,r,i){void 0===t&&(t=new s),void 0===n&&(n=new s),void 0===r&&(r=new o),this.id=e,this.outgoing=t,this.incoming=n,this.children=r,this.definition=i}return e.prototype.getEdges=function(e){var t=this;this.outgoing.forAll((function(r,i){r.forAll((function(r){e.push(new n(t.id,r.id,i))}))}))},e.prototype.isLeaf=function(){return 0===this.children.count()},e.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},e.prototype.isPredefined=function(){return void 0!==this.definition},e}();t.Module=a;var o=function(){function e(){this.table={}}return e.prototype.count=function(){return Object.keys(this.table).length},e.prototype.intersection=function(t){var n=new e;return n.table=function(e,t){var n={};for(var r in e)r in t&&(n[r]=e[r]);return n}(this.table,t.table),n},e.prototype.intersectionCount=function(e){return this.intersection(e).count()},e.prototype.contains=function(e){return e in this.table},e.prototype.add=function(e){this.table[e.id]=e},e.prototype.remove=function(e){delete this.table[e.id]},e.prototype.forAll=function(e){for(var t in this.table)e(this.table[t])},e.prototype.modules=function(){var e=[];return this.forAll((function(t){t.isPredefined()||e.push(t)})),e},e}();t.ModuleSet=o;var s=function(){function e(){this.sets={},this.n=0}return e.prototype.count=function(){return this.n},e.prototype.contains=function(e){var t=!1;return this.forAllModules((function(n){t||n.id!=e||(t=!0)})),t},e.prototype.add=function(e,t){(e in this.sets?this.sets[e]:this.sets[e]=new o).add(t),++this.n},e.prototype.remove=function(e,t){var n=this.sets[e];n.remove(t),0===n.count()&&delete this.sets[e],--this.n},e.prototype.forAll=function(e){for(var t in this.sets)e(this.sets[t],Number(t))},e.prototype.forAllModules=function(e){this.forAll((function(t,n){return t.forAll(e)}))},e.prototype.intersection=function(t){var n=new e;return this.forAll((function(e,r){if(r in t.sets){var i=e.intersection(t.sets[r]),a=i.count();a>0&&(n.sets[r]=i,n.n+=a)}})),n},e}();t.LinkSets=s,t.getGroups=function(e,t,n,i){for(var a=e.length,o=new r(a,t,n,i);o.greedyMerge(););var s=[],c=o.getGroupHierarchy(s);return s.forEach((function(t){var n=function(n){var r=t[n];"number"==typeof r&&(t[n]=e[r])};n("source"),n("target")})),{groups:c,powerEdges:s}}})),ME=lm((function(e,t){function n(e,t){var n={};for(var r in e)n[r]={};for(var r in t)n[r]={};return Object.keys(n).length}function r(e,t){var n=0;for(var r in e)void 0!==t[r]&&++n;return n}function i(e,t,n,r){var i=function(e,t){var n={},r=function(e,t){void 0===n[e]&&(n[e]={}),n[e][t]={}};return e.forEach((function(e){var n=t.getSourceIndex(e),i=t.getTargetIndex(e);r(n,i),r(i,n)})),n}(e,r);e.forEach((function(e){var a=i[r.getSourceIndex(e)],o=i[r.getTargetIndex(e)];r.setLength(e,1+t*n(a,o))}))}function a(e,t,n){var r=[],i=0,a=[],o=[];function s(e){e.index=e.lowlink=i++,a.push(e),e.onStack=!0;for(var t=0,n=e.out;t<n.length;t++){var r=n[t];void 0===r.index?(s(r),e.lowlink=Math.min(e.lowlink,r.lowlink)):r.onStack&&(e.lowlink=Math.min(e.lowlink,r.index))}if(e.lowlink===e.index){for(var c=[];a.length&&((r=a.pop()).onStack=!1,c.push(r),r!==e););o.push(c.map((function(e){return e.id})))}}for(var c=0;c<e;c++)r.push({id:c,out:[]});for(var l=0,d=t;l<d.length;l++){var u=d[l],p=r[n.getSourceIndex(u)],h=r[n.getTargetIndex(u)];p.out.push(h)}for(var f=0,m=r;f<m.length;f++){var g=m[f];void 0===g.index&&s(g)}return o}Object.defineProperty(t,"__esModule",{value:!0}),t.symmetricDiffLinkLengths=function(e,t,a){void 0===a&&(a=1),i(e,a,(function(e,t){return Math.sqrt(n(e,t)-r(e,t))}),t)},t.jaccardLinkLengths=function(e,t,a){void 0===a&&(a=1),i(e,a,(function(e,t){return Math.min(Object.keys(e).length,Object.keys(t).length)<1.1?0:r(e,t)/n(e,t)}),t)},t.generateDirectedEdgeConstraints=function(e,t,n,r){var i=a(e,t,r),o={};i.forEach((function(e,t){return e.forEach((function(e){return o[e]=t}))}));var s=[];return t.forEach((function(e){var t=r.getSourceIndex(e),i=r.getTargetIndex(e);o[t]!==o[i]&&s.push({axis:n,left:t,right:i,gap:r.getMinSeparation(e)})})),s},t.stronglyConnectedComponents=a})),FE=lm((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.locks={}}return e.prototype.add=function(e,t){this.locks[e]=t},e.prototype.clear=function(){this.locks={}},e.prototype.isEmpty=function(){for(var e in this.locks)return!1;return!0},e.prototype.apply=function(e){for(var t in this.locks)e(Number(t),this.locks[t])},e}();t.Locks=n;var r=function(){function e(e,t,r){void 0===r&&(r=null),this.D=t,this.G=r,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new i,this.project=null,this.x=e,this.k=e.length;var a=this.n=e[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new n,this.minD=Number.MAX_VALUE;for(var o,s=a;s--;)for(o=a;--o>s;){var c=t[s][o];c>0&&c<this.minD&&(this.minD=c)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),s=this.k;s--;){for(this.g[s]=new Array(a),this.H[s]=new Array(a),o=a;o--;)this.H[s][o]=new Array(a);this.Hd[s]=new Array(a),this.a[s]=new Array(a),this.b[s]=new Array(a),this.c[s]=new Array(a),this.d[s]=new Array(a),this.e[s]=new Array(a),this.ia[s]=new Array(a),this.ib[s]=new Array(a),this.xtmp[s]=new Array(a)}}return e.createSquareMatrix=function(e,t){for(var n=new Array(e),r=0;r<e;++r){n[r]=new Array(e);for(var i=0;i<e;++i)n[r][i]=t(r,i)}return n},e.prototype.offsetDir=function(){for(var e=this,t=new Array(this.k),n=0,r=0;r<this.k;++r){var i=t[r]=this.random.getNextBetween(.01,1)-.5;n+=i*i}return n=Math.sqrt(n),t.map((function(t){return t*(e.minD/n)}))},e.prototype.computeDerivatives=function(e){var t=this,n=this.n;if(!(n<1)){for(var r,i=new Array(this.k),a=new Array(this.k),o=new Array(this.k),s=0,c=0;c<n;++c){for(r=0;r<this.k;++r)o[r]=this.g[r][c]=0;for(var l=0;l<n;++l)if(c!==l){for(var d=n;d--;){var u=0;for(r=0;r<this.k;++r){var p=i[r]=e[r][c]-e[r][l];u+=a[r]=p*p}if(u>1e-9)break;var h=this.offsetDir();for(r=0;r<this.k;++r)e[r][l]+=h[r]}var f=Math.sqrt(u),m=this.D[c][l],g=null!=this.G?this.G[c][l]:1;if(g>1&&f>m||!isFinite(m))for(r=0;r<this.k;++r)this.H[r][c][l]=0;else{g>1&&(g=1);var v=m*m,y=2*g*(f-m)/(v*f),b=f*f*f,_=2*-g/(v*b);for(isFinite(y)||console.log(y),r=0;r<this.k;++r)this.g[r][c]+=i[r]*y,o[r]-=this.H[r][c][l]=_*(b+m*(a[r]-u)+f*u)}}for(r=0;r<this.k;++r)s=Math.max(s,this.H[r][c][c]=o[r])}var x=this.snapGridSize/2,w=this.snapGridSize,k=this.snapStrength/(x*x),E=this.numGridSnapNodes;for(c=0;c<E;++c)for(r=0;r<this.k;++r){var C=this.x[r][c],S=C/w,A=S%1,T=S-A;-x<(p=Math.abs(A)<=.5?C-T*w:C>0?C-(T+1)*w:C-(T-1)*w)&&p<=x&&(this.scaleSnapByMaxH?(this.g[r][c]+=s*k*p,this.H[r][c][c]+=s*k):(this.g[r][c]+=k*p,this.H[r][c][c]+=k))}this.locks.isEmpty()||this.locks.apply((function(n,i){for(r=0;r<t.k;++r)t.H[r][n][n]+=s,t.g[r][n]-=s*(i[r]-e[r][n])}))}},e.dotProd=function(e,t){for(var n=0,r=e.length;r--;)n+=e[r]*t[r];return n},e.rightMultiply=function(t,n,r){for(var i=t.length;i--;)r[i]=e.dotProd(t[i],n)},e.prototype.computeStepSize=function(t){for(var n=0,r=0,i=0;i<this.k;++i)n+=e.dotProd(this.g[i],t[i]),e.rightMultiply(this.H[i],t[i],this.Hd[i]),r+=e.dotProd(t[i],this.Hd[i]);return 0!==r&&isFinite(r)?1*n/r:0},e.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var e=this.computeStepSize(this.g),t=0;t<this.k;++t)this.takeDescentStep(this.x[t],this.g[t],e);return this.computeStress()},e.copy=function(e,t){for(var n=e.length,r=t[0].length,i=0;i<n;++i)for(var a=0;a<r;++a)t[i][a]=e[i][a]},e.prototype.stepAndProject=function(t,n,r,i){e.copy(t,n),this.takeDescentStep(n[0],r[0],i),this.project&&this.project[0](t[0],t[1],n[0]),this.takeDescentStep(n[1],r[1],i),this.project&&this.project[1](n[0],t[1],n[1]);for(var a=2;a<this.k;a++)this.takeDescentStep(n[a],r[a],i)},e.mApply=function(e,t,n){for(var r=e;r-- >0;)for(var i=t;i-- >0;)n(r,i)},e.prototype.matrixApply=function(t){e.mApply(this.k,this.n,t)},e.prototype.computeNextPosition=function(e,t){var n=this;this.computeDerivatives(e);var r=this.computeStepSize(this.g);if(this.stepAndProject(e,t,this.g,r),this.project){this.matrixApply((function(r,i){return n.e[r][i]=e[r][i]-t[r][i]}));var i=this.computeStepSize(this.e);i=Math.max(.2,Math.min(i,1)),this.stepAndProject(e,t,this.e,i)}},e.prototype.run=function(e){for(var t=Number.MAX_VALUE,n=!1;!n&&e-- >0;){var r=this.rungeKutta();n=Math.abs(t/r-1)<this.threshold,t=r}return t},e.prototype.rungeKutta=function(){var t=this;this.computeNextPosition(this.x,this.a),e.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),e.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var n=0;return this.matrixApply((function(e,r){var i=(t.a[e][r]+2*t.b[e][r]+2*t.c[e][r]+t.d[e][r])/6,a=t.x[e][r]-i;n+=a*a,t.x[e][r]=i})),n},e.mid=function(t,n,r){e.mApply(t.length,t[0].length,(function(e,i){return r[e][i]=t[e][i]+(n[e][i]-t[e][i])/2}))},e.prototype.takeDescentStep=function(e,t,n){for(var r=0;r<this.n;++r)e[r]=e[r]-n*t[r]},e.prototype.computeStress=function(){for(var e=0,t=0,n=this.n-1;t<n;++t)for(var r=t+1,i=this.n;r<i;++r){for(var a=0,o=0;o<this.k;++o){var s=this.x[o][t]-this.x[o][r];a+=s*s}a=Math.sqrt(a);var c=this.D[t][r];if(isFinite(c)){var l=c-a;e+=l*l/(c*c)}}return e},e.zeroDistance=1e-10,e}();t.Descent=r;var i=function(){function e(e){void 0===e&&(e=1),this.seed=e,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return e.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},e.prototype.getNextBetween=function(e,t){return e+this.getNext()*(t-e)},e}();t.PseudoRandom=i})),zE=lm((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.scale=e,this.AB=0,this.AD=0,this.A2=0}return e.prototype.addVariable=function(e){var t=this.scale/e.scale,n=e.offset/e.scale,r=e.weight;this.AB+=r*t*n,this.AD+=r*t*e.desiredPosition,this.A2+=r*t*t},e.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},e}();t.PositionStats=n;var r=function(){function e(e,t,n,r){void 0===r&&(r=!1),this.left=e,this.right=t,this.gap=n,this.equality=r,this.active=!1,this.unsatisfiable=!1,this.left=e,this.right=t,this.gap=n,this.equality=r}return e.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},e}();t.Constraint=r;var i=function(){function e(e,t,n){void 0===t&&(t=1),void 0===n&&(n=1),this.desiredPosition=e,this.weight=t,this.scale=n,this.offset=0}return e.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},e.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},e.prototype.visitNeighbours=function(e,t){var n=function(n,r){return n.active&&e!==r&&t(n,r)};this.cOut.forEach((function(e){return n(e,e.right)})),this.cIn.forEach((function(e){return n(e,e.left)}))},e}();t.Variable=i;var a=function(){function e(e){this.vars=[],e.offset=0,this.ps=new n(e.scale),this.addVariable(e)}return e.prototype.addVariable=function(e){e.block=this,this.vars.push(e),this.ps.addVariable(e),this.posn=this.ps.getPosn()},e.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var e=0,t=this.vars.length;e<t;++e)this.ps.addVariable(this.vars[e]);this.posn=this.ps.getPosn()},e.prototype.compute_lm=function(e,t,n){var r=this,i=e.dfdv();return e.visitNeighbours(t,(function(t,a){var o=r.compute_lm(a,e,n);a===t.right?(i+=o*t.left.scale,t.lm=o):(i+=o*t.right.scale,t.lm=-o),n(t)})),i/e.scale},e.prototype.populateSplitBlock=function(e,t){var n=this;e.visitNeighbours(t,(function(t,r){r.offset=e.offset+(r===t.right?t.gap:-t.gap),n.addVariable(r),n.populateSplitBlock(r,e)}))},e.prototype.traverse=function(e,t,n,r){var i=this;void 0===n&&(n=this.vars[0]),void 0===r&&(r=null),n.visitNeighbours(r,(function(r,a){t.push(e(r)),i.traverse(e,t,a,n)}))},e.prototype.findMinLM=function(){var e=null;return this.compute_lm(this.vars[0],null,(function(t){!t.equality&&(null===e||t.lm<e.lm)&&(e=t)})),e},e.prototype.findMinLMBetween=function(e,t){this.compute_lm(e,null,(function(){}));var n=null;return this.findPath(e,null,t,(function(e,t){!e.equality&&e.right===t&&(null===n||e.lm<n.lm)&&(n=e)})),n},e.prototype.findPath=function(e,t,n,r){var i=this,a=!1;return e.visitNeighbours(t,(function(t,o){a||o!==n&&!i.findPath(o,e,n,r)||(a=!0,r(t,o))})),a},e.prototype.isActiveDirectedPathBetween=function(e,t){if(e===t)return!0;for(var n=e.cOut.length;n--;){var r=e.cOut[n];if(r.active&&this.isActiveDirectedPathBetween(r.right,t))return!0}return!1},e.split=function(t){return t.active=!1,[e.createSplitBlock(t.left),e.createSplitBlock(t.right)]},e.createSplitBlock=function(t){var n=new e(t);return n.populateSplitBlock(t,null),n},e.prototype.splitBetween=function(t,n){var r=this.findMinLMBetween(t,n);if(null!==r){var i=e.split(r);return{constraint:r,lb:i[0],rb:i[1]}}return null},e.prototype.mergeAcross=function(e,t,n){t.active=!0;for(var r=0,i=e.vars.length;r<i;++r){var a=e.vars[r];a.offset+=n,this.addVariable(a)}this.posn=this.ps.getPosn()},e.prototype.cost=function(){for(var e=0,t=this.vars.length;t--;){var n=this.vars[t],r=n.position()-n.desiredPosition;e+=r*r*n.weight}return e},e}();t.Block=a;var o=function(){function e(e){this.vs=e;var t=e.length;for(this.list=new Array(t);t--;){var n=new a(e[t]);this.list[t]=n,n.blockInd=t}}return e.prototype.cost=function(){for(var e=0,t=this.list.length;t--;)e+=this.list[t].cost();return e},e.prototype.insert=function(e){e.blockInd=this.list.length,this.list.push(e)},e.prototype.remove=function(e){var t=this.list.length-1,n=this.list[t];this.list.length=t,e!==n&&(this.list[e.blockInd]=n,n.blockInd=e.blockInd)},e.prototype.merge=function(e){var t=e.left.block,n=e.right.block,r=e.right.offset-e.left.offset-e.gap;t.vars.length<n.vars.length?(n.mergeAcross(t,e,r),this.remove(t)):(t.mergeAcross(n,e,-r),this.remove(n))},e.prototype.forEach=function(e){this.list.forEach(e)},e.prototype.updateBlockPositions=function(){this.list.forEach((function(e){return e.updateWeightedPosition()}))},e.prototype.split=function(e){var t=this;this.updateBlockPositions(),this.list.forEach((function(n){var r=n.findMinLM();null!==r&&r.lm<s.LAGRANGIAN_TOLERANCE&&(n=r.left.block,a.split(r).forEach((function(e){return t.insert(e)})),t.remove(n),e.push(r))}))},e}();t.Blocks=o;var s=function(){function e(e,t){this.vs=e,this.cs=t,this.vs=e,e.forEach((function(e){e.cIn=[],e.cOut=[]})),this.cs=t,t.forEach((function(e){e.left.cOut.push(e),e.right.cIn.push(e)})),this.inactive=t.map((function(e){return e.active=!1,e})),this.bs=null}return e.prototype.cost=function(){return this.bs.cost()},e.prototype.setStartingPositions=function(e){this.inactive=this.cs.map((function(e){return e.active=!1,e})),this.bs=new o(this.vs),this.bs.forEach((function(t,n){return t.posn=e[n]}))},e.prototype.setDesiredPositions=function(e){this.vs.forEach((function(t,n){return t.desiredPosition=e[n]}))},e.prototype.mostViolated=function(){for(var t=Number.MAX_VALUE,n=null,r=this.inactive,i=r.length,a=i,o=0;o<i;++o){var s=r[o];if(!s.unsatisfiable){var c=s.slack();if((s.equality||c<t)&&(t=c,n=s,a=o,s.equality))break}}return a!==i&&(t<e.ZERO_UPPERBOUND&&!n.active||n.equality)&&(r[a]=r[i-1],r.length=i-1),n},e.prototype.satisfy=function(){null==this.bs&&(this.bs=new o(this.vs)),this.bs.split(this.inactive);for(var t=null;(t=this.mostViolated())&&(t.equality||t.slack()<e.ZERO_UPPERBOUND&&!t.active);){var n=t.left.block;if(n!==t.right.block)this.bs.merge(t);else{if(n.isActiveDirectedPathBetween(t.right,t.left)){t.unsatisfiable=!0;continue}var r=n.splitBetween(t.left,t.right);if(null===r){t.unsatisfiable=!0;continue}this.bs.insert(r.lb),this.bs.insert(r.rb),this.bs.remove(n),this.inactive.push(r.constraint),t.slack()>=0?this.inactive.push(t):this.bs.merge(t)}}},e.prototype.solve=function(){this.satisfy();for(var e=Number.MAX_VALUE,t=this.bs.cost();Math.abs(e-t)>1e-4;)this.satisfy(),e=t,t=this.bs.cost();return t},e.LAGRANGIAN_TOLERANCE=-1e-4,e.ZERO_UPPERBOUND=-1e-10,e}();t.Solver=s,t.removeOverlapInOneDimension=function(e,t,n){for(var a=e.map((function(e){return new i(e.desiredCenter)})),o=[],c=e.length,l=0;l<c-1;l++){var d=e[l],u=e[l+1];o.push(new r(a[l],a[l+1],(d.size+u.size)/2))}var p=a[0],h=a[c-1],f=e[0].size/2,m=e[c-1].size/2,g=null,v=null;return t&&(g=new i(t,1e3*p.weight),a.push(g),o.push(new r(g,p,f))),n&&(v=new i(n,1e3*h.weight),a.push(v),o.push(new r(h,v,m))),new s(a,o).solve(),{newCenters:a.slice(0,e.length).map((function(e){return e.position()})),lowerBound:g?g.position():p.position()-f,upperBound:v?v.position():h.position()+m}}})),BE=lm((function(e,t){var n=cm&&cm.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.findIter=function(e){for(var t=this._root,n=this.iterator();null!==t;){var r=this._comparator(e,t.data);if(0===r)return n._cursor=t,n;n._ancestors.push(t),t=t.get_child(r>0)}return null}}return e.prototype.clear=function(){this._root=null,this.size=0},e.prototype.find=function(e){for(var t=this._root;null!==t;){var n=this._comparator(e,t.data);if(0===n)return t.data;t=t.get_child(n>0)}return null},e.prototype.lowerBound=function(e){return this._bound(e,this._comparator)},e.prototype.upperBound=function(e){var t=this._comparator;return this._bound(e,(function(e,n){return t(n,e)}))},e.prototype.min=function(){var e=this._root;if(null===e)return null;for(;null!==e.left;)e=e.left;return e.data},e.prototype.max=function(){var e=this._root;if(null===e)return null;for(;null!==e.right;)e=e.right;return e.data},e.prototype.iterator=function(){return new i(this)},e.prototype.each=function(e){for(var t,n=this.iterator();null!==(t=n.next());)e(t)},e.prototype.reach=function(e){for(var t,n=this.iterator();null!==(t=n.prev());)e(t)},e.prototype._bound=function(e,t){for(var n=this._root,r=this.iterator();null!==n;){var i=this._comparator(e,n.data);if(0===i)return r._cursor=n,r;r._ancestors.push(n),n=n.get_child(i>0)}for(var a=r._ancestors.length-1;a>=0;--a)if(t(e,(n=r._ancestors[a]).data)>0)return r._cursor=n,r._ancestors.length=a,r;return r._ancestors.length=0,r},e}();t.TreeBase=r;var i=function(){function e(e){this._tree=e,this._ancestors=[],this._cursor=null}return e.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},e.prototype.next=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._minNode(e)}else{var t;if(null===this._cursor.right)do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===t);else this._ancestors.push(this._cursor),this._minNode(this._cursor.right)}return null!==this._cursor?this._cursor.data:null},e.prototype.prev=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._maxNode(e)}else{var t;if(null===this._cursor.left)do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===t);else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left)}return null!==this._cursor?this._cursor.data:null},e.prototype._minNode=function(e){for(;null!==e.left;)this._ancestors.push(e),e=e.left;this._cursor=e},e.prototype._maxNode=function(e){for(;null!==e.right;)this._ancestors.push(e),e=e.right;this._cursor=e},e}();t.Iterator=i;var a=function(){function e(e){this.data=e,this.left=null,this.right=null,this.red=!0}return e.prototype.get_child=function(e){return e?this.right:this.left},e.prototype.set_child=function(e,t){e?this.right=t:this.left=t},e}(),o=function(e){function t(t){var n=e.call(this)||this;return n._root=null,n._comparator=t,n.size=0,n}return n(t,e),t.prototype.insert=function(e){var n=!1;if(null===this._root)this._root=new a(e),n=!0,this.size++;else{var r=new a(void 0),i=!1,o=!1,s=null,c=r,l=null,d=this._root;for(c.right=this._root;;){if(null===d?(d=new a(e),l.set_child(i,d),n=!0,this.size++):t.is_red(d.left)&&t.is_red(d.right)&&(d.red=!0,d.left.red=!1,d.right.red=!1),t.is_red(d)&&t.is_red(l)){var u=c.right===s;d===l.get_child(o)?c.set_child(u,t.single_rotate(s,!o)):c.set_child(u,t.double_rotate(s,!o))}var p=this._comparator(d.data,e);if(0===p)break;o=i,i=p<0,null!==s&&(c=s),s=l,l=d,d=d.get_child(i)}this._root=r.right}return this._root.red=!1,n},t.prototype.remove=function(e){if(null===this._root)return!1;var n=new a(void 0),r=n;r.right=this._root;for(var i=null,o=null,s=null,c=!0;null!==r.get_child(c);){var l=c;o=i,i=r,r=r.get_child(c);var d=this._comparator(e,r.data);if(c=d>0,0===d&&(s=r),!t.is_red(r)&&!t.is_red(r.get_child(c)))if(t.is_red(r.get_child(!c))){var u=t.single_rotate(r,c);i.set_child(l,u),i=u}else if(!t.is_red(r.get_child(!c))){var p=i.get_child(!l);if(null!==p)if(t.is_red(p.get_child(!l))||t.is_red(p.get_child(l))){var h=o.right===i;t.is_red(p.get_child(l))?o.set_child(h,t.double_rotate(i,l)):t.is_red(p.get_child(!l))&&o.set_child(h,t.single_rotate(i,l));var f=o.get_child(h);f.red=!0,r.red=!0,f.left.red=!1,f.right.red=!1}else i.red=!1,p.red=!0,r.red=!0}}return null!==s&&(s.data=r.data,i.set_child(i.right===r,r.get_child(null===r.left)),this.size--),this._root=n.right,null!==this._root&&(this._root.red=!1),null!==s},t.is_red=function(e){return null!==e&&e.red},t.single_rotate=function(e,t){var n=e.get_child(!t);return e.set_child(!t,n.get_child(t)),n.set_child(t,e),e.red=!0,n.red=!1,n},t.double_rotate=function(e,n){return e.set_child(!n,t.single_rotate(e.get_child(!n),!n)),t.single_rotate(e,n)},t}(r);t.RBTree=o})),jE=lm((function(e,t){var n=cm&&cm.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function r(e){return e.bounds=void 0!==e.leaves?e.leaves.reduce((function(e,t){return t.bounds.union(e)}),i.empty()):i.empty(),void 0!==e.groups&&(e.bounds=e.groups.reduce((function(e,t){return r(t).union(e)}),e.bounds)),e.bounds=e.bounds.inflate(e.padding),e.bounds}Object.defineProperty(t,"__esModule",{value:!0}),t.computeGroupBounds=r;var i=function(){function e(e,t,n,r){this.x=e,this.X=t,this.y=n,this.Y=r}return e.empty=function(){return new e(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},e.prototype.cx=function(){return(this.x+this.X)/2},e.prototype.cy=function(){return(this.y+this.Y)/2},e.prototype.overlapX=function(e){var t=this.cx(),n=e.cx();return t<=n&&e.x<this.X?this.X-e.x:n<=t&&this.x<e.X?e.X-this.x:0},e.prototype.overlapY=function(e){var t=this.cy(),n=e.cy();return t<=n&&e.y<this.Y?this.Y-e.y:n<=t&&this.y<e.Y?e.Y-this.y:0},e.prototype.setXCentre=function(e){var t=e-this.cx();this.x+=t,this.X+=t},e.prototype.setYCentre=function(e){var t=e-this.cy();this.y+=t,this.Y+=t},e.prototype.width=function(){return this.X-this.x},e.prototype.height=function(){return this.Y-this.y},e.prototype.union=function(t){return new e(Math.min(this.x,t.x),Math.max(this.X,t.X),Math.min(this.y,t.y),Math.max(this.Y,t.Y))},e.prototype.lineIntersections=function(t,n,r,i){for(var a=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],o=[],s=0;s<4;++s){var c=e.lineIntersection(t,n,r,i,a[s][0],a[s][1],a[s][2],a[s][3]);null!==c&&o.push({x:c.x,y:c.y})}return o},e.prototype.rayIntersection=function(e,t){var n=this.lineIntersections(this.cx(),this.cy(),e,t);return n.length>0?n[0]:null},e.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},e.lineIntersection=function(e,t,n,r,i,a,o,s){var c=n-e,l=o-i,d=r-t,u=s-a,p=u*c-l*d;if(0==p)return null;var h=e-i,f=t-a,m=(l*f-u*h)/p,g=(c*f-d*h)/p;return m>=0&&m<=1&&g>=0&&g<=1?{x:e+m*c,y:t+m*d}:null},e.prototype.inflate=function(t){return new e(this.x-t,this.X+t,this.y-t,this.Y+t)},e}();t.Rectangle=i,t.makeEdgeBetween=function(e,t,n){var r=e.rayIntersection(t.cx(),t.cy())||{x:e.cx(),y:e.cy()},i=t.rayIntersection(e.cx(),e.cy())||{x:t.cx(),y:t.cy()},a=i.x-r.x,o=i.y-r.y,s=Math.sqrt(a*a+o*o),c=s-n;return{sourceIntersection:r,targetIntersection:i,arrowStart:{x:r.x+c*a/s,y:r.y+c*o/s}}},t.makeEdgeTo=function(e,t,n){var r=t.rayIntersection(e.x,e.y);r||(r={x:t.cx(),y:t.cy()});var i=r.x-e.x,a=r.y-e.y,o=Math.sqrt(i*i+a*a);return{x:r.x-n*i/o,y:r.y-n*a/o}};var a=function(e,t,n){this.v=e,this.r=t,this.pos=n,this.prev=c(),this.next=c()},o=function(e,t,n){this.isOpen=e,this.v=t,this.pos=n};function s(e,t){return e.pos>t.pos?1:e.pos<t.pos||e.isOpen?-1:t.isOpen?1:0}function c(){return new BE.RBTree((function(e,t){return e.pos-t.pos}))}var l={getCentre:function(e){return e.cx()},getOpen:function(e){return e.y},getClose:function(e){return e.Y},getSize:function(e){return e.width()},makeRect:function(e,t,n,r){return new i(n-r/2,n+r/2,e,t)},findNeighbours:function(e,t){var n=function(n,r){for(var i,a=t.findIter(e);null!==(i=a[n]());){var o=i.r.overlapX(e.r);if((o<=0||o<=i.r.overlapY(e.r))&&(e[n].insert(i),i[r].insert(e)),o<=0)break}};n("next","prev"),n("prev","next")}},d={getCentre:function(e){return e.cy()},getOpen:function(e){return e.x},getClose:function(e){return e.X},getSize:function(e){return e.height()},makeRect:function(e,t,n,r){return new i(e,t,n-r/2,n+r/2)},findNeighbours:function(e,t){var n=function(n,r){var i=t.findIter(e)[n]();null!==i&&i.r.overlapX(e.r)>0&&(e[n].insert(i),i[r].insert(e))};n("next","prev"),n("prev","next")}};function u(e,t,n,r){void 0===r&&(r=!1);var i=e.padding,a=void 0!==e.groups?e.groups.length:0,o=void 0!==e.leaves?e.leaves.length:0,s=a?e.groups.reduce((function(e,r){return e.concat(u(r,t,n,!0))}),[]):[],c=(r?2:0)+o+a,l=new Array(c),d=new Array(c),h=0,f=function(e,t){d[h]=e,l[h++]=t};if(r){var m=e.bounds,g=t.getCentre(m),v=t.getSize(m)/2,y=t.getOpen(m),b=t.getClose(m),_=g-v+i/2,x=g+v-i/2;e.minVar.desiredPosition=_,f(t.makeRect(y,b,_,i),e.minVar),e.maxVar.desiredPosition=x,f(t.makeRect(y,b,x,i),e.maxVar)}o&&e.leaves.forEach((function(e){return f(e.bounds,e.variable)})),a&&e.groups.forEach((function(e){var n=e.bounds;f(t.makeRect(t.getOpen(n),t.getClose(n),t.getCentre(n),t.getSize(n)),e.minVar)}));var w=p(d,l,t,n);return a&&(l.forEach((function(e){e.cOut=[],e.cIn=[]})),w.forEach((function(e){e.left.cOut.push(e),e.right.cIn.push(e)})),e.groups.forEach((function(e){var n=(e.padding-t.getSize(e.bounds))/2;e.minVar.cIn.forEach((function(e){return e.gap+=n})),e.minVar.cOut.forEach((function(t){t.left=e.maxVar,t.gap+=n}))}))),s.concat(w)}function p(e,t,n,r){var i,l=e.length,d=2*l;console.assert(t.length>=l);var u=new Array(d);for(i=0;i<l;++i){var p=e[i],h=new a(t[i],p,n.getCentre(p));u[i]=new o(!0,h,n.getOpen(p)),u[i+l]=new o(!1,h,n.getClose(p))}u.sort(s);var f=new Array,m=c();for(i=0;i<d;++i){var g=u[i];h=g.v;if(g.isOpen)m.insert(h),n.findNeighbours(h,m);else{m.remove(h);var v=function(e,t){var i=(n.getSize(e.r)+n.getSize(t.r))/2+r;f.push(new zE.Constraint(e.v,t.v,i))},y=function(e,t,n){for(var r,i=h[e].iterator();null!==(r=i[e]());)n(r,h),r[t].remove(h)};y("prev","next",(function(e,t){return v(e,t)})),y("next","prev",(function(e,t){return v(t,e)}))}}return console.assert(0===m.size),f}function h(e,t){return p(e,t,l,1e-6)}function f(e,t){return p(e,t,d,1e-6)}function m(e){return u(e,l,1e-6)}function g(e){return u(e,d,1e-6)}t.generateXConstraints=h,t.generateYConstraints=f,t.generateXGroupConstraints=m,t.generateYGroupConstraints=g,t.removeOverlaps=function(e){var t=e.map((function(e){return new zE.Variable(e.cx())})),n=h(e,t),r=new zE.Solver(t,n);r.solve(),t.forEach((function(t,n){return e[n].setXCentre(t.position())})),t=e.map((function(e){return new zE.Variable(e.cy())})),n=f(e,t),(r=new zE.Solver(t,n)).solve(),t.forEach((function(t,n){return e[n].setYCentre(t.position())}))};var v=function(e){function t(t,n){var r=e.call(this,0,n)||this;return r.index=t,r}return n(t,e),t}(zE.Variable);t.IndexedVariable=v;var y=function(){function e(e,t,n,a,o){var s=this;if(void 0===n&&(n=null),void 0===a&&(a=null),void 0===o&&(o=!1),this.nodes=e,this.groups=t,this.rootGroup=n,this.avoidOverlaps=o,this.variables=e.map((function(e,t){return e.variable=new v(t,1)})),a&&this.createConstraints(a),o&&n&&void 0!==n.groups){e.forEach((function(e){if(e.width&&e.height){var t=e.width/2,n=e.height/2;e.bounds=new i(e.x-t,e.x+t,e.y-n,e.y+n)}else e.bounds=new i(e.x,e.x,e.y,e.y)})),r(n);var c=e.length;t.forEach((function(e){s.variables[c]=e.minVar=new v(c++,void 0!==e.stiffness?e.stiffness:.01),s.variables[c]=e.maxVar=new v(c++,void 0!==e.stiffness?e.stiffness:.01)}))}}return e.prototype.createSeparation=function(e){return new zE.Constraint(this.nodes[e.left].variable,this.nodes[e.right].variable,e.gap,void 0!==e.equality&&e.equality)},e.prototype.makeFeasible=function(e){var t=this;if(this.avoidOverlaps){var n="x",r="width";"x"===e.axis&&(n="y",r="height");var i=e.offsets.map((function(e){return t.nodes[e.node]})).sort((function(e,t){return e[n]-t[n]})),a=null;i.forEach((function(e){if(a){var t=a[n]+a[r];t>e[n]&&(e[n]=t)}a=e}))}},e.prototype.createAlignment=function(e){var t=this,n=this.nodes[e.offsets[0].node].variable;this.makeFeasible(e);var r="x"===e.axis?this.xConstraints:this.yConstraints;e.offsets.slice(1).forEach((function(e){var i=t.nodes[e.node].variable;r.push(new zE.Constraint(n,i,e.offset,!0))}))},e.prototype.createConstraints=function(e){var t=this,n=function(e){return void 0===e.type||"separation"===e.type};this.xConstraints=e.filter((function(e){return"x"===e.axis&&n(e)})).map((function(e){return t.createSeparation(e)})),this.yConstraints=e.filter((function(e){return"y"===e.axis&&n(e)})).map((function(e){return t.createSeparation(e)})),e.filter((function(e){return"alignment"===e.type})).forEach((function(e){return t.createAlignment(e)}))},e.prototype.setupVariablesAndBounds=function(e,t,n,r){this.nodes.forEach((function(a,o){a.fixed?(a.variable.weight=a.fixedWeight?a.fixedWeight:1e3,n[o]=r(a)):a.variable.weight=1;var s=(a.width||0)/2,c=(a.height||0)/2,l=e[o],d=t[o];a.bounds=new i(l-s,l+s,d-c,d+c)}))},e.prototype.xProject=function(e,t,n){(this.rootGroup||this.avoidOverlaps||this.xConstraints)&&this.project(e,t,e,n,(function(e){return e.px}),this.xConstraints,m,(function(e){return e.bounds.setXCentre(n[e.variable.index]=e.variable.position())}),(function(e){var t=n[e.minVar.index]=e.minVar.position(),r=n[e.maxVar.index]=e.maxVar.position(),i=e.padding/2;e.bounds.x=t-i,e.bounds.X=r+i}))},e.prototype.yProject=function(e,t,n){(this.rootGroup||this.yConstraints)&&this.project(e,t,t,n,(function(e){return e.py}),this.yConstraints,g,(function(e){return e.bounds.setYCentre(n[e.variable.index]=e.variable.position())}),(function(e){var t=n[e.minVar.index]=e.minVar.position(),r=n[e.maxVar.index]=e.maxVar.position(),i=e.padding/2;e.bounds.y=t-i,e.bounds.Y=r+i}))},e.prototype.projectFunctions=function(){var e=this;return[function(t,n,r){return e.xProject(t,n,r)},function(t,n,r){return e.yProject(t,n,r)}]},e.prototype.project=function(e,t,n,i,a,o,s,c,l){this.setupVariablesAndBounds(e,t,i,a),this.rootGroup&&this.avoidOverlaps&&(r(this.rootGroup),o=o.concat(s(this.rootGroup))),this.solve(this.variables,o,n,i),this.nodes.forEach(c),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(l),r(this.rootGroup))},e.prototype.solve=function(e,t,n,r){var i=new zE.Solver(e,t);i.setStartingPositions(n),i.setDesiredPositions(r),i.solve()},e}();t.Projection=y})),HE=lm((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.elem=e,this.subheaps=[]}return e.prototype.toString=function(e){for(var t="",n=!1,r=0;r<this.subheaps.length;++r){var i=this.subheaps[r];i.elem?(n&&(t+=","),t+=i.toString(e),n=!0):n=!1}return""!==t&&(t="("+t+")"),(this.elem?e(this.elem):"")+t},e.prototype.forEach=function(e){this.empty()||(e(this.elem,this),this.subheaps.forEach((function(t){return t.forEach(e)})))},e.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce((function(e,t){return e+t.count()}),0)},e.prototype.min=function(){return this.elem},e.prototype.empty=function(){return null==this.elem},e.prototype.contains=function(e){if(this===e)return!0;for(var t=0;t<this.subheaps.length;t++)if(this.subheaps[t].contains(e))return!0;return!1},e.prototype.isHeap=function(e){var t=this;return this.subheaps.every((function(n){return e(t.elem,n.elem)&&n.isHeap(e)}))},e.prototype.insert=function(t,n){return this.merge(new e(t),n)},e.prototype.merge=function(e,t){return this.empty()?e:e.empty()?this:t(this.elem,e.elem)?(this.subheaps.push(e),this):(e.subheaps.push(this),e)},e.prototype.removeMin=function(e){return this.empty()?null:this.mergePairs(e)},e.prototype.mergePairs=function(t){if(0==this.subheaps.length)return new e(null);if(1==this.subheaps.length)return this.subheaps[0];var n=this.subheaps.pop().merge(this.subheaps.pop(),t),r=this.mergePairs(t);return n.merge(r,t)},e.prototype.decreaseKey=function(t,n,r,i){var a=t.removeMin(i);t.elem=a.elem,t.subheaps=a.subheaps,null!==r&&null!==a.elem&&r(t.elem,t);var o=new e(n);return null!==r&&r(n,o),this.merge(o,i)},e}();t.PairingHeap=n;var r=function(){function e(e){this.lessThan=e}return e.prototype.top=function(){return this.empty()?null:this.root.elem},e.prototype.push=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var i,a=0;i=t[a];++a)e=new n(i),this.root=this.empty()?e:this.root.merge(e,this.lessThan);return e},e.prototype.empty=function(){return!this.root||!this.root.elem},e.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},e.prototype.forEach=function(e){this.root.forEach(e)},e.prototype.pop=function(){if(this.empty())return null;var e=this.root.min();return this.root=this.root.removeMin(this.lessThan),e},e.prototype.reduceKey=function(e,t,n){void 0===n&&(n=null),this.root=this.root.decreaseKey(e,t,n,this.lessThan)},e.prototype.toString=function(e){return this.root.toString(e)},e.prototype.count=function(){return this.root.count()},e}();t.PriorityQueue=r})),VE=lm((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){this.id=e,this.distance=t},r=function(e){this.id=e,this.neighbours=[]},i=function(e,t,n){this.node=e,this.prev=t,this.d=n},a=function(){function e(e,t,i,a,o){this.n=e,this.es=t,this.neighbours=new Array(this.n);for(var s=this.n;s--;)this.neighbours[s]=new r(s);for(s=this.es.length;s--;){var c=this.es[s],l=i(c),d=a(c),u=o(c);this.neighbours[l].neighbours.push(new n(d,u)),this.neighbours[d].neighbours.push(new n(l,u))}}return e.prototype.DistanceMatrix=function(){for(var e=new Array(this.n),t=0;t<this.n;++t)e[t]=this.dijkstraNeighbours(t);return e},e.prototype.DistancesFromNode=function(e){return this.dijkstraNeighbours(e)},e.prototype.PathFromNodeToNode=function(e,t){return this.dijkstraNeighbours(e,t)},e.prototype.PathFromNodeToNodeWithPrevCost=function(e,t,n){var r=new HE.PriorityQueue((function(e,t){return e.d<=t.d})),a=this.neighbours[e],o=new i(a,null,0),s={};for(r.push(o);!r.empty()&&(a=(o=r.pop()).node).id!==t;)for(var c=a.neighbours.length;c--;){var l=a.neighbours[c],d=this.neighbours[l.id];if(!o.prev||d.id!==o.prev.node.id){var u=d.id+","+a.id;if(!(u in s&&s[u]<=o.d)){var p=o.prev?n(o.prev.node.id,a.id,d.id):0,h=o.d+l.distance+p;s[u]=h,r.push(new i(d,o,h))}}}for(var f=[];o.prev;)o=o.prev,f.push(o.node.id);return f},e.prototype.dijkstraNeighbours=function(e,t){void 0===t&&(t=-1);for(var n=new HE.PriorityQueue((function(e,t){return e.d<=t.d})),r=this.neighbours.length,i=new Array(r);r--;){var a=this.neighbours[r];a.d=r===e?0:Number.POSITIVE_INFINITY,a.q=n.push(a)}for(;!n.empty();){var o=n.pop();if(i[o.id]=o.d,o.id===t){for(var s=[],c=o;void 0!==c.prev;)s.push(c.prev.id),c=c.prev;return s}for(r=o.neighbours.length;r--;){var l=o.neighbours[r],d=(c=this.neighbours[l.id],o.d+l.distance);o.d!==Number.MAX_VALUE&&c.d>d&&(c.d=d,c.prev=o,n.reduceKey(c.q,c,(function(e,t){return e.q=t})))}}return i},e}();t.Calculator=a})),$E=lm((function(e,t){var n=cm&&cm.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(){};t.Point=r;var i=function(e,t,n,r){this.x1=e,this.y1=t,this.x2=n,this.y2=r};t.LineSegment=i;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(r);function o(e,t,n){return(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y)}function s(e,t,n){return o(e,t,n)>0}function c(e,t,n){return o(e,t,n)<0}function l(e,t){var n,r,i,a,o=t.length-1;if(c(e,t[1],t[0])&&!s(e,t[o-1],t[0]))return 0;for(n=0,r=o;;){if(r-n==1)return s(e,t[n],t[r])?n:r;if((a=c(e,t[(i=Math.floor((n+r)/2))+1],t[i]))&&!s(e,t[i-1],t[i]))return i;s(e,t[n+1],t[n])?a||s(e,t[n],t[i])?r=i:n=i:a&&c(e,t[n],t[i])?r=i:n=i}}function d(e,t){var n,r,i,a,o=t.length-1;if(s(e,t[o-1],t[0])&&!c(e,t[1],t[0]))return 0;for(n=0,r=o;;){if(r-n==1)return c(e,t[n],t[r])?n:r;if(a=c(e,t[(i=Math.floor((n+r)/2))+1],t[i]),s(e,t[i-1],t[i])&&!a)return i;c(e,t[n+1],t[n])?a?c(e,t[n],t[i])?r=i:n=i:r=i:a?n=i:s(e,t[n],t[i])?r=i:n=i}}function u(e,t,n,r,i,a){var o,s;s=r(e[o=n(t[0],e)],t);for(var c=!1;!c;){for(c=!0;o===e.length-1&&(o=0),!i(t[s],e[o],e[o+1]);)++o;for(;0===s&&(s=t.length-1),!a(e[o],t[s],t[s-1]);)--s,c=!1}return{t1:o,t2:s}}function p(e,t){return u(e,t,l,d,s,c)}t.PolyPoint=a,t.isLeft=o,t.ConvexHull=function(e){var t,n=e.slice(0).sort((function(e,t){return e.x!==t.x?t.x-e.x:t.y-e.y})),r=e.length,i=n[0].x;for(t=1;t<r&&n[t].x===i;++t);var a=t-1,s=[];if(s.push(n[0]),a===r-1)n[a].y!==n[0].y&&s.push(n[a]);else{var c,l=r-1,d=n[r-1].x;for(t=r-2;t>=0&&n[t].x===d;t--);for(c=t+1,t=a;++t<=c;)if(!(o(n[0],n[c],n[t])>=0&&t<c)){for(;s.length>1&&!(o(s[s.length-2],s[s.length-1],n[t])>0);)s.length-=1;0!=t&&s.push(n[t])}l!=c&&s.push(n[l]);var u=s.length;for(t=c;--t>=a;)if(!(o(n[l],n[a],n[t])>=0&&t>a)){for(;s.length>u&&!(o(s[s.length-2],s[s.length-1],n[t])>0);)s.length-=1;0!=t&&s.push(n[t])}}return s},t.clockwiseRadialSweep=function(e,t,n){t.slice(0).sort((function(t,n){return Math.atan2(t.y-e.y,t.x-e.x)-Math.atan2(n.y-e.y,n.x-e.x)})).forEach(n)},t.tangent_PolyPolyC=u,t.LRtangent_PolyPolyC=function(e,t){var n=p(t,e);return{t1:n.t2,t2:n.t1}},t.RLtangent_PolyPolyC=p,t.LLtangent_PolyPolyC=function(e,t){return u(e,t,d,d,c,c)},t.RRtangent_PolyPolyC=function(e,t){return u(e,t,l,l,s,s)};var h=function(e,t){this.t1=e,this.t2=t};t.BiTangent=h;var f=function(){};t.BiTangents=f;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(r);t.TVGPoint=m;var g=function(e,t,n,r){this.id=e,this.polyid=t,this.polyvertid=n,this.p=r,r.vv=this};t.VisibilityVertex=g;var v=function(){function e(e,t){this.source=e,this.target=t}return e.prototype.length=function(){var e=this.source.p.x-this.target.p.x,t=this.source.p.y-this.target.p.y;return Math.sqrt(e*e+t*t)},e}();t.VisibilityEdge=v;var y=function(){function e(e,t){if(this.P=e,this.V=[],this.E=[],t)this.V=t.V.slice(0),this.E=t.E.slice(0);else{for(var n=e.length,r=0;r<n;r++){for(var i=e[r],a=0;a<i.length;++a){var o=i[a],s=new g(this.V.length,r,a,o);this.V.push(s),a>0&&this.E.push(new v(i[a-1].vv,s))}i.length>1&&this.E.push(new v(i[0].vv,i[i.length-1].vv))}for(r=0;r<n-1;r++){var c=e[r];for(a=r+1;a<n;a++){var l=e[a],d=_(c,l);for(var u in d){var p=d[u],h=c[p.t1],f=l[p.t2];this.addEdgeIfVisible(h,f,r,a)}}}}}return e.prototype.addEdgeIfVisible=function(e,t,n,r){this.intersectsPolys(new i(e.x,e.y,t.x,t.y),n,r)||this.E.push(new v(e.vv,t.vv))},e.prototype.addPoint=function(e,t){var n,r,i,a=this.P.length;this.V.push(new g(this.V.length,a,0,e));for(var o=0;o<a;++o)if(o!==t){var s=this.P[o],c=(n=e,i=void 0,(i=(r=s).slice(0)).push(r[0]),{rtan:l(n,i),ltan:d(n,i)});this.addEdgeIfVisible(e,s[c.ltan],t,o),this.addEdgeIfVisible(e,s[c.rtan],t,o)}return e.vv},e.prototype.intersectsPolys=function(e,t,n){for(var r=0,i=this.P.length;r<i;++r)if(r!=t&&r!=n&&b(e,this.P[r]).length>0)return!0;return!1},e}();function b(e,t){for(var n=[],r=1,i=t.length;r<i;++r){var a=jE.Rectangle.lineIntersection(e.x1,e.y1,e.x2,e.y2,t[r-1].x,t[r-1].y,t[r].x,t[r].y);a&&n.push(a)}return n}function _(e,t){for(var n=e.length-1,r=t.length-1,i=new f,a=0;a<n;++a)for(var s=0;s<r;++s){var c=e[0==a?n-1:a-1],l=e[a],d=e[a+1],u=t[0==s?r-1:s-1],p=t[s],m=t[s+1],g=o(c,l,p),v=o(l,u,p),y=o(l,p,m),b=o(u,p,l),_=o(p,c,l),x=o(p,l,d);g>=0&&v>=0&&y<0&&b>=0&&_>=0&&x<0?i.ll=new h(a,s):g<=0&&v<=0&&y>0&&b<=0&&_<=0&&x>0?i.rr=new h(a,s):g<=0&&v>0&&y<=0&&b>=0&&_<0&&x>=0?i.rl=new h(a,s):g>=0&&v<0&&y>=0&&b<=0&&_>0&&x<=0&&(i.lr=new h(a,s))}return i}function x(e,t){return!e.every((function(e){return!function(e,t){for(var n=1,r=t.length;n<r;++n)if(c(t[n-1],t[n],e))return!1;return!0}(e,t)}))}t.TangentVisibilityGraph=y,t.tangents=_,t.polysOverlap=function(e,t){if(x(e,t))return!0;if(x(t,e))return!0;for(var n=1,r=e.length;n<r;++n){var a=e[n],o=e[n-1];if(b(new i(o.x,o.y,a.x,a.y),t).length>0)return!0}return!1}})),UE=lm((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=10,r=(1+Math.sqrt(5))/2,i=1e-4;t.applyPacking=function(e,t,a,o,s,c){void 0===s&&(s=1),void 0===c&&(c=!0);var l=t,d=a,u=(s=void 0!==s?s:1,o=void 0!==o?o:0,0),p=0,h=0,f=0,m=[];function g(e,t){m=[],u=0,p=0,f=0;for(var n=0;n<e.length;n++){v(e[n],t)}return Math.abs(u/p-s)}function v(e,t){for(var r=void 0,a=0;a<m.length;a++)if(m[a].space_left>=e.height&&m[a].x+m[a].width+e.width+n-t<=i){r=m[a];break}m.push(e),void 0!==r?(e.x=r.x+r.width+n,e.y=r.bottom,e.space_left=e.height,e.bottom=e.y,r.space_left-=e.height+n,r.bottom+=e.height+n):(e.y=f,f+=e.height+n,e.x=0,e.bottom=e.y,e.space_left=e.height),e.y+e.height-p>-i&&(p=e.y+e.height-0),e.x+e.width-u>-i&&(u=e.x+e.width-0)}0!=e.length&&(function(e){e.forEach((function(e){!function(e){var t=Number.MAX_VALUE,n=Number.MAX_VALUE,r=0,i=0;e.array.forEach((function(e){var a=void 0!==e.width?e.width:o,s=void 0!==e.height?e.height:o;a/=2,s/=2,r=Math.max(e.x+a,r),t=Math.min(e.x-a,t),i=Math.max(e.y+s,i),n=Math.min(e.y-s,n)})),e.width=r-t,e.height=i-n}(e)}))}(e),function(e,t){var a=Number.POSITIVE_INFINITY,o=0;e.sort((function(e,t){return t.height-e.height})),h=e.reduce((function(e,t){return e.width<t.width?e.width:t.width}));var s=v=h,c=y=function(e){var t=0;return e.forEach((function(e){return t+=e.width+n})),t}(e),l=0,d=Number.MAX_VALUE,u=Number.MAX_VALUE,p=-1,f=Number.MAX_VALUE,m=Number.MAX_VALUE;for(;f>h||m>i;){if(1!=p){var v=c-(c-s)/r;d=g(e,v)}if(0!=p){var y=s+(c-s)/r;u=g(e,y)}if(f=Math.abs(v-y),m=Math.abs(d-u),d<a&&(a=d,o=v),u<a&&(a=u,o=y),d>u?(s=v,v=y,d=u,p=1):(c=y,y=v,u=d,p=0),l++>100)break}g(e,o)}(e),c&&function(e){e.forEach((function(e){var t={x:0,y:0};e.array.forEach((function(e){t.x+=e.x,t.y+=e.y})),t.x/=e.array.length,t.y/=e.array.length;var n={x:t.x-e.width/2,y:t.y-e.height/2},r={x:e.x-n.x+l/2-u/2,y:e.y-n.y+d/2-p/2};e.array.forEach((function(e){e.x+=r.x,e.y+=r.y}))}))}(e))},t.separateGraphs=function(e,t){for(var n={},r={},i=[],a=0,o=0;o<t.length;o++){var s=t[o],c=s.source,l=s.target;r[c.index]?r[c.index].push(l):r[c.index]=[l],r[l.index]?r[l.index].push(c):r[l.index]=[c]}for(o=0;o<e.length;o++){var d=e[o];n[d.index]||u(d,!0)}function u(e,t){if(void 0===n[e.index]){t&&(a++,i.push({array:[]})),n[e.index]=a,i[a-1].array.push(e);var o=r[e.index];if(o)for(var s=0;s<o.length;s++)u(o[s],!1)}}return i}})),GE=lm((function(e,t){var n;function r(e){return void 0!==e.leaves||void 0!==e.groups}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.start=0]="start",e[e.tick=1]="tick",e[e.end=2]="end"}(n=t.EventType||(t.EventType={}));var i=function(){function e(){var t=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:e.getSourceIndex,getTargetIndex:e.getTargetIndex,setLength:e.setLinkLength,getType:function(e){return"function"==typeof t._linkType?t._linkType(e):0}}}return e.prototype.on=function(e,t){return this.event||(this.event={}),"string"==typeof e?this.event[n[e]]=t:this.event[e]=t,this},e.prototype.trigger=function(e){this.event&&void 0!==this.event[e.type]&&this.event[e.type](e)},e.prototype.kick=function(){for(;!this.tick(););},e.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:n.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var e,t,r=this._nodes.length;for(this._links.length,this._descent.locks.clear(),t=0;t<r;++t)if((e=this._nodes[t]).fixed){void 0!==e.px&&void 0!==e.py||(e.px=e.x,e.py=e.y);var i=[e.px,e.py];this._descent.locks.add(t,i)}var a=this._descent.rungeKutta();return 0===a?this._alpha=0:void 0!==this._lastStress&&(this._alpha=a),this._lastStress=a,this.updateNodePositions(),this.trigger({type:n.tick,alpha:this._alpha,stress:this._lastStress}),!1},e.prototype.updateNodePositions=function(){for(var e,t=this._descent.x[0],n=this._descent.x[1],r=this._nodes.length;r--;)(e=this._nodes[r]).x=t[r],e.y=n[r]},e.prototype.nodes=function(e){if(!e){if(0===this._nodes.length&&this._links.length>0){var t=0;this._links.forEach((function(e){t=Math.max(t,e.source,e.target)})),this._nodes=new Array(++t);for(var n=0;n<t;++n)this._nodes[n]={}}return this._nodes}return this._nodes=e,this},e.prototype.groups=function(e){var t=this;return e?(this._groups=e,this._rootGroup={},this._groups.forEach((function(e){void 0===e.padding&&(e.padding=1),void 0!==e.leaves&&e.leaves.forEach((function(n,r){"number"==typeof n&&((e.leaves[r]=t._nodes[n]).parent=e)})),void 0!==e.groups&&e.groups.forEach((function(n,r){"number"==typeof n&&((e.groups[r]=t._groups[n]).parent=e)}))})),this._rootGroup.leaves=this._nodes.filter((function(e){return void 0===e.parent})),this._rootGroup.groups=this._groups.filter((function(e){return void 0===e.parent})),this):this._groups},e.prototype.powerGraphGroups=function(e){var t=NE.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(t.groups),e(t),this},e.prototype.avoidOverlaps=function(e){return arguments.length?(this._avoidOverlaps=e,this):this._avoidOverlaps},e.prototype.handleDisconnected=function(e){return arguments.length?(this._handleDisconnected=e,this):this._handleDisconnected},e.prototype.flowLayout=function(e,t){return arguments.length||(e="y"),this._directedLinkConstraints={axis:e,getMinSeparation:"number"==typeof t?function(){return t}:t},this},e.prototype.links=function(e){return arguments.length?(this._links=e,this):this._links},e.prototype.constraints=function(e){return arguments.length?(this._constraints=e,this):this._constraints},e.prototype.distanceMatrix=function(e){return arguments.length?(this._distanceMatrix=e,this):this._distanceMatrix},e.prototype.size=function(e){return e?(this._canvasSize=e,this):this._canvasSize},e.prototype.defaultNodeSize=function(e){return e?(this._defaultNodeSize=e,this):this._defaultNodeSize},e.prototype.groupCompactness=function(e){return e?(this._groupCompactness=e,this):this._groupCompactness},e.prototype.linkDistance=function(e){return e?(this._linkDistance="function"==typeof e?e:+e,this._linkLengthCalculator=null,this):this._linkDistance},e.prototype.linkType=function(e){return this._linkType=e,this},e.prototype.convergenceThreshold=function(e){return e?(this._threshold="function"==typeof e?e:+e,this):this._threshold},e.prototype.alpha=function(e){return arguments.length?(e=+e,this._alpha?this._alpha=e>0?e:0:e>0&&(this._running||(this._running=!0,this.trigger({type:n.start,alpha:this._alpha=e}),this.kick())),this):this._alpha},e.prototype.getLinkLength=function(e){return"function"==typeof this._linkDistance?+this._linkDistance(e):this._linkDistance},e.setLinkLength=function(e,t){e.length=t},e.prototype.getLinkType=function(e){return"function"==typeof this._linkType?this._linkType(e):0},e.prototype.symmetricDiffLinkLengths=function(e,t){var n=this;return void 0===t&&(t=1),this.linkDistance((function(t){return e*t.length})),this._linkLengthCalculator=function(){return ME.symmetricDiffLinkLengths(n._links,n.linkAccessor,t)},this},e.prototype.jaccardLinkLengths=function(e,t){var n=this;return void 0===t&&(t=1),this.linkDistance((function(t){return e*t.length})),this._linkLengthCalculator=function(){return ME.jaccardLinkLengths(n._links,n.linkAccessor,t)},this},e.prototype.start=function(t,n,r,i,a,o){var s=this;void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===a&&(a=!0),void 0===o&&(o=!0);var c=this.nodes().length,l=c+2*this._groups.length;this._links.length;var d,u=this._canvasSize[0],p=this._canvasSize[1],h=new Array(l),f=new Array(l),m=null,g=this._avoidOverlaps;this._nodes.forEach((function(e,t){e.index=t,void 0===e.x&&(e.x=u/2,e.y=p/2),h[t]=e.x,f[t]=e.y})),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?d=this._distanceMatrix:(d=new VE.Calculator(l,this._links,e.getSourceIndex,e.getTargetIndex,(function(e){return s.getLinkLength(e)})).DistanceMatrix(),m=FE.Descent.createSquareMatrix(l,(function(){return 2})),this._links.forEach((function(e){"number"==typeof e.source&&(e.source=s._nodes[e.source]),"number"==typeof e.target&&(e.target=s._nodes[e.target])})),this._links.forEach((function(t){var n=e.getSourceIndex(t),r=e.getTargetIndex(t);m[n][r]=m[r][n]=t.weight||1})));var v=FE.Descent.createSquareMatrix(l,(function(e,t){return d[e][t]}));if(this._rootGroup&&void 0!==this._rootGroup.groups){var y=c;this._groups.forEach((function(e){!function(e,t,n,r){m[e][t]=m[t][e]=n,v[e][t]=v[t][e]=r}(y,y+1,s._groupCompactness,.1),h[y]=0,f[y++]=0,h[y]=0,f[y++]=0}))}else this._rootGroup={leaves:this._nodes,groups:[]};var b=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,b=b.concat(ME.generateDirectedEdgeConstraints(c,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new FE.Descent([h,f],v),this._descent.locks.clear();for(y=0;y<c;++y){var _=this._nodes[y];if(_.fixed){_.px=_.x,_.py=_.y;var x=[_.x,_.y];this._descent.locks.add(y,x)}}if(this._descent.threshold=this._threshold,this.initialLayout(t,h,f),b.length>0&&(this._descent.project=new jE.Projection(this._nodes,this._groups,this._rootGroup,b).projectFunctions()),this._descent.run(n),this.separateOverlappingComponents(u,p,o),this.avoidOverlaps(g),g&&(this._nodes.forEach((function(e,t){e.x=h[t],e.y=f[t]})),this._descent.project=new jE.Projection(this._nodes,this._groups,this._rootGroup,b,!0).projectFunctions(),this._nodes.forEach((function(e,t){h[t]=e.x,f[t]=e.y}))),this._descent.G=m,this._descent.run(r),i){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=c,this._descent.scaleSnapByMaxH=c!=l;var w=FE.Descent.createSquareMatrix(l,(function(e,t){return e>=c||t>=c?m[e][t]:0}));this._descent.G=w,this._descent.run(i)}return this.updateNodePositions(),this.separateOverlappingComponents(u,p,o),a?this.resume():this},e.prototype.initialLayout=function(t,n,r){if(this._groups.length>0&&t>0){var i=this._nodes.length,a=this._links.map((function(e){return{source:e.source.index,target:e.target.index}})),o=this._nodes.map((function(e){return{index:e.index}}));this._groups.forEach((function(e,t){o.push({index:e.index=i+t})})),this._groups.forEach((function(e,t){void 0!==e.leaves&&e.leaves.forEach((function(t){return a.push({source:e.index,target:t.index})})),void 0!==e.groups&&e.groups.forEach((function(t){return a.push({source:e.index,target:t.index})}))})),(new e).size(this.size()).nodes(o).links(a).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(t,0,0,0,!1),this._nodes.forEach((function(e){n[e.index]=o[e.index].x,r[e.index]=o[e.index].y}))}else this._descent.run(t)},e.prototype.separateOverlappingComponents=function(e,t,n){var r=this;if(void 0===n&&(n=!0),!this._distanceMatrix&&this._handleDisconnected){var i=this._descent.x[0],a=this._descent.x[1];this._nodes.forEach((function(e,t){e.x=i[t],e.y=a[t]}));var o=UE.separateGraphs(this._nodes,this._links);UE.applyPacking(o,e,t,this._defaultNodeSize,1,n),this._nodes.forEach((function(e,t){r._descent.x[0][t]=e.x,r._descent.x[1][t]=e.y,e.bounds&&(e.bounds.setXCentre(e.x),e.bounds.setYCentre(e.y))}))}},e.prototype.resume=function(){return this.alpha(.1)},e.prototype.stop=function(){return this.alpha(0)},e.prototype.prepareEdgeRouting=function(e){void 0===e&&(e=0),this._visibilityGraph=new $E.TangentVisibilityGraph(this._nodes.map((function(t){return t.bounds.inflate(-e).vertices()})))},e.prototype.routeEdge=function(e,t,n){void 0===t&&(t=5);var r=[],i=new $E.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),a={x:e.source.x,y:e.source.y},o={x:e.target.x,y:e.target.y},s=i.addPoint(a,e.source.index),c=i.addPoint(o,e.target.index);i.addEdgeIfVisible(a,o,e.source.index,e.target.index),void 0!==n&&n(i);var l=new VE.Calculator(i.V.length,i.E,(function(e){return e.source.id}),(function(e){return e.target.id}),(function(e){return e.length()})).PathFromNodeToNode(s.id,c.id);if(1===l.length||l.length===i.V.length){var d=jE.makeEdgeBetween(e.source.innerBounds,e.target.innerBounds,t);r=[d.sourceIntersection,d.arrowStart]}else{for(var u=l.length-2,p=i.V[l[u]].p,h=i.V[l[0]].p,f=(r=[e.source.innerBounds.rayIntersection(p.x,p.y)],u);f>=0;--f)r.push(i.V[l[f]].p);r.push(jE.makeEdgeTo(h,e.target.innerBounds,t))}return r},e.getSourceIndex=function(e){return"number"==typeof e.source?e.source:e.source.index},e.getTargetIndex=function(e){return"number"==typeof e.target?e.target:e.target.index},e.linkId=function(t){return e.getSourceIndex(t)+"-"+e.getTargetIndex(t)},e.dragStart=function(t){r(t)?e.storeOffset(t,e.dragOrigin(t)):(e.stopNode(t),t.fixed|=2)},e.stopNode=function(e){e.px=e.x,e.py=e.y},e.storeOffset=function(t,n){void 0!==t.leaves&&t.leaves.forEach((function(t){t.fixed|=2,e.stopNode(t),t._dragGroupOffsetX=t.x-n.x,t._dragGroupOffsetY=t.y-n.y})),void 0!==t.groups&&t.groups.forEach((function(t){return e.storeOffset(t,n)}))},e.dragOrigin=function(e){return r(e)?{x:e.bounds.cx(),y:e.bounds.cy()}:e},e.drag=function(t,n){r(t)?(void 0!==t.leaves&&t.leaves.forEach((function(e){t.bounds.setXCentre(n.x),t.bounds.setYCentre(n.y),e.px=e._dragGroupOffsetX+n.x,e.py=e._dragGroupOffsetY+n.y})),void 0!==t.groups&&t.groups.forEach((function(t){return e.drag(t,n)}))):(t.px=n.x,t.py=n.y)},e.dragEnd=function(t){r(t)?(void 0!==t.leaves&&t.leaves.forEach((function(t){e.dragEnd(t),delete t._dragGroupOffsetX,delete t._dragGroupOffsetY})),void 0!==t.groups&&t.groups.forEach(e.dragEnd)):t.fixed&=-7},e.mouseOver=function(e){e.fixed|=4,e.px=e.x,e.py=e.y},e.mouseOut=function(e){e.fixed&=-5},e}();t.Layout=i})),qE=lm((function(e,t){var n=cm&&cm.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t){var n=e.call(this)||this,r=t;return r.trigger&&(n.trigger=r.trigger),r.kick&&(n.kick=r.kick),r.drag&&(n.drag=r.drag),r.on&&(n.on=r.on),n.dragstart=n.dragStart=GE.Layout.dragStart,n.dragend=n.dragEnd=GE.Layout.dragEnd,n}return n(t,e),t.prototype.trigger=function(e){},t.prototype.kick=function(){},t.prototype.drag=function(){},t.prototype.on=function(e,t){return this},t}(GE.Layout);t.LayoutAdaptor=r,t.adaptor=function(e){return new r(e)}})),XE=lm((function(e,t){var n=cm&&cm.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){var t=e.call(this)||this;t.event=d3.dispatch(GE.EventType[GE.EventType.start],GE.EventType[GE.EventType.tick],GE.EventType[GE.EventType.end]);var n=t;return t.drag=function(){if(!e)var e=d3.behavior.drag().origin(GE.Layout.dragOrigin).on("dragstart.d3adaptor",GE.Layout.dragStart).on("drag.d3adaptor",(function(e){GE.Layout.drag(e,d3.event),n.resume()})).on("dragend.d3adaptor",GE.Layout.dragEnd);if(!arguments.length)return e;this.call(e)},t}return n(t,e),t.prototype.trigger=function(e){var t={type:GE.EventType[e.type],alpha:e.alpha,stress:e.stress};this.event[t.type](t)},t.prototype.kick=function(){var t=this;d3.timer((function(){return e.prototype.tick.call(t)}))},t.prototype.on=function(e,t){return"string"==typeof e?this.event.on(e,t):this.event.on(GE.EventType[e],t),this},t}(GE.Layout);t.D3StyleLayoutAdaptor=r,t.d3adaptor=function(){return new r}})),YE=lm((function(e,t){var n=cm&&cm.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t){var n=e.call(this)||this;n.d3Context=t,n.event=t.dispatch(GE.EventType[GE.EventType.start],GE.EventType[GE.EventType.tick],GE.EventType[GE.EventType.end]);var r=n;return n.drag=function(){if(!e)var e=t.drag().subject(GE.Layout.dragOrigin).on("start.d3adaptor",GE.Layout.dragStart).on("drag.d3adaptor",(function(e){GE.Layout.drag(e,t.event),r.resume()})).on("end.d3adaptor",GE.Layout.dragEnd);if(!arguments.length)return e;arguments[0].call(e)},n}return n(t,e),t.prototype.trigger=function(e){var t={type:GE.EventType[e.type],alpha:e.alpha,stress:e.stress};this.event.call(t.type,t)},t.prototype.kick=function(){var t=this,n=this.d3Context.timer((function(){return e.prototype.tick.call(t)&&n.stop()}))},t.prototype.on=function(e,t){return"string"==typeof e?this.event.on(e,t):this.event.on(GE.EventType[e],t),this},t}(GE.Layout);t.D3StyleLayoutAdaptor=r})),KE=lm((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.d3adaptor=function(e){return!e||function(e){var t=/^3\./;return e.version&&null!==e.version.match(t)}(e)?new XE.D3StyleLayoutAdaptor:new YE.D3StyleLayoutAdaptor(e)}})),WE=lm((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){this.id=e,this.rect=t,this.children=n,this.leaf=void 0===n||0===n.length};t.NodeWrapper=n;var r=function(e,t,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),this.id=e,this.x=t,this.y=n,this.node=r,this.line=i};t.Vert=r;var i=function(){function e(t,n){this.s=t,this.t=n;var r=e.findMatch(t,n),i=n.slice(0).reverse(),a=e.findMatch(t,i);r.length>=a.length?(this.length=r.length,this.si=r.si,this.ti=r.ti,this.reversed=!1):(this.length=a.length,this.si=a.si,this.ti=n.length-a.ti-a.length,this.reversed=!0)}return e.findMatch=function(e,t){for(var n=e.length,r=t.length,i={length:0,si:-1,ti:-1},a=new Array(n),o=0;o<n;o++){a[o]=new Array(r);for(var s=0;s<r;s++)if(e[o]===t[s]){var c=a[o][s]=0===o||0===s?1:a[o-1][s-1]+1;c>i.length&&(i.length=c,i.si=o-c+1,i.ti=s-c+1)}else a[o][s]=0}return i},e.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},e}();t.LongestCommonSubsequence=i;var a=function(){function e(e,t,i){var a=this;void 0===i&&(i=12),this.originalnodes=e,this.groupPadding=i,this.leaves=null,this.nodes=e.map((function(e,r){return new n(r,t.getBounds(e),t.getChildren(e))})),this.leaves=this.nodes.filter((function(e){return e.leaf})),this.groups=this.nodes.filter((function(e){return!e.leaf})),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach((function(e){return e.children.forEach((function(t){return a.nodes[t].parent=e}))})),this.root={children:[]},this.nodes.forEach((function(e){void 0===e.parent&&(e.parent=a.root,a.root.children.push(e.id)),e.ports=[]})),this.backToFront=this.nodes.slice(0),this.backToFront.sort((function(e,t){return a.getDepth(e)-a.getDepth(t)})),this.backToFront.slice(0).reverse().filter((function(e){return!e.leaf})).forEach((function(e){var t=jE.Rectangle.empty();e.children.forEach((function(e){return t=t.union(a.nodes[e].rect)})),e.rect=t.inflate(a.groupPadding)}));var o=this.midPoints(this.cols.map((function(e){return e.pos}))),s=this.midPoints(this.rows.map((function(e){return e.pos}))),c=o[0],l=o[o.length-1],d=s[0],u=s[s.length-1],p=this.rows.map((function(e){return{x1:c,x2:l,y1:e.pos,y2:e.pos}})).concat(s.map((function(e){return{x1:c,x2:l,y1:e,y2:e}}))),h=this.cols.map((function(e){return{x1:e.pos,x2:e.pos,y1:d,y2:u}})).concat(o.map((function(e){return{x1:e,x2:e,y1:d,y2:u}}))),f=p.concat(h);f.forEach((function(e){return e.verts=[]})),this.verts=[],this.edges=[],p.forEach((function(e){return h.forEach((function(t){var n=new r(a.verts.length,t.x1,e.y1);e.verts.push(n),t.verts.push(n),a.verts.push(n);for(var i=a.backToFront.length;i-- >0;){var o=a.backToFront[i],s=o.rect,c=Math.abs(n.x-s.cx()),l=Math.abs(n.y-s.cy());if(c<s.width()/2&&l<s.height()/2){n.node=o;break}}}))})),f.forEach((function(e,t){a.nodes.forEach((function(t,n){t.rect.lineIntersections(e.x1,e.y1,e.x2,e.y2).forEach((function(n,i){var o=new r(a.verts.length,n.x,n.y,t,e);a.verts.push(o),e.verts.push(o),t.ports.push(o)}))}));var n=Math.abs(e.y1-e.y2)<.1,i=function(e,t){return n?t.x-e.x:t.y-e.y};e.verts.sort(i);for(var o=1;o<e.verts.length;o++){var s=e.verts[o-1],c=e.verts[o];s.node&&s.node===c.node&&s.node.leaf||a.edges.push({source:s.id,target:c.id,length:Math.abs(i(s,c))})}}))}return e.prototype.avg=function(e){return e.reduce((function(e,t){return e+t}))/e.length},e.prototype.getGridLines=function(e){for(var t=[],n=this.leaves.slice(0,this.leaves.length);n.length>0;){var r=n.filter((function(t){return t.rect["overlap"+e.toUpperCase()](n[0].rect)})),i={nodes:r,pos:this.avg(r.map((function(t){return t.rect["c"+e]()})))};t.push(i),i.nodes.forEach((function(e){return n.splice(n.indexOf(e),1)}))}return t.sort((function(e,t){return e.pos-t.pos})),t},e.prototype.getDepth=function(e){for(var t=0;e.parent!==this.root;)t++,e=e.parent;return t},e.prototype.midPoints=function(e){for(var t=e[1]-e[0],n=[e[0]-t/2],r=1;r<e.length;r++)n.push((e[r]+e[r-1])/2);return n.push(e[e.length-1]+t/2),n},e.prototype.findLineage=function(e){var t=[e];do{e=e.parent,t.push(e)}while(e!==this.root);return t.reverse()},e.prototype.findAncestorPathBetween=function(e,t){for(var n=this.findLineage(e),r=this.findLineage(t),i=0;n[i]===r[i];)i++;return{commonAncestor:n[i-1],lineages:n.slice(i).concat(r.slice(i))}},e.prototype.siblingObstacles=function(e,t){var n=this,r=this.findAncestorPathBetween(e,t),i={};r.lineages.forEach((function(e){return i[e.id]={}}));var a=r.commonAncestor.children.filter((function(e){return!(e in i)}));return r.lineages.filter((function(e){return e.parent!==r.commonAncestor})).forEach((function(e){return a=a.concat(e.parent.children.filter((function(t){return t!==e.id})))})),a.map((function(e){return n.nodes[e]}))},e.getSegmentSets=function(e,t,n){for(var r=[],i=0;i<e.length;i++)for(var a=e[i],o=0;o<a.length;o++){(u=a[o]).edgeid=i,u.i=o;var s=u[1][t]-u[0][t];Math.abs(s)<.1&&r.push(u)}r.sort((function(e,n){return e[0][t]-n[0][t]}));for(var c=[],l=null,d=0;d<r.length;d++){var u=r[d];(!l||Math.abs(u[0][t]-l.pos)>.1)&&(l={pos:u[0][t],segments:[]},c.push(l)),l.segments.push(u)}return c},e.nudgeSegs=function(e,t,n,r,i,a){var o=r.length;if(!(o<=1)){for(var s=r.map((function(t){return new zE.Variable(t[0][e])})),c=[],l=0;l<o;l++)for(var d=0;d<o;d++)if(l!==d){var u=r[l],p=r[d],h=u.edgeid,f=p.edgeid,m=-1,g=-1;"x"==e?i(h,f)&&(u[0][t]<u[1][t]?(m=d,g=l):(m=l,g=d)):i(h,f)&&(u[0][t]<u[1][t]?(m=l,g=d):(m=d,g=l)),m>=0&&c.push(new zE.Constraint(s[m],s[g],a))}new zE.Solver(s,c).solve(),s.forEach((function(t,i){var a=r[i],o=t.position();a[0][e]=a[1][e]=o;var s=n[a.edgeid];a.i>0&&(s[a.i-1][1][e]=o),a.i<s.length-1&&(s[a.i+1][0][e]=o)}))}},e.nudgeSegments=function(t,n,r,i,a){for(var o=e.getSegmentSets(t,n,r),s=0;s<o.length;s++){for(var c=o[s],l=[],d=0;d<c.segments.length;d++){var u=c.segments[d];l.push({type:0,s:u,pos:Math.min(u[0][r],u[1][r])}),l.push({type:1,s:u,pos:Math.max(u[0][r],u[1][r])})}l.sort((function(e,t){return e.pos-t.pos+e.type-t.type}));var p=[],h=0;l.forEach((function(o){0===o.type?(p.push(o.s),h++):h--,0==h&&(e.nudgeSegs(n,r,t,p,i,a),p=[])}))}},e.prototype.routeEdges=function(t,n,r,i){var a=this,o=t.map((function(e){return a.route(r(e),i(e))})),s=e.orderEdges(o),c=o.map((function(t){return e.makeSegments(t)}));return e.nudgeSegments(c,"x","y",s,n),e.nudgeSegments(c,"y","x",s,n),e.unreverseEdges(c,o),c},e.unreverseEdges=function(e,t){e.forEach((function(e,n){t[n].reversed&&(e.reverse(),e.forEach((function(e){e.reverse()})))}))},e.angleBetween2Lines=function(e,t){var n=Math.atan2(e[0].y-e[1].y,e[0].x-e[1].x),r=Math.atan2(t[0].y-t[1].y,t[0].x-t[1].x),i=n-r;return(i>Math.PI||i<-Math.PI)&&(i=r-n),i},e.isLeft=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)<=0},e.getOrder=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];void 0===t[r.l]&&(t[r.l]={}),t[r.l][r.r]=!0}return function(e,n){return void 0!==t[e]&&t[e][n]}},e.orderEdges=function(t){for(var n=[],r=0;r<t.length-1;r++)for(var a=r+1;a<t.length;a++){var o,s,c,l=t[r],d=t[a],u=new i(l,d);0!==u.length&&(u.reversed&&(d.reverse(),d.reversed=!0,u=new i(l,d)),(u.si<=0||u.ti<=0)&&(u.si+u.length>=l.length||u.ti+u.length>=d.length)?n.push({l:r,r:a}):(u.si+u.length>=l.length||u.ti+u.length>=d.length?(o=l[u.si+1],c=l[u.si-1],s=d[u.ti-1]):(o=l[u.si+u.length-2],s=l[u.si+u.length],c=d[u.ti+u.length]),e.isLeft(o,s,c)?n.push({l:a,r:r}):n.push({l:r,r:a})))}return e.getOrder(n)},e.makeSegments=function(e){function t(e){return{x:e.x,y:e.y}}for(var n=function(e,t,n){return Math.abs((t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x))<.001},r=[],i=t(e[0]),a=1;a<e.length;a++){var o=t(e[a]),s=a<e.length-1?e[a+1]:null;s&&n(i,o,s)||(r.push([i,o]),i=o)}return r},e.prototype.route=function(e,t){var n=this,r=this.nodes[e],i=this.nodes[t];this.obstacles=this.siblingObstacles(r,i);var a={};this.obstacles.forEach((function(e){return a[e.id]=e})),this.passableEdges=this.edges.filter((function(e){var t=n.verts[e.source],r=n.verts[e.target];return!(t.node&&t.node.id in a||r.node&&r.node.id in a)}));for(var o=1;o<r.ports.length;o++){var s=r.ports[0].id,c=r.ports[o].id;this.passableEdges.push({source:s,target:c,length:0})}for(o=1;o<i.ports.length;o++){s=i.ports[0].id,c=i.ports[o].id;this.passableEdges.push({source:s,target:c,length:0})}var l=new VE.Calculator(this.verts.length,this.passableEdges,(function(e){return e.source}),(function(e){return e.target}),(function(e){return e.length})).PathFromNodeToNodeWithPrevCost(r.ports[0].id,i.ports[0].id,(function(e,t,a){var o=n.verts[e],s=n.verts[t],c=n.verts[a],l=Math.abs(c.x-o.x),d=Math.abs(c.y-o.y);return o.node===r&&o.node===s.node||s.node===i&&s.node===c.node?0:l>1&&d>1?1e3:0})).reverse().map((function(e){return n.verts[e]}));return l.push(this.nodes[i.id].ports[0]),l.filter((function(e,t){return!(t<l.length-1&&l[t+1].node===r&&e.node===r||t>0&&e.node===i&&l[t-1].node===i)}))},e.getRoutePath=function(t,n,r,i){var a={routepath:"M "+t[0][0].x+" "+t[0][0].y+" ",arrowpath:""};if(t.length>1)for(var o=0;o<t.length;o++){var s=(_=t[o])[1].x,c=_[1].y,l=s-_[0].x,d=c-_[0].y;if(o<t.length-1){Math.abs(l)>0?s-=l/Math.abs(l)*n:c-=d/Math.abs(d)*n,a.routepath+="L "+s+" "+c+" ";var u=t[o+1],p=u[0].x,h=u[0].y;l=u[1].x-p,d=u[1].y-h;var f,m,g=e.angleBetween2Lines(_,u)<0?1:0;Math.abs(l)>0?(f=p+l/Math.abs(l)*n,m=h):(f=p,m=h+d/Math.abs(d)*n);var v=Math.abs(f-s),y=Math.abs(m-c);a.routepath+="A "+v+" "+y+" 0 0 "+g+" "+f+" "+m+" "}else{var b=[s,c];Math.abs(l)>0?(x=[s-=l/Math.abs(l)*i,c+r],w=[s,c-r]):(x=[s+r,c-=d/Math.abs(d)*i],w=[s-r,c]),a.routepath+="L "+s+" "+c+" ",i>0&&(a.arrowpath="M "+b[0]+" "+b[1]+" L "+x[0]+" "+x[1]+" L "+w[0]+" "+w[1])}}else{var _,x,w;s=(_=t[0])[1].x,c=_[1].y,l=s-_[0].x,d=c-_[0].y,b=[s,c];Math.abs(l)>0?(x=[s-=l/Math.abs(l)*i,c+r],w=[s,c-r]):(x=[s+r,c-=d/Math.abs(d)*i],w=[s-r,c]),a.routepath+="L "+s+" "+c+" ",i>0&&(a.arrowpath="M "+b[0]+" "+b[1]+" L "+x[0]+" "+x[1]+" L "+w[0]+" "+w[1])}return a},e}();t.GridRouter=a})),ZE=lm((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.source=e,this.target=t}return e.prototype.actualLength=function(e){var t=this;return Math.sqrt(e.reduce((function(e,n){var r=n[t.target]-n[t.source];return e+r*r}),0))},e}();t.Link3D=n;var r=function(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),this.x=e,this.y=t,this.z=n};t.Node3D=r;var i=function(){function e(t,n,r){var i=this;void 0===r&&(r=1),this.nodes=t,this.links=n,this.idealLinkLength=r,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(e.k);for(var a=0;a<e.k;++a)this.result[a]=new Array(t.length);t.forEach((function(t,n){for(var r=0,a=e.dims;r<a.length;r++){var o=a[r];void 0===t[o]&&(t[o]=Math.random())}i.result[0][n]=t.x,i.result[1][n]=t.y,i.result[2][n]=t.z}))}return e.prototype.linkLength=function(e){return e.actualLength(this.result)},e.prototype.start=function(e){var t=this;void 0===e&&(e=100);var n=this.nodes.length,r=new a;this.useJaccardLinkLengths&&ME.jaccardLinkLengths(this.links,r,1.5),this.links.forEach((function(e){return e.length*=t.idealLinkLength}));var i=new VE.Calculator(n,this.links,(function(e){return e.source}),(function(e){return e.target}),(function(e){return e.length})).DistanceMatrix(),o=FE.Descent.createSquareMatrix(n,(function(e,t){return i[e][t]})),s=FE.Descent.createSquareMatrix(n,(function(){return 2}));this.links.forEach((function(e){var t=e.source,n=e.target;return s[t][n]=s[n][t]=1})),this.descent=new FE.Descent(this.result,o),this.descent.threshold=.001,this.descent.G=s,this.constraints&&(this.descent.project=new jE.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var c=0;c<this.nodes.length;c++){var l=this.nodes[c];l.fixed&&this.descent.locks.add(c,[l.x,l.y,l.z])}return this.descent.run(e),this},e.prototype.tick=function(){this.descent.locks.clear();for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e];t.fixed&&this.descent.locks.add(e,[t.x,t.y,t.z])}return this.descent.rungeKutta()},e.dims=["x","y","z"],e.k=e.dims.length,e}();t.Layout3D=i;var a=function(){function e(){}return e.prototype.getSourceIndex=function(e){return e.source},e.prototype.getTargetIndex=function(e){return e.target},e.prototype.getLength=function(e){return e.length},e.prototype.setLength=function(e,t){e.length=t},e}()})),QE=lm((function(e,t){function n(e,t,n,r){e.forEach((function(e){e.routerNode={name:e.name,bounds:e.bounds.inflate(-n)}})),t.forEach((function(t){t.routerNode={bounds:t.bounds.inflate(-r),children:(void 0!==t.groups?t.groups.map((function(t){return e.length+t.id})):[]).concat(void 0!==t.leaves?t.leaves.map((function(e){return e.index})):[])}}));var i=e.concat(t).map((function(e,t){return e.routerNode.id=t,e.routerNode}));return new WE.GridRouter(i,{getChildren:function(e){return e.children},getBounds:function(e){return e.bounds}},n-r)}Object.defineProperty(t,"__esModule",{value:!0}),t.gridify=function(e,t,r,i){return e.cola.start(0,0,0,10,!1),n(e.cola.nodes(),e.cola.groups(),r,i).routeEdges(e.powerGraph.powerEdges,t,(function(e){return e.source.routerNode.id}),(function(e){return e.target.routerNode.id}))},t.powerGraphGridLayout=function(e,t,n){var r;e.nodes.forEach((function(e,t){return e.index=t})),(new GE.Layout).avoidOverlaps(!1).nodes(e.nodes).links(e.links).powerGraphGroups((function(e){(r=e).groups.forEach((function(e){return e.padding=n}))}));var i=e.nodes.length,a=[],o=e.nodes.slice(0);return o.forEach((function(e,t){return e.index=t})),r.groups.forEach((function(e){var t=e.index=e.id+i;o.push(e),void 0!==e.leaves&&e.leaves.forEach((function(e){return a.push({source:t,target:e.index})})),void 0!==e.groups&&e.groups.forEach((function(e){return a.push({source:t,target:e.id+i})}))})),r.powerEdges.forEach((function(e){a.push({source:e.source.index,target:e.target.index})})),(new GE.Layout).size(t).nodes(o).links(a).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new GE.Layout).convergenceThreshold(.001).size(t).avoidOverlaps(!0).nodes(e.nodes).links(e.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups((function(e){(r=e).groups.forEach((function(e){e.padding=n}))})).start(50,0,100,0,!1),powerGraph:r}}})),JE=lm((function(e,t){function n(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(qE),n(KE),n(FE),n($E),n(WE),n(UE),n(GE),n(ZE),n(ME),n(NE),n(HE),n(BE),n(jE),n(VE),n(zE),n(QE)})),eC=lm((function(e,t){var n;n=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),a=n(2),o=n(5)||("undefined"!=typeof window?window.cola:null),s=n(4),c=function(e){return(void 0===e?"undefined":r(e))===r(0)},l=function(){},d=function(e,t){var n;return null!=(n=e)&&(void 0===n?"undefined":r(n))===r((function(){}))?e.apply(t,[t]):e};function u(e){this.options=i({},a,e)}u.prototype.run=function(){var e=this,t=this.options;e.manuallyStopped=!1;var n=t.cy,i=t.eles,a=i.nodes(),u=i.edges(),p=!1,h=a.filter((function(e){return e.isParent()})),f=a.subtract(h),m=t.boundingBox||{x1:0,y1:0,w:n.width(),h:n.height()};void 0===m.x2&&(m.x2=m.x1+m.w),void 0===m.w&&(m.w=m.x2-m.x1),void 0===m.y2&&(m.y2=m.y1+m.h),void 0===m.h&&(m.h=m.y2-m.y1);var g=function(){for(var e=0;e<a.length;e++){var r=a[e],i=r.layoutDimensions(t),o=r.scratch("cola");if(!o.updatedDims){var s=d(t.nodeSpacing,r);o.width=i.w+2*s,o.height=i.h+2*s}}a.positions((function(e){var t=e.scratch().cola,n=void 0;return!e.grabbed()&&f.contains(e)&&(n={x:m.x1+t.x,y:m.y1+t.y},c(n.x)&&c(n.y)||(n=void 0)),n})),a.updateCompoundBounds(),p||(y(),p=!0),t.fit&&n.fit(t.padding)},v=function(){t.ungrabifyWhileSimulating&&x.grabify(),n.off("destroy",w),a.off("grab free position",k),a.off("lock unlock",E),e.one("layoutstop",t.stop),e.trigger({type:"layoutstop",layout:e})},y=function(){e.one("layoutready",t.ready),e.trigger({type:"layoutready",layout:e})},b=t.refresh;b=t.refresh<0?1:Math.max(1,b);var _=e.adaptor=o.adaptor({trigger:function(e){var n=o.EventType?o.EventType.tick:null,r=o.EventType?o.EventType.end:null;switch(e.type){case"tick":case n:t.animate&&g();break;case"end":case r:g(),t.infinite||v()}},kick:function(){var n=!0,r=function(){if(e.manuallyStopped)return v(),!0;var r=_.tick();return t.infinite||n||_.convergenceThreshold(t.convergenceThreshold),n=!1,r&&t.infinite&&_.resume(),r};if(t.animate)s((function e(){(function(){for(var e=void 0,t=0;t<b&&!e;t++)e=e||r();return e})()||s(e)}));else for(;!r(););},on:l,drag:l});e.adaptor=_;var x=a.filter(":grabbable");t.ungrabifyWhileSimulating&&x.ungrabify();var w=void 0;n.one("destroy",w=function(){e.stop()});var k=void 0;a.on("grab free position",k=function(e){var t=this,n=t.scratch().cola,r=t.position();if(e.cyTarget===t||e.target===t)switch(e.type){case"grab":_.dragstart(n);break;case"free":_.dragend(n);break;case"position":n.px===r.x-m.x1&&n.py===r.y-m.y1||(n.px=r.x-m.x1,n.py=r.y-m.y1)}});var E=void 0;a.on("lock unlock",E=function(){var e=this,t=e.scratch().cola;t.fixed=e.locked(),e.locked()?_.dragstart(t):_.dragend(t)}),_.nodes(f.map((function(e,n){var r=d(t.nodeSpacing,e),i=e.position(),a=e.layoutDimensions(t);return e.scratch().cola={x:t.randomize&&!e.locked()||void 0===i.x?Math.round(Math.random()*m.w):i.x,y:t.randomize&&!e.locked()||void 0===i.y?Math.round(Math.random()*m.h):i.y,width:a.w+2*r,height:a.h+2*r,index:n,fixed:e.locked()}})));var C=[];t.alignment&&(t.alignment.vertical&&t.alignment.vertical.forEach((function(e){var t=[];e.forEach((function(e){var n=e.node.scratch().cola.index;t.push({node:n,offset:e.offset?e.offset:0})})),C.push({type:"alignment",axis:"x",offsets:t})})),t.alignment.horizontal&&t.alignment.horizontal.forEach((function(e){var t=[];e.forEach((function(e){var n=e.node.scratch().cola.index;t.push({node:n,offset:e.offset?e.offset:0})})),C.push({type:"alignment",axis:"y",offsets:t})}))),t.gapInequalities&&t.gapInequalities.forEach((function(e){var t=e.left.scratch().cola.index,n=e.right.scratch().cola.index;C.push({axis:e.axis,left:t,right:n,gap:e.gap,equality:e.equality})})),C.length>0&&_.constraints(C),_.groups(h.map((function(e,n){var r=d(t.nodeSpacing,e),i=function(t){return parseFloat(e.style("padding-"+t))},a=i("left")+r,o=i("right")+r,s=i("top")+r,c=i("bottom")+r;return e.scratch().cola={index:n,padding:Math.max(a,o,s,c),leaves:e.children().intersection(f).map((function(e){return e[0].scratch().cola.index})),fixed:e.locked()},e})).map((function(e){return e.scratch().cola.groups=e.children().intersection(h).map((function(e){return e.scratch().cola.index})),e.scratch().cola})));var S,A=void 0,T=void 0;if(null!=t.edgeLength?(A=t.edgeLength,T="linkDistance"):null!=t.edgeSymDiffLength?(A=t.edgeSymDiffLength,T="symmetricDiffLinkLengths"):null!=t.edgeJaccardLength?(A=t.edgeJaccardLength,T="jaccardLinkLengths"):(A=100,T="linkDistance"),_.links(u.stdFilter((function(e){return f.contains(e.source())&&f.contains(e.target())})).map((function(e){var t=e.scratch().cola={source:e.source()[0].scratch().cola.index,target:e.target()[0].scratch().cola.index};return null!=A&&(t.calcLength=d(A,e)),t}))),_.size([m.w,m.h]),null!=A&&_[T]((function(e){return e.calcLength})),t.flow){var I=void 0;(void 0===(S=t.flow)?"undefined":r(S))===r("")?I={axis:t.flow,minSeparation:50}:c(t.flow)?I={axis:"y",minSeparation:t.flow}:function(e){return null!=e&&(void 0===e?"undefined":r(e))===r({})}(t.flow)?((I=t.flow).axis=I.axis||"y",I.minSeparation=null!=I.minSeparation?I.minSeparation:50):I={axis:"y",minSeparation:50},_.flowLayout(I.axis,I.minSeparation)}return e.trigger({type:"layoutstart",layout:e}),_.avoidOverlaps(t.avoidOverlap).handleDisconnected(t.handleDisconnected).start(t.unconstrIter,t.userConstIter,t.allConstIter),t.infinite||setTimeout((function(){e.manuallyStopped||_.stop()}),t.maxSimulationTime),this},u.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},e.exports=u},function(e,t,n){e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.filter((function(e){return null!=e})).forEach((function(t){Object.keys(t).forEach((function(n){return e[n]=t[n]}))})),e}},function(e,t,n){var r={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,convergenceThreshold:.01,nodeSpacing:function(e){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};e.exports=r},function(e,t,n){var r=n(0),i=function(e){e&&e("layout","cola",r)};"undefined"!=typeof cytoscape&&i(cytoscape),e.exports=i},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=void 0;i="undefined"!==("undefined"==typeof window?"undefined":r(window))?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)}:function(e){e()},e.exports=i},function(t,n){t.exports=e}])},e.exports=n(JE)}));CE.use(eC);const tC={name:"cola",animate:!0,ready:e=>{e.cy.fit(),e.cy.center()}};class nC extends zf{constructor(){super(...arguments),this.hideFilter=!1,this.showEntryContents=!1,this.excludedEntryTypes=[],this.lastEntriesIds=[],this.ready=!1,this._entryTypes=[]}firstUpdated(){window.addEventListener("scroll",(()=>{this.cy.resize()})),this.cy=CE({container:this.entryGraph,boxSelectionEnabled:!1,autoungrabify:!1,userZoomingEnabled:!0,userPanningEnabled:!0,layout:tC,style:"\n              node {\n                background-color: grey;\n                font-size: 10px;\n                width: 16px;\n                label: data(label);\n                height: 16px;\n                shape: round-rectangle;\n              }\n\n              node > node {\n                height: 1px;\n              }\n      \n              edge {\n                width: 2;\n                target-arrow-shape: triangle;\n                curve-style: bezier;\n              }\n              \n              edge[label] {\n                label: data(label);\n                font-size: 7px;\n                text-rotation: autorotate;\n                text-margin-x: 0px;\n                text-margin-y: -5px;\n                text-valign: top;\n                text-halign: center;        \n              }\n      \n              .selected {\n                border-width: 1px;\n                border-color: black;\n                border-style: solid;\n              }\n      \n              .AgentId {\n                background-color: lime;\n              }\n              .Create {\n                background-color: blue;\n              }\n              .Delete {\n                background-color: red;\n              }\n              .Update {\n                background-color: cyan;\n              }\n              .CreateLink {\n                background-color: purple;\n              }\n              .DeleteLink {\n                background-color: purple;\n              }\n      \n              .implicit {\n                width: 1;\n                line-style: dotted;\n              }\n\n              .update-edge {\n                width: 1;\n                line-style: dashed;\n              }\n              .updated {\n                opacity: 0.5;\n              }\n              .deleted {\n                opacity: 0.3 !important;\n              }\n            "}),this.cy.on("tap","node",(e=>{const t=e.target.id();this.updatePlayground({activeHash:t})})),this.cy.ready((e=>{setTimeout((()=>{this.ready=!0,this.updatedGraph()}),500)}))}updated(e){super.updated(e),this.updatedGraph()}observedCells(){return Hf(this.activeDna,this.conductors)}updatedGraph(){if(0===this.entryGraph.getBoundingClientRect().width||!this.ready)return null;const e=Hf(this.activeDna,this.conductors),{entries:t,entryTypes:n}=DE(e,this.showEntryContents,this.excludedEntryTypes);si(this.lastEntriesIds,t.map((e=>e.data.id)))||(this.layout&&this.layout.stop(),this.cy.remove("node"),this.cy.add(t),this.layout=this.cy.elements().makeLayout(tC),this.layout.run(),this._entryTypes=n),this.lastEntriesIds=t.map((e=>e.data.id)),this.cy.filter("node").removeClass("selected");const r=this.cy.getElementById(this.activeHash);r&&r.addClass("selected")}static get styles(){return[Bf,c(_f||(_f=Pf`
        :host {
          display: flex;
        }
      `))]}renderHelp(){return l(xf||(xf=Pf` <holochain-playground-help-button
      heading="Entry Graph"
      class="block-help"
    >
      <span>
        This graph contains a
        <strong>high-level view of all the entries</strong> that are present in
        the DHT. Every object you see represents an entry, and the relationships
        between them are links.
        <br />
        <br />
        Dashed relationships are embedded references, and solid relationships
        are normal holochain links. The tag of the holochain links appears as
        the label.
      </span>
    </holochain-playground-help-button>`))}renderFilter(){return l(wf||(wf=Pf` <div
      class="row"
      style="align-items: center; justify-content: start; position: relative;"
    >
      <mwc-formfield label="Show Entry Contents" style="margin-right: 16px">
        <mwc-checkbox
          checked
          @change=${0}
        ></mwc-checkbox
      ></mwc-formfield>

      <span class="vertical-divider"></span>

      <mwc-button
        label="Visible entries"
        style="--mdc-theme-primary: rgba(0,0,0,0.7); margin-left: 16px;"
        icon="arrow_drop_down"
        id="visible-entries-button"
        trailingIcon
        @click=${0}
      ></mwc-button>
      <mwc-menu
        corner="BOTTOM_END"
        multi
        activatable
        id="visible-entries-menu"
        .anchor=${0}
        @selected=${0}
      >
        ${0}
      </mwc-menu>
    </div>`),(e=>this.showEntryContents=e.target.checked),(()=>this._visibleEntriesMenu.show()),this._visibleEntriesButton,(e=>{const t=[...e.detail.index];this.excludedEntryTypes=this._entryTypes.filter(((e,n)=>!t.includes(n)))}),this._entryTypes.map((e=>l(kf||(kf=Pf`
            <mwc-list-item
              graphic="icon"
              .selected=${0}
              .activated=${0}
            >
              ${0}
              ${0}
            </mwc-list-item>
          `),!this.excludedEntryTypes.includes(e),!this.excludedEntryTypes.includes(e),this.excludedEntryTypes.includes(e)?l(Cf||(Cf=Pf``)):l(Ef||(Ef=Pf` <mwc-icon slot="graphic">check</mwc-icon> `)),e))))}render(){return l(Sf||(Sf=Pf`
      <mwc-card class="block-card">
        <div class="column fill" style="margin: 16px;">
          <span class="block-title">Entry Graph</span>

          <div id="entry-graph" class="fill"></div>

          ${0}
          ${0}
        </div>
      </mwc-card>
    `),this.renderHelp(),this.hideFilter?l(Af||(Af=Pf``)):this.renderFilter())}static get scopedElements(){return{"mwc-checkbox":Up,"mwc-formfield":np,"mwc-icon-button":ft,"mwc-card":il,"mwc-menu":Fp,"mwc-icon":vs,"mwc-list-item":bl,"mwc-button":Ss,"holochain-playground-help-button":AE}}}Lf([v({type:Boolean,attribute:"hide-filter"}),Nf("design:type",Boolean)],nC.prototype,"hideFilter",void 0),Lf([v({type:Boolean,attribute:"show-entry-contents"}),Nf("design:type",Boolean)],nC.prototype,"showEntryContents",void 0),Lf([v({type:Array}),Nf("design:type",Array)],nC.prototype,"excludedEntryTypes",void 0),Lf([b("#entry-graph"),Nf("design:type",HTMLElement)],nC.prototype,"entryGraph",void 0),Lf([v({type:Array}),Nf("design:type",Object)],nC.prototype,"_entryTypes",void 0),Lf([b("#visible-entries-button"),Nf("design:type",Ss)],nC.prototype,"_visibleEntriesButton",void 0),Lf([b("#visible-entries-menu"),Nf("design:type",Fp)],nC.prototype,"_visibleEntriesMenu",void 0);var rC=function(){this.__data__=[],this.size=0};var iC=function(e,t){return e===t||e!=e&&t!=t};var aC=function(e,t){for(var n=e.length;n--;)if(iC(e[n][0],t))return n;return-1},oC=Array.prototype.splice;var sC=function(e){var t=this.__data__,n=aC(t,e);return!(n<0)&&(n==t.length-1?t.pop():oC.call(t,n,1),--this.size,!0)};var cC=function(e){var t=this.__data__,n=aC(t,e);return n<0?void 0:t[n][1]};var lC=function(e){return aC(this.__data__,e)>-1};var dC=function(e,t){var n=this.__data__,r=aC(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function uC(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}uC.prototype.clear=rC,uC.prototype.delete=sC,uC.prototype.get=cC,uC.prototype.has=lC,uC.prototype.set=dC;var pC=uC;var hC=function(){this.__data__=new pC,this.size=0};var fC=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var mC=function(e){return this.__data__.get(e)};var gC=function(e){return this.__data__.has(e)},vC="object"==typeof cm&&cm&&cm.Object===Object&&cm,yC="object"==typeof self&&self&&self.Object===Object&&self,bC=vC||yC||Function("return this")(),_C=bC.Symbol,xC=Object.prototype,wC=xC.hasOwnProperty,kC=xC.toString,EC=_C?_C.toStringTag:void 0;var CC=function(e){var t=wC.call(e,EC),n=e[EC];try{e[EC]=void 0;var r=!0}catch(e){}var i=kC.call(e);return r&&(t?e[EC]=n:delete e[EC]),i},SC=Object.prototype.toString;var AC=function(e){return SC.call(e)},TC=_C?_C.toStringTag:void 0;var IC=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":TC&&TC in Object(e)?CC(e):AC(e)};var OC=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var RC=function(e){if(!OC(e))return!1;var t=IC(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},DC=bC["__core-js_shared__"],PC=function(){var e=/[^.]+$/.exec(DC&&DC.keys&&DC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var LC=function(e){return!!PC&&PC in e},NC=Function.prototype.toString;var MC=function(e){if(null!=e){try{return NC.call(e)}catch(e){}try{return e+""}catch(e){}}return""},FC=/^\[object .+?Constructor\]$/,zC=Function.prototype,BC=Object.prototype,jC=zC.toString,HC=BC.hasOwnProperty,VC=RegExp("^"+jC.call(HC).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var $C=function(e){return!(!OC(e)||LC(e))&&(RC(e)?VC:FC).test(MC(e))};var UC=function(e,t){return null==e?void 0:e[t]};var GC=function(e,t){var n=UC(e,t);return $C(n)?n:void 0},qC=GC(bC,"Map"),XC=GC(Object,"create");var YC=function(){this.__data__=XC?XC(null):{},this.size=0};var KC=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},WC=Object.prototype.hasOwnProperty;var ZC=function(e){var t=this.__data__;if(XC){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return WC.call(t,e)?t[e]:void 0},QC=Object.prototype.hasOwnProperty;var JC=function(e){var t=this.__data__;return XC?void 0!==t[e]:QC.call(t,e)};var eS=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=XC&&void 0===t?"__lodash_hash_undefined__":t,this};function tS(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}tS.prototype.clear=YC,tS.prototype.delete=KC,tS.prototype.get=ZC,tS.prototype.has=JC,tS.prototype.set=eS;var nS=tS;var rS=function(){this.size=0,this.__data__={hash:new nS,map:new(qC||pC),string:new nS}};var iS=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var aS=function(e,t){var n=e.__data__;return iS(t)?n["string"==typeof t?"string":"hash"]:n.map};var oS=function(e){var t=aS(this,e).delete(e);return this.size-=t?1:0,t};var sS=function(e){return aS(this,e).get(e)};var cS=function(e){return aS(this,e).has(e)};var lS=function(e,t){var n=aS(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function dS(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}dS.prototype.clear=rS,dS.prototype.delete=oS,dS.prototype.get=sS,dS.prototype.has=cS,dS.prototype.set=lS;var uS=dS;var pS=function(e,t){var n=this.__data__;if(n instanceof pC){var r=n.__data__;if(!qC||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new uS(r)}return n.set(e,t),this.size=n.size,this};function hS(e){var t=this.__data__=new pC(e);this.size=t.size}hS.prototype.clear=hC,hS.prototype.delete=fC,hS.prototype.get=mC,hS.prototype.has=gC,hS.prototype.set=pS;var fS=hS;var mS=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},gS=function(){try{var e=GC(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var vS=function(e,t,n){"__proto__"==t&&gS?gS(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},yS=Object.prototype.hasOwnProperty;var bS=function(e,t,n){var r=e[t];yS.call(e,t)&&iC(r,n)&&(void 0!==n||t in e)||vS(e,t,n)};var _S=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?vS(n,s,c):bS(n,s,c)}return n};var xS=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var wS=function(e){return null!=e&&"object"==typeof e};var kS=function(e){return wS(e)&&"[object Arguments]"==IC(e)},ES=Object.prototype,CS=ES.hasOwnProperty,SS=ES.propertyIsEnumerable,AS=kS(function(){return arguments}())?kS:function(e){return wS(e)&&CS.call(e,"callee")&&!SS.call(e,"callee")},TS=Array.isArray;var IS=function(){return!1},OS=lm((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?bC.Buffer:void 0,a=(i?i.isBuffer:void 0)||IS;e.exports=a})),RS=/^(?:0|[1-9]\d*)$/;var DS=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&RS.test(e))&&e>-1&&e%1==0&&e<t};var PS=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},LS={};LS["[object Float32Array]"]=LS["[object Float64Array]"]=LS["[object Int8Array]"]=LS["[object Int16Array]"]=LS["[object Int32Array]"]=LS["[object Uint8Array]"]=LS["[object Uint8ClampedArray]"]=LS["[object Uint16Array]"]=LS["[object Uint32Array]"]=!0,LS["[object Arguments]"]=LS["[object Array]"]=LS["[object ArrayBuffer]"]=LS["[object Boolean]"]=LS["[object DataView]"]=LS["[object Date]"]=LS["[object Error]"]=LS["[object Function]"]=LS["[object Map]"]=LS["[object Number]"]=LS["[object Object]"]=LS["[object RegExp]"]=LS["[object Set]"]=LS["[object String]"]=LS["[object WeakMap]"]=!1;var NS=function(e){return wS(e)&&PS(e.length)&&!!LS[IC(e)]};var MS=function(e){return function(t){return e(t)}},FS=lm((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&vC.process,a=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=a})),zS=FS&&FS.isTypedArray,BS=zS?MS(zS):NS,jS=Object.prototype.hasOwnProperty;var HS=function(e,t){var n=TS(e),r=!n&&AS(e),i=!n&&!r&&OS(e),a=!n&&!r&&!i&&BS(e),o=n||r||i||a,s=o?xS(e.length,String):[],c=s.length;for(var l in e)!t&&!jS.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||DS(l,c))||s.push(l);return s},VS=Object.prototype;var $S=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||VS)};var US=function(e,t){return function(n){return e(t(n))}},GS=US(Object.keys,Object),qS=Object.prototype.hasOwnProperty;var XS=function(e){if(!$S(e))return GS(e);var t=[];for(var n in Object(e))qS.call(e,n)&&"constructor"!=n&&t.push(n);return t};var YS=function(e){return null!=e&&PS(e.length)&&!RC(e)};var KS=function(e){return YS(e)?HS(e):XS(e)};var WS=function(e,t){return e&&_S(t,KS(t),e)};var ZS=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},QS=Object.prototype.hasOwnProperty;var JS=function(e){if(!OC(e))return ZS(e);var t=$S(e),n=[];for(var r in e)("constructor"!=r||!t&&QS.call(e,r))&&n.push(r);return n};var eA=function(e){return YS(e)?HS(e,!0):JS(e)};var tA=function(e,t){return e&&_S(t,eA(t),e)},nA=lm((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?bC.Buffer:void 0,a=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}));var rA=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var iA=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var aA=function(){return[]},oA=Object.prototype.propertyIsEnumerable,sA=Object.getOwnPropertySymbols,cA=sA?function(e){return null==e?[]:(e=Object(e),iA(sA(e),(function(t){return oA.call(e,t)})))}:aA;var lA=function(e,t){return _S(e,cA(e),t)};var dA=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},uA=US(Object.getPrototypeOf,Object),pA=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)dA(t,cA(e)),e=uA(e);return t}:aA;var hA=function(e,t){return _S(e,pA(e),t)};var fA=function(e,t,n){var r=t(e);return TS(e)?r:dA(r,n(e))};var mA=function(e){return fA(e,KS,cA)};var gA=function(e){return fA(e,eA,pA)},vA=GC(bC,"DataView"),yA=GC(bC,"Promise"),bA=GC(bC,"Set"),_A=GC(bC,"WeakMap"),xA=MC(vA),wA=MC(qC),kA=MC(yA),EA=MC(bA),CA=MC(_A),SA=IC;(vA&&"[object DataView]"!=SA(new vA(new ArrayBuffer(1)))||qC&&"[object Map]"!=SA(new qC)||yA&&"[object Promise]"!=SA(yA.resolve())||bA&&"[object Set]"!=SA(new bA)||_A&&"[object WeakMap]"!=SA(new _A))&&(SA=function(e){var t=IC(e),n="[object Object]"==t?e.constructor:void 0,r=n?MC(n):"";if(r)switch(r){case xA:return"[object DataView]";case wA:return"[object Map]";case kA:return"[object Promise]";case EA:return"[object Set]";case CA:return"[object WeakMap]"}return t});var AA=SA,TA=Object.prototype.hasOwnProperty;var IA=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&TA.call(e,"index")&&(n.index=e.index,n.input=e.input),n},OA=bC.Uint8Array;var RA=function(e){var t=new e.constructor(e.byteLength);return new OA(t).set(new OA(e)),t};var DA=function(e,t){var n=t?RA(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},PA=/\w*$/;var LA=function(e){var t=new e.constructor(e.source,PA.exec(e));return t.lastIndex=e.lastIndex,t},NA=_C?_C.prototype:void 0,MA=NA?NA.valueOf:void 0;var FA=function(e){return MA?Object(MA.call(e)):{}};var zA=function(e,t){var n=t?RA(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var BA=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return RA(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return DA(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return zA(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return LA(e);case"[object Set]":return new r;case"[object Symbol]":return FA(e)}},jA=Object.create,HA=function(){function e(){}return function(t){if(!OC(t))return{};if(jA)return jA(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var VA=function(e){return"function"!=typeof e.constructor||$S(e)?{}:HA(uA(e))};var $A=function(e){return wS(e)&&"[object Map]"==AA(e)},UA=FS&&FS.isMap,GA=UA?MS(UA):$A;var qA=function(e){return wS(e)&&"[object Set]"==AA(e)},XA=FS&&FS.isSet,YA=XA?MS(XA):qA,KA={};KA["[object Arguments]"]=KA["[object Array]"]=KA["[object ArrayBuffer]"]=KA["[object DataView]"]=KA["[object Boolean]"]=KA["[object Date]"]=KA["[object Float32Array]"]=KA["[object Float64Array]"]=KA["[object Int8Array]"]=KA["[object Int16Array]"]=KA["[object Int32Array]"]=KA["[object Map]"]=KA["[object Number]"]=KA["[object Object]"]=KA["[object RegExp]"]=KA["[object Set]"]=KA["[object String]"]=KA["[object Symbol]"]=KA["[object Uint8Array]"]=KA["[object Uint8ClampedArray]"]=KA["[object Uint16Array]"]=KA["[object Uint32Array]"]=!0,KA["[object Error]"]=KA["[object Function]"]=KA["[object WeakMap]"]=!1;var WA=function e(t,n,r,i,a,o){var s,c=1&n,l=2&n,d=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!OC(t))return t;var u=TS(t);if(u){if(s=IA(t),!c)return rA(t,s)}else{var p=AA(t),h="[object Function]"==p||"[object GeneratorFunction]"==p;if(OS(t))return nA(t,c);if("[object Object]"==p||"[object Arguments]"==p||h&&!a){if(s=l||h?{}:VA(t),!c)return l?hA(t,tA(s,t)):lA(t,WS(s,t))}else{if(!KA[p])return a?t:{};s=BA(t,p,c)}}o||(o=new fS);var f=o.get(t);if(f)return f;o.set(t,s),YA(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,o))})):GA(t)&&t.forEach((function(i,a){s.set(a,e(i,n,r,a,t,o))}));var m=u?void 0:(d?l?gA:mA:l?eA:KS)(t);return mS(m||t,(function(i,a){m&&(i=t[a=i]),bS(s,a,e(i,n,r,a,t,o))})),s};var ZA=function(e){return WA(e,4)};var QA=function(e){return function(){return e}};var JA=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var c=o[e?s:++i];if(!1===n(a[c],c,a))break}return t}}();var eT=function(e,t){return e&&JA(e,t,KS)};var tT=function(e,t){return function(n,r){if(null==n)return n;if(!YS(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}(eT);var nT=function(e){return e};var rT=function(e){return"function"==typeof e?e:nT};var iT=function(e,t){return(TS(e)?mS:tT)(e,rT(t))},aT=iT;var oT=function(e,t){var n=[];return tT(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};var sT=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var cT=function(e){return this.__data__.has(e)};function lT(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new uS;++t<n;)this.add(e[t])}lT.prototype.add=lT.prototype.push=sT,lT.prototype.has=cT;var dT=lT;var uT=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var pT=function(e,t){return e.has(t)};var hT=function(e,t,n,r,i,a){var o=1&n,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(e),d=a.get(t);if(l&&d)return l==t&&d==e;var u=-1,p=!0,h=2&n?new dT:void 0;for(a.set(e,t),a.set(t,e);++u<s;){var f=e[u],m=t[u];if(r)var g=o?r(m,f,u,t,e,a):r(f,m,u,e,t,a);if(void 0!==g){if(g)continue;p=!1;break}if(h){if(!uT(t,(function(e,t){if(!pT(h,t)&&(f===e||i(f,e,n,r,a)))return h.push(t)}))){p=!1;break}}else if(f!==m&&!i(f,m,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p};var fT=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var mT=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},gT=_C?_C.prototype:void 0,vT=gT?gT.valueOf:void 0;var yT=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new OA(e),new OA(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return iC(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=fT;case"[object Set]":var c=1&r;if(s||(s=mT),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var d=hT(s(e),s(t),r,i,a,o);return o.delete(e),d;case"[object Symbol]":if(vT)return vT.call(e)==vT.call(t)}return!1},bT=Object.prototype.hasOwnProperty;var _T=function(e,t,n,r,i,a){var o=1&n,s=mA(e),c=s.length;if(c!=mA(t).length&&!o)return!1;for(var l=c;l--;){var d=s[l];if(!(o?d in t:bT.call(t,d)))return!1}var u=a.get(e),p=a.get(t);if(u&&p)return u==t&&p==e;var h=!0;a.set(e,t),a.set(t,e);for(var f=o;++l<c;){var m=e[d=s[l]],g=t[d];if(r)var v=o?r(g,m,d,t,e,a):r(m,g,d,e,t,a);if(!(void 0===v?m===g||i(m,g,n,r,a):v)){h=!1;break}f||(f="constructor"==d)}if(h&&!f){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return a.delete(e),a.delete(t),h},xT=Object.prototype.hasOwnProperty;var wT=function(e,t,n,r,i,a){var o=TS(e),s=TS(t),c=o?"[object Array]":AA(e),l=s?"[object Array]":AA(t),d="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),u="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),p=c==l;if(p&&OS(e)){if(!OS(t))return!1;o=!0,d=!1}if(p&&!d)return a||(a=new fS),o||BS(e)?hT(e,t,n,r,i,a):yT(e,t,c,n,r,i,a);if(!(1&n)){var h=d&&xT.call(e,"__wrapped__"),f=u&&xT.call(t,"__wrapped__");if(h||f){var m=h?e.value():e,g=f?t.value():t;return a||(a=new fS),i(m,g,n,r,a)}}return!!p&&(a||(a=new fS),_T(e,t,n,r,i,a))};var kT=function e(t,n,r,i,a){return t===n||(null==t||null==n||!wS(t)&&!wS(n)?t!=t&&n!=n:wT(t,n,r,i,e,a))};var ET=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var c=(s=n[i])[0],l=e[c],d=s[1];if(o&&s[2]){if(void 0===l&&!(c in e))return!1}else{var u=new fS;if(r)var p=r(l,d,c,e,t,u);if(!(void 0===p?kT(d,l,3,r,u):p))return!1}}return!0};var CT=function(e){return e==e&&!OC(e)};var ST=function(e){for(var t=KS(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,CT(i)]}return t};var AT=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var TT=function(e){var t=ST(e);return 1==t.length&&t[0][2]?AT(t[0][0],t[0][1]):function(n){return n===e||ET(n,e,t)}};var IT=function(e){return"symbol"==typeof e||wS(e)&&"[object Symbol]"==IC(e)},OT=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,RT=/^\w*$/;var DT=function(e,t){if(TS(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!IT(e))||(RT.test(e)||!OT.test(e)||null!=t&&e in Object(t))};function PT(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(PT.Cache||uS),n}PT.Cache=uS;var LT=PT;var NT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,MT=/\\(\\)?/g,FT=function(e){var t=LT(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(NT,(function(e,n,r,i){t.push(r?i.replace(MT,"$1"):n||e)})),t}));var zT=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},BT=_C?_C.prototype:void 0,jT=BT?BT.toString:void 0;var HT=function e(t){if("string"==typeof t)return t;if(TS(t))return zT(t,e)+"";if(IT(t))return jT?jT.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var VT=function(e){return null==e?"":HT(e)};var $T=function(e,t){return TS(e)?e:DT(e,t)?[e]:FT(VT(e))};var UT=function(e){if("string"==typeof e||IT(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var GT=function(e,t){for(var n=0,r=(t=$T(t,e)).length;null!=e&&n<r;)e=e[UT(t[n++])];return n&&n==r?e:void 0};var qT=function(e,t,n){var r=null==e?void 0:GT(e,t);return void 0===r?n:r};var XT=function(e,t){return null!=e&&t in Object(e)};var YT=function(e,t,n){for(var r=-1,i=(t=$T(t,e)).length,a=!1;++r<i;){var o=UT(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&PS(i)&&DS(o,i)&&(TS(e)||AS(e))};var KT=function(e,t){return null!=e&&YT(e,t,XT)};var WT=function(e,t){return DT(e)&&CT(t)?AT(UT(e),t):function(n){var r=qT(n,e);return void 0===r&&r===t?KT(n,e):kT(t,r,3)}};var ZT=function(e){return function(t){return null==t?void 0:t[e]}};var QT=function(e){return function(t){return GT(t,e)}};var JT=function(e){return DT(e)?ZT(UT(e)):QT(e)};var eI=function(e){return"function"==typeof e?e:null==e?nT:"object"==typeof e?TS(e)?WT(e[0],e[1]):TT(e):JT(e)};var tI=function(e,t){return(TS(e)?iA:oT)(e,eI(t))},nI=Object.prototype.hasOwnProperty;var rI=function(e,t){return null!=e&&nI.call(e,t)};var iI=function(e,t){return null!=e&&YT(e,t,rI)},aI=Object.prototype.hasOwnProperty;var oI=function(e){if(null==e)return!0;if(YS(e)&&(TS(e)||"string"==typeof e||"function"==typeof e.splice||OS(e)||BS(e)||AS(e)))return!e.length;var t=AA(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if($S(e))return!XS(e).length;for(var n in e)if(aI.call(e,n))return!1;return!0};var sI=function(e){return void 0===e};var cI=function(e,t){var n=-1,r=YS(e)?Array(e.length):[];return tT(e,(function(e,i,a){r[++n]=t(e,i,a)})),r};var lI=function(e,t){return(TS(e)?zT:cI)(e,eI(t))};var dI=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n};var uI=function(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n};var pI=function(e,t,n){var r=TS(e)?dI:uI,i=arguments.length<3;return r(e,eI(t),n,i,tT)};var hI=function(e){return"string"==typeof e||!TS(e)&&wS(e)&&"[object String]"==IC(e)},fI=ZT("length"),mI=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var gI=function(e){return mI.test(e)},vI="[\\ud800-\\udfff]",yI="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",bI="\\ud83c[\\udffb-\\udfff]",_I="[^\\ud800-\\udfff]",xI="(?:\\ud83c[\\udde6-\\uddff]){2}",wI="[\\ud800-\\udbff][\\udc00-\\udfff]",kI="(?:"+yI+"|"+bI+")"+"?",EI="[\\ufe0e\\ufe0f]?"+kI+("(?:\\u200d(?:"+[_I,xI,wI].join("|")+")[\\ufe0e\\ufe0f]?"+kI+")*"),CI="(?:"+[_I+yI+"?",yI,xI,wI,vI].join("|")+")",SI=RegExp(bI+"(?="+bI+")|"+CI+EI,"g");var AI=function(e){for(var t=SI.lastIndex=0;SI.test(e);)++t;return t};var TI=function(e){return gI(e)?AI(e):fI(e)};var II=function(e){if(null==e)return 0;if(YS(e))return hI(e)?TI(e):e.length;var t=AA(e);return"[object Map]"==t||"[object Set]"==t?e.size:XS(e).length};var OI=function(e,t,n){var r=TS(e),i=r||OS(e)||BS(e);if(t=eI(t),null==n){var a=e&&e.constructor;n=i?r?new a:[]:OC(e)&&RC(a)?HA(uA(e)):{}}return(i?mS:eT)(e,(function(e,r,i){return t(n,e,r,i)})),n},RI=_C?_C.isConcatSpreadable:void 0;var DI=function(e){return TS(e)||AS(e)||!!(RI&&e&&e[RI])};var PI=function e(t,n,r,i,a){var o=-1,s=t.length;for(r||(r=DI),a||(a=[]);++o<s;){var c=t[o];n>0&&r(c)?n>1?e(c,n-1,r,i,a):dA(a,c):i||(a[a.length]=c)}return a};var LI=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},NI=Math.max;var MI=function(e,t,n){return t=NI(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=NI(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),LI(e,this,s)}},FI=gS?function(e,t){return gS(e,"toString",{configurable:!0,enumerable:!1,value:QA(t),writable:!0})}:nT,zI=Date.now;var BI=function(e){var t=0,n=0;return function(){var r=zI(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(FI);var jI=function(e,t){return BI(MI(e,t,nT),e+"")};var HI=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1};var VI=function(e){return e!=e};var $I=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var UI=function(e,t,n){return t==t?$I(e,t,n):HI(e,VI,n)};var GI=function(e,t){return!!(null==e?0:e.length)&&UI(e,t,0)>-1};var qI=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var XI=function(){},YI=bA&&1/mT(new bA([,-0]))[1]==1/0?function(e){return new bA(e)}:XI;var KI=function(e,t,n){var r=-1,i=GI,a=e.length,o=!0,s=[],c=s;if(n)o=!1,i=qI;else if(a>=200){var l=t?null:YI(e);if(l)return mT(l);o=!1,i=pT,c=new dT}else c=t?[]:s;e:for(;++r<a;){var d=e[r],u=t?t(d):d;if(d=n||0!==d?d:0,o&&u==u){for(var p=c.length;p--;)if(c[p]===u)continue e;t&&c.push(u),s.push(d)}else i(c,u,n)||(c!==s&&c.push(u),s.push(d))}return s};var WI=function(e){return wS(e)&&YS(e)},ZI=jI((function(e){return KI(PI(e,1,WI,!0))}));var QI=function(e,t){return zT(t,(function(t){return e[t]}))};var JI,eO=function(e){return null==e?[]:QI(e,KS(e))};try{JI={clone:ZA,constant:QA,each:aT,filter:tI,has:iI,isArray:TS,isEmpty:oI,isFunction:RC,isUndefined:sI,keys:KS,map:lI,reduce:pI,size:II,transform:OI,union:ZI,values:eO}}catch(e){}JI||(JI=window._);var tO=JI,nO=rO;function rO(e){this._isDirected=!tO.has(e,"directed")||e.directed,this._isMultigraph=!!tO.has(e,"multigraph")&&e.multigraph,this._isCompound=!!tO.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=tO.constant(void 0),this._defaultEdgeLabelFn=tO.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function iO(e,t){e[t]?e[t]++:e[t]=1}function aO(e,t){--e[t]||delete e[t]}function oO(e,t,n,r){var i=""+t,a=""+n;if(!e&&i>a){var o=i;i=a,a=o}return i+""+a+""+(tO.isUndefined(r)?"\0":r)}function sO(e,t,n,r){var i=""+t,a=""+n;if(!e&&i>a){var o=i;i=a,a=o}var s={v:i,w:a};return r&&(s.name=r),s}function cO(e,t){return oO(e,t.v,t.w,t.name)}rO.prototype._nodeCount=0,rO.prototype._edgeCount=0,rO.prototype.isDirected=function(){return this._isDirected},rO.prototype.isMultigraph=function(){return this._isMultigraph},rO.prototype.isCompound=function(){return this._isCompound},rO.prototype.setGraph=function(e){return this._label=e,this},rO.prototype.graph=function(){return this._label},rO.prototype.setDefaultNodeLabel=function(e){return tO.isFunction(e)||(e=tO.constant(e)),this._defaultNodeLabelFn=e,this},rO.prototype.nodeCount=function(){return this._nodeCount},rO.prototype.nodes=function(){return tO.keys(this._nodes)},rO.prototype.sources=function(){var e=this;return tO.filter(this.nodes(),(function(t){return tO.isEmpty(e._in[t])}))},rO.prototype.sinks=function(){var e=this;return tO.filter(this.nodes(),(function(t){return tO.isEmpty(e._out[t])}))},rO.prototype.setNodes=function(e,t){var n=arguments,r=this;return tO.each(e,(function(e){n.length>1?r.setNode(e,t):r.setNode(e)})),this},rO.prototype.setNode=function(e,t){return tO.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},rO.prototype.node=function(e){return this._nodes[e]},rO.prototype.hasNode=function(e){return tO.has(this._nodes,e)},rO.prototype.removeNode=function(e){var t=this;if(tO.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],tO.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),tO.each(tO.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],tO.each(tO.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},rO.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(tO.isUndefined(t))t="\0";else{for(var n=t+="";!tO.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},rO.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},rO.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t}},rO.prototype.children=function(e){if(tO.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return tO.keys(t)}else{if("\0"===e)return this.nodes();if(this.hasNode(e))return[]}},rO.prototype.predecessors=function(e){var t=this._preds[e];if(t)return tO.keys(t)},rO.prototype.successors=function(e){var t=this._sucs[e];if(t)return tO.keys(t)},rO.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return tO.union(t,this.successors(e))},rO.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},rO.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;tO.each(this._nodes,(function(n,r){e(r)&&t.setNode(r,n)})),tO.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var r={};function i(e){var a=n.parent(e);return void 0===a||t.hasNode(a)?(r[e]=a,a):a in r?r[a]:i(a)}return this._isCompound&&tO.each(t.nodes(),(function(e){t.setParent(e,i(e))})),t},rO.prototype.setDefaultEdgeLabel=function(e){return tO.isFunction(e)||(e=tO.constant(e)),this._defaultEdgeLabelFn=e,this},rO.prototype.edgeCount=function(){return this._edgeCount},rO.prototype.edges=function(){return tO.values(this._edgeObjs)},rO.prototype.setPath=function(e,t){var n=this,r=arguments;return tO.reduce(e,(function(e,i){return r.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i})),this},rO.prototype.setEdge=function(){var e,t,n,r,i=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(e=a.v,t=a.w,n=a.name,2===arguments.length&&(r=arguments[1],i=!0)):(e=a,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),e=""+e,t=""+t,tO.isUndefined(n)||(n=""+n);var o=oO(this._isDirected,e,t,n);if(tO.has(this._edgeLabels,o))return i&&(this._edgeLabels[o]=r),this;if(!tO.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[o]=i?r:this._defaultEdgeLabelFn(e,t,n);var s=sO(this._isDirected,e,t,n);return e=s.v,t=s.w,Object.freeze(s),this._edgeObjs[o]=s,iO(this._preds[t],e),iO(this._sucs[e],t),this._in[t][o]=s,this._out[e][o]=s,this._edgeCount++,this},rO.prototype.edge=function(e,t,n){var r=1===arguments.length?cO(this._isDirected,arguments[0]):oO(this._isDirected,e,t,n);return this._edgeLabels[r]},rO.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?cO(this._isDirected,arguments[0]):oO(this._isDirected,e,t,n);return tO.has(this._edgeLabels,r)},rO.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?cO(this._isDirected,arguments[0]):oO(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],aO(this._preds[t],e),aO(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},rO.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=tO.values(n);return t?tO.filter(r,(function(e){return e.v===t})):r}},rO.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=tO.values(n);return t?tO.filter(r,(function(e){return e.w===t})):r}},rO.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))};var lO={Graph:nO,version:"2.1.8"},dO={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:uO(e),edges:pO(e)};tO.isUndefined(e.graph())||(t.value=tO.clone(e.graph()));return t},read:function(e){var t=new nO(e.options).setGraph(e.value);return tO.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),tO.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}};function uO(e){return tO.map(e.nodes(),(function(t){var n=e.node(t),r=e.parent(t),i={v:t};return tO.isUndefined(n)||(i.value=n),tO.isUndefined(r)||(i.parent=r),i}))}function pO(e){return tO.map(e.edges(),(function(t){var n=e.edge(t),r={v:t.v,w:t.w};return tO.isUndefined(t.name)||(r.name=t.name),tO.isUndefined(n)||(r.value=n),r}))}var hO=function(e){var t,n={},r=[];function i(r){tO.has(n,r)||(n[r]=!0,t.push(r),tO.each(e.successors(r),i),tO.each(e.predecessors(r),i))}return tO.each(e.nodes(),(function(e){t=[],i(e),t.length&&r.push(t)})),r};var fO=mO;function mO(){this._arr=[],this._keyIndices={}}mO.prototype.size=function(){return this._arr.length},mO.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},mO.prototype.has=function(e){return tO.has(this._keyIndices,e)},mO.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},mO.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},mO.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!tO.has(n,e)){var r=this._arr,i=r.length;return n[e]=i,r.push({key:e,priority:t}),this._decrease(i),!0}return!1},mO.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},mO.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},mO.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},mO.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},mO.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],a=n[t];n[e]=a,n[t]=i,r[a.key]=e,r[i.key]=t};var gO=function(e,t,n,r){return function(e,t,n,r){var i,a,o={},s=new fO,c=function(e){var t=e.v!==i?e.v:e.w,r=o[t],c=n(e),l=a.distance+c;if(c<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+c);l<r.distance&&(r.distance=l,r.predecessor=i,s.decrease(t,l))};e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;o[e]={distance:n},s.add(e,n)}));for(;s.size()>0&&(i=s.removeMin(),(a=o[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(c);return o}(e,String(t),n||vO,r||function(t){return e.outEdges(t)})},vO=tO.constant(1);var yO=function(e,t,n){return tO.transform(e.nodes(),(function(r,i){r[i]=gO(e,i,t,n)}),{})};var bO=function(e){var t=0,n=[],r={},i=[];function a(o){var s=r[o]={onStack:!0,lowlink:t,index:t++};if(n.push(o),e.successors(o).forEach((function(e){tO.has(r,e)?r[e].onStack&&(s.lowlink=Math.min(s.lowlink,r[e].index)):(a(e),s.lowlink=Math.min(s.lowlink,r[e].lowlink))})),s.lowlink===s.index){var c,l=[];do{c=n.pop(),r[c].onStack=!1,l.push(c)}while(o!==c);i.push(l)}}return e.nodes().forEach((function(e){tO.has(r,e)||a(e)})),i};var _O=function(e){return tO.filter(bO(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))};var xO=function(e,t,n){return function(e,t,n){var r={},i=e.nodes();return i.forEach((function(e){r[e]={},r[e][e]={distance:0},i.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var i=n.v===e?n.w:n.v,a=t(n);r[e][i]={distance:a,predecessor:e}}))})),i.forEach((function(e){var t=r[e];i.forEach((function(n){var a=r[n];i.forEach((function(n){var r=a[e],i=t[n],o=a[n],s=r.distance+i.distance;s<o.distance&&(o.distance=s,o.predecessor=i.predecessor)}))}))})),r}(e,t||wO,n||function(t){return e.outEdges(t)})},wO=tO.constant(1);var kO=EO;function EO(e){var t={},n={},r=[];if(tO.each(e.sinks(),(function i(a){if(tO.has(n,a))throw new CO;tO.has(t,a)||(n[a]=!0,t[a]=!0,tO.each(e.predecessors(a),i),delete n[a],r.push(a))})),tO.size(t)!==e.nodeCount())throw new CO;return r}function CO(){}EO.CycleException=CO,CO.prototype=new Error;var SO=function(e,t,n){tO.isArray(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],a={};return tO.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);AO(e,t,"post"===n,a,r,i)})),i};function AO(e,t,n,r,i,a){tO.has(r,t)||(r[t]=!0,n||a.push(t),tO.each(i(t),(function(t){AO(e,t,n,r,i,a)})),n&&a.push(t))}var TO,IO={Graph:lO.Graph,json:dO,alg:{components:hO,dijkstra:gO,dijkstraAll:yO,findCycles:_O,floydWarshall:xO,isAcyclic:function(e){try{kO(e)}catch(e){if(e instanceof kO.CycleException)return!1;throw e}return!0},postorder:function(e,t){return SO(e,t,"post")},preorder:function(e,t){return SO(e,t,"pre")},prim:function(e,t){var n,r=new nO,i={},a=new fO;function o(e){var r=e.v===n?e.w:e.v,o=a.priority(r);if(void 0!==o){var s=t(e);s<o&&(i[r]=n,a.decrease(r,s))}}if(0===e.nodeCount())return r;tO.each(e.nodes(),(function(e){a.add(e,Number.POSITIVE_INFINITY),r.setNode(e)})),a.decrease(e.nodes()[0],0);var s=!1;for(;a.size()>0;){if(n=a.removeMin(),tO.has(i,n))r.setEdge(n,i[n]);else{if(s)throw new Error("Input graph is not connected: "+e);s=!0}e.nodeEdges(n).forEach(o)}return r},tarjan:bO,topsort:kO},version:lO.version};try{TO=IO}catch(e){}TO||(TO=window.graphlib);var OO=TO;var RO=function(e){return WA(e,5)};var DO=function(e,t,n){if(!OC(n))return!1;var r=typeof t;return!!("number"==r?YS(n)&&DS(t,n.length):"string"==r&&t in n)&&iC(n[t],e)},PO=Object.prototype,LO=PO.hasOwnProperty,NO=jI((function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&DO(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],o=eA(a),s=-1,c=o.length;++s<c;){var l=o[s],d=e[l];(void 0===d||iC(d,PO[l])&&!LO.call(e,l))&&(e[l]=a[l])}return e}));var MO=function(e){return function(t,n,r){var i=Object(t);if(!YS(t)){var a=eI(n);t=KS(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}},FO=/\s/;var zO=function(e){for(var t=e.length;t--&&FO.test(e.charAt(t)););return t},BO=/^\s+/;var jO=function(e){return e?e.slice(0,zO(e)+1).replace(BO,""):e},HO=/^[-+]0x[0-9a-f]+$/i,VO=/^0b[01]+$/i,$O=/^0o[0-7]+$/i,UO=parseInt;var GO=function(e){if("number"==typeof e)return e;if(IT(e))return NaN;if(OC(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=OC(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=jO(e);var n=VO.test(e);return n||$O.test(e)?UO(e.slice(2),n?2:8):HO.test(e)?NaN:+e};var qO=function(e){return e?Infinity===(e=GO(e))||-Infinity===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};var XO=function(e){var t=qO(e),n=t%1;return t==t?n?t-n:t:0},YO=Math.max;var KO=MO((function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:XO(n);return i<0&&(i=YO(r+i,0)),HI(e,eI(t),i)}));var WO=function(e){return(null==e?0:e.length)?PI(e,1):[]};var ZO=function(e,t){return null==e?e:JA(e,rT(t),eA)};var QO=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var JO=function(e,t){var n={};return t=eI(t),eT(e,(function(e,r,i){vS(n,r,t(e,r,i))})),n};var eR=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(null!=o&&(void 0===s?o==o&&!IT(o):n(o,s)))var s=o,c=a}return c};var tR=function(e,t){return e>t};var nR=function(e){return e&&e.length?eR(e,nT,tR):void 0};var rR=function(e,t,n){(void 0!==n&&!iC(e[t],n)||void 0===n&&!(t in e))&&vS(e,t,n)},iR=Function.prototype,aR=Object.prototype,oR=iR.toString,sR=aR.hasOwnProperty,cR=oR.call(Object);var lR=function(e){if(!wS(e)||"[object Object]"!=IC(e))return!1;var t=uA(e);if(null===t)return!0;var n=sR.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&oR.call(n)==cR};var dR=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var uR=function(e){return _S(e,eA(e))};var pR=function(e,t,n,r,i,a,o){var s=dR(e,n),c=dR(t,n),l=o.get(c);if(l)rR(e,n,l);else{var d=a?a(s,c,n+"",e,t,o):void 0,u=void 0===d;if(u){var p=TS(c),h=!p&&OS(c),f=!p&&!h&&BS(c);d=c,p||h||f?TS(s)?d=s:WI(s)?d=rA(s):h?(u=!1,d=nA(c,!0)):f?(u=!1,d=zA(c,!0)):d=[]:lR(c)||AS(c)?(d=s,AS(s)?d=uR(s):OC(s)&&!RC(s)||(d=VA(c))):u=!1}u&&(o.set(c,d),i(d,c,r,a,o),o.delete(c)),rR(e,n,d)}};var hR=function e(t,n,r,i,a){t!==n&&JA(n,(function(o,s){if(a||(a=new fS),OC(o))pR(t,n,s,r,e,i,a);else{var c=i?i(dR(t,s),o,s+"",t,n,a):void 0;void 0===c&&(c=o),rR(t,s,c)}}),eA)};var fR=function(e){return jI((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&DO(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t}))}((function(e,t,n){hR(e,t,n)}));var mR=function(e,t){return e<t};var gR=function(e){return e&&e.length?eR(e,nT,mR):void 0};var vR=function(e,t){return e&&e.length?eR(e,eI(t),mR):void 0},yR=function(){return bC.Date.now()};var bR=function(e,t,n,r){if(!OC(e))return e;for(var i=-1,a=(t=$T(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var c=UT(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=o){var d=s[c];void 0===(l=r?r(d,c,s):void 0)&&(l=OC(d)?d:DS(t[i+1])?[]:{})}bS(s,c,l),s=s[c]}return e};var _R=function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=GT(e,o);n(s,o)&&bR(a,$T(o,e),s)}return a};var xR=function(e,t){return _R(e,t,(function(t,n){return KT(e,n)}))};var wR=function(e){return BI(MI(e,void 0,WO),e+"")}((function(e,t){return null==e?{}:xR(e,t)})),kR=Math.ceil,ER=Math.max;var CR=function(e,t,n,r){for(var i=-1,a=ER(kR((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o};var SR=function(e){return function(t,n,r){return r&&"number"!=typeof r&&DO(t,n,r)&&(n=r=void 0),t=qO(t),void 0===n?(n=t,t=0):n=qO(n),r=void 0===r?t<n?1:-1:qO(r),CR(t,n,r,e)}}();var AR=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e};var TR=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,a=IT(e),o=void 0!==t,s=null===t,c=t==t,l=IT(t);if(!s&&!l&&!a&&e>t||a&&o&&c&&!s&&!l||r&&o&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!c)return-1}return 0};var IR=function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var c=TR(i[r],a[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index};var OR=function(e,t,n){t=t.length?zT(t,(function(e){return TS(e)?function(t){return GT(t,1===e.length?e[0]:e)}:e})):[nT];var r=-1;t=zT(t,MS(eI));var i=cI(e,(function(e,n,i){return{criteria:zT(t,(function(t){return t(e)})),index:++r,value:e}}));return AR(i,(function(e,t){return IR(e,t,n)}))},RR=jI((function(e,t){if(null==e)return[];var n=t.length;return n>1&&DO(e,t[0],t[1])?t=[]:n>2&&DO(t[0],t[1],t[2])&&(t=[t[0]]),OR(e,PI(t,1),[])})),DR=0;var PR=function(e){var t=++DR;return VT(e)+t};var LR=function(e,t,n){for(var r=-1,i=e.length,a=t.length,o={};++r<i;){var s=r<a?t[r]:void 0;n(o,e[r],s)}return o};var NR,MR=function(e,t){return LR(e||[],t||[],bS)};try{NR={cloneDeep:RO,constant:QA,defaults:NO,each:aT,filter:tI,find:KO,flatten:WO,forEach:iT,forIn:ZO,has:iI,isUndefined:sI,last:QO,map:lI,mapValues:JO,max:nR,merge:fR,min:gR,minBy:vR,now:yR,pick:wR,range:SR,reduce:pI,sortBy:RR,uniqueId:PR,values:eO,zipObject:MR}}catch(e){}NR||(NR=window._);var FR=NR,zR=BR;function BR(){var e={};e._next=e._prev=e,this._sentinel=e}function jR(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function HR(e,t){if("_next"!==e&&"_prev"!==e)return t}BR.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return jR(t),t},BR.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&jR(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},BR.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,HR)),n=n._prev;return"["+e.join(", ")+"]"};var VR=OO.Graph,$R=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new VR,r=0,i=0;FR.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),FR.forEach(e.edges(),(function(e){var a=n.edge(e.v,e.w)||0,o=t(e),s=a+o;n.setEdge(e.v,e.w,s),i=Math.max(i,n.node(e.v).out+=o),r=Math.max(r,n.node(e.w).in+=o)}));var a=FR.range(i+r+3).map((function(){return new zR})),o=r+1;return FR.forEach(n.nodes(),(function(e){qR(a,o,n.node(e))})),{graph:n,buckets:a,zeroIdx:o}}(e,t||UR),r=function(e,t,n){var r,i=[],a=t[t.length-1],o=t[0];for(;e.nodeCount();){for(;r=o.dequeue();)GR(e,t,n,r);for(;r=a.dequeue();)GR(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){i=i.concat(GR(e,t,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return FR.flatten(FR.map(r,(function(t){return e.outEdges(t.v,t.w)})),!0)},UR=FR.constant(1);function GR(e,t,n,r,i){var a=i?[]:void 0;return FR.forEach(e.inEdges(r.v),(function(r){var o=e.edge(r),s=e.node(r.v);i&&a.push({v:r.v,w:r.w}),s.out-=o,qR(t,n,s)})),FR.forEach(e.outEdges(r.v),(function(r){var i=e.edge(r),a=r.w,o=e.node(a);o.in-=i,qR(t,n,o)})),e.removeNode(r.v),a}function qR(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var XR={run:function(e){var t="greedy"===e.graph().acyclicer?$R(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},r={};function i(a){FR.has(r,a)||(r[a]=!0,n[a]=!0,FR.forEach(e.outEdges(a),(function(e){FR.has(n,e.w)?t.push(e):i(e.w)})),delete n[a])}return FR.forEach(e.nodes(),i),t}(e);FR.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,FR.uniqueId("rev"))}))},undo:function(e){FR.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))}};var YR=OO.Graph,KR={addDummyNode:WR,simplify:function(e){var t=(new YR).setGraph(e.graph());return FR.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),FR.forEach(e.edges(),(function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),t},asNonCompoundGraph:function(e){var t=new YR({multigraph:e.isMultigraph()}).setGraph(e.graph());return FR.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),FR.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=FR.map(e.nodes(),(function(t){var n={};return FR.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return FR.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=FR.map(e.nodes(),(function(t){var n={};return FR.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return FR.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,i=e.x,a=e.y,o=t.x-i,s=t.y-a,c=e.width/2,l=e.height/2;if(!o&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*c>Math.abs(o)*l?(s<0&&(l=-l),n=l*o/s,r=l):(o<0&&(c=-c),n=c,r=c*s/o);return{x:i+n,y:a+r}},buildLayerMatrix:function(e){var t=FR.map(FR.range(ZR(e)+1),(function(){return[]}));return FR.forEach(e.nodes(),(function(n){var r=e.node(n),i=r.rank;FR.isUndefined(i)||(t[i][r.order]=n)})),t},normalizeRanks:function(e){var t=FR.min(FR.map(e.nodes(),(function(t){return e.node(t).rank})));FR.forEach(e.nodes(),(function(n){var r=e.node(n);FR.has(r,"rank")&&(r.rank-=t)}))},removeEmptyRanks:function(e){var t=FR.min(FR.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];FR.forEach(e.nodes(),(function(r){var i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)}));var r=0,i=e.graph().nodeRankFactor;FR.forEach(n,(function(t,n){FR.isUndefined(t)&&n%i!=0?--r:r&&FR.forEach(t,(function(t){e.node(t).rank+=r}))}))},addBorderNode:function(e,t,n,r){var i={width:0,height:0};arguments.length>=4&&(i.rank=n,i.order=r);return WR(e,"border",i,t)},maxRank:ZR,partition:function(e,t){var n={lhs:[],rhs:[]};return FR.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){var n=FR.now();try{return t()}finally{console.log(e+" time: "+(FR.now()-n)+"ms")}},notime:function(e,t){return t()}};function WR(e,t,n,r){var i;do{i=FR.uniqueId(r)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function ZR(e){return FR.max(FR.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!FR.isUndefined(n))return n})))}var QR={run:function(e){e.graph().dummyChains=[],FR.forEach(e.edges(),(function(t){!function(e,t){var n,r,i,a=t.v,o=e.node(a).rank,s=t.w,c=e.node(s).rank,l=t.name,d=e.edge(t),u=d.labelRank;if(c===o+1)return;for(e.removeEdge(t),i=0,++o;o<c;++i,++o)d.points=[],r={width:0,height:0,edgeLabel:d,edgeObj:t,rank:o},n=KR.addDummyNode(e,"edge",r,"_d"),o===u&&(r.width=d.width,r.height=d.height,r.dummy="edge-label",r.labelpos=d.labelpos),e.setEdge(a,n,{weight:d.weight},l),0===i&&e.graph().dummyChains.push(n),a=n;e.setEdge(a,s,{weight:d.weight},l)}(e,t)}))},undo:function(e){FR.forEach(e.graph().dummyChains,(function(t){var n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)}))}};var JR=function(e){var t={};FR.forEach(e.sources(),(function n(r){var i=e.node(r);if(FR.has(t,r))return i.rank;t[r]=!0;var a=FR.min(FR.map(e.outEdges(r),(function(t){return n(t.w)-e.edge(t).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a||(a=0),i.rank=a}))},eD=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen};var tD=OO.Graph,nD=eD,rD=function(e){var t,n,r=new tD({directed:!1}),i=e.nodes()[0],a=e.nodeCount();r.setNode(i,{});for(;iD(r,e)<a;)t=aD(r,e),n=r.hasNode(t.v)?nD(e,t):-nD(e,t),oD(r,e,n);return r};function iD(e,t){return FR.forEach(e.nodes(),(function n(r){FR.forEach(t.nodeEdges(r),(function(i){var a=i.v,o=r===a?i.w:a;e.hasNode(o)||nD(t,i)||(e.setNode(o,{}),e.setEdge(r,o,{}),n(o))}))})),e.nodeCount()}function aD(e,t){return FR.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return nD(t,n)}))}function oD(e,t,n){FR.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}var sD=eD,cD=JR,lD=OO.alg.preorder,dD=OO.alg.postorder,uD=KR.simplify,pD=hD;function hD(e){e=uD(e),cD(e);var t,n=rD(e);for(gD(n),fD(n,e);t=yD(n);)_D(n,e,t,bD(n,e,t))}function fD(e,t){var n=dD(e,e.nodes());n=n.slice(0,n.length-1),FR.forEach(n,(function(n){!function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=mD(e,t,n)}(e,t,n)}))}function mD(e,t,n){var r=e.node(n).parent,i=!0,a=t.edge(n,r),o=0;return a||(i=!1,a=t.edge(r,n)),o=a.weight,FR.forEach(t.nodeEdges(n),(function(a){var s=a.v===n,c=s?a.w:a.v;if(c!==r){var l=s===i,d=t.edge(a).weight;if(o+=l?d:-d,function(e,t,n){return e.hasEdge(t,n)}(e,n,c)){var u=e.edge(n,c).cutvalue;o+=l?-u:u}}})),o}function gD(e,t){arguments.length<2&&(t=e.nodes()[0]),vD(e,{},1,t)}function vD(e,t,n,r,i){var a=n,o=e.node(r);return t[r]=!0,FR.forEach(e.neighbors(r),(function(i){FR.has(t,i)||(n=vD(e,t,n,i,r))})),o.low=a,o.lim=n++,i?o.parent=i:delete o.parent,n}function yD(e){return FR.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function bD(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var a=e.node(r),o=e.node(i),s=a,c=!1;a.lim>o.lim&&(s=o,c=!0);var l=FR.filter(t.edges(),(function(t){return c===xD(e,e.node(t.v),s)&&c!==xD(e,e.node(t.w),s)}));return FR.minBy(l,(function(e){return sD(t,e)}))}function _D(e,t,n,r){var i=n.v,a=n.w;e.removeEdge(i,a),e.setEdge(r.v,r.w,{}),gD(e),fD(e,t),function(e,t){var n=FR.find(e.nodes(),(function(e){return!t.node(e).parent})),r=lD(e,n);r=r.slice(1),FR.forEach(r,(function(n){var r=e.node(n).parent,i=t.edge(n,r),a=!1;i||(i=t.edge(r,n),a=!0),t.node(n).rank=t.node(r).rank+(a?i.minlen:-i.minlen)}))}(e,t)}function xD(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}hD.initLowLimValues=gD,hD.initCutValues=fD,hD.calcCutValue=mD,hD.leaveEdge=yD,hD.enterEdge=bD,hD.exchangeEdges=_D;var wD=JR,kD=function(e){switch(e.graph().ranker){case"network-simplex":CD(e);break;case"tight-tree":!function(e){wD(e),rD(e)}(e);break;case"longest-path":ED(e);break;default:CD(e)}};var ED=wD;function CD(e){pD(e)}var SD=function(e){var t=function(e){var t={},n=0;function r(i){var a=n;FR.forEach(e.children(i),r),t[i]={low:a,lim:n++}}return FR.forEach(e.children(),r),t}(e);FR.forEach(e.graph().dummyChains,(function(n){for(var r=e.node(n),i=r.edgeObj,a=function(e,t,n,r){var i,a,o=[],s=[],c=Math.min(t[n].low,t[r].low),l=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),o.push(i)}while(i&&(t[i].low>c||l>t[i].lim));a=i,i=r;for(;(i=e.parent(i))!==a;)s.push(i);return{path:o.concat(s.reverse()),lca:a}}(e,t,i.v,i.w),o=a.path,s=a.lca,c=0,l=o[c],d=!0;n!==i.w;){if(r=e.node(n),d){for(;(l=o[c])!==s&&e.node(l).maxRank<r.rank;)c++;l===s&&(d=!1)}if(!d){for(;c<o.length-1&&e.node(l=o[c+1]).minRank<=r.rank;)c++;l=o[c]}e.setParent(n,l),n=e.successors(n)[0]}}))};var AD={run:function(e){var t=KR.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(r,i){var a=e.children(r);a&&a.length&&FR.forEach(a,(function(e){n(e,i+1)})),t[r]=i}return FR.forEach(e.children(),(function(e){n(e,1)})),t}(e),r=FR.max(FR.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,FR.forEach(e.edges(),(function(t){e.edge(t).minlen*=i}));var a=function(e){return FR.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;FR.forEach(e.children(),(function(o){TD(e,t,i,a,r,n,o)})),e.graph().nodeRankFactor=i},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,FR.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}};function TD(e,t,n,r,i,a,o){var s=e.children(o);if(s.length){var c=KR.addBorderNode(e,"_bt"),l=KR.addBorderNode(e,"_bb"),d=e.node(o);e.setParent(c,o),d.borderTop=c,e.setParent(l,o),d.borderBottom=l,FR.forEach(s,(function(s){TD(e,t,n,r,i,a,s);var d=e.node(s),u=d.borderTop?d.borderTop:s,p=d.borderBottom?d.borderBottom:s,h=d.borderTop?r:2*r,f=u!==p?1:i-a[o]+1;e.setEdge(c,u,{weight:h,minlen:f,nestingEdge:!0}),e.setEdge(p,l,{weight:h,minlen:f,nestingEdge:!0})})),e.parent(o)||e.setEdge(t,c,{weight:0,minlen:i+a[o]})}else o!==t&&e.setEdge(t,o,{weight:0,minlen:n})}var ID=function(e){FR.forEach(e.children(),(function t(n){var r=e.children(n),i=e.node(n);if(r.length&&FR.forEach(r,t),FR.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,o=i.maxRank+1;a<o;++a)OD(e,"borderLeft","_bl",n,i,a),OD(e,"borderRight","_br",n,i,a)}}))};function OD(e,t,n,r,i,a){var o={width:0,height:0,rank:a,borderType:t},s=i[t][a-1],c=KR.addDummyNode(e,"border",o,n);i[t][a]=c,e.setParent(c,r),s&&e.setEdge(s,c,{weight:1})}var RD={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||DD(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){FR.forEach(e.nodes(),(function(t){LD(e.node(t))})),FR.forEach(e.edges(),(function(t){var n=e.edge(t);FR.forEach(n.points,LD),FR.has(n,"y")&&LD(n)}))}(e);"lr"!==t&&"rl"!==t||(!function(e){FR.forEach(e.nodes(),(function(t){ND(e.node(t))})),FR.forEach(e.edges(),(function(t){var n=e.edge(t);FR.forEach(n.points,ND),FR.has(n,"x")&&ND(n)}))}(e),DD(e))}};function DD(e){FR.forEach(e.nodes(),(function(t){PD(e.node(t))})),FR.forEach(e.edges(),(function(t){PD(e.edge(t))}))}function PD(e){var t=e.width;e.width=e.height,e.height=t}function LD(e){e.y=-e.y}function ND(e){var t=e.x;e.x=e.y,e.y=t}var MD=function(e){var t={},n=FR.filter(e.nodes(),(function(t){return!e.children(t).length})),r=FR.max(FR.map(n,(function(t){return e.node(t).rank}))),i=FR.map(FR.range(r+1),(function(){return[]}));function a(n){if(!FR.has(t,n)){t[n]=!0;var r=e.node(n);i[r.rank].push(n),FR.forEach(e.successors(n),a)}}var o=FR.sortBy(n,(function(t){return e.node(t).rank}));return FR.forEach(o,a),i};var FD=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=zD(e,t[r-1],t[r]);return n};function zD(e,t,n){for(var r=FR.zipObject(n,FR.map(n,(function(e,t){return t}))),i=FR.flatten(FR.map(t,(function(t){return FR.sortBy(FR.map(e.outEdges(t),(function(t){return{pos:r[t.w],weight:e.edge(t).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var o=2*a-1;a-=1;var s=FR.map(new Array(o),(function(){return 0})),c=0;return FR.forEach(i.forEach((function(e){var t=e.pos+a;s[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=s[t+1]),s[t=t-1>>1]+=e.weight;c+=e.weight*n}))),c}var BD=function(e,t){return FR.map(t,(function(t){var n=e.inEdges(t);if(n.length){var r=FR.reduce(n,(function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}}))};var jD=function(e,t){var n={};return FR.forEach(e,(function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};FR.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)})),FR.forEach(t.edges(),(function(e){var t=n[e.v],r=n[e.w];FR.isUndefined(t)||FR.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){t.merged||(FR.isUndefined(t.barycenter)||FR.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function r(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var i=e.pop();t.push(i),FR.forEach(i.in.reverse(),n(i)),FR.forEach(i.out,r(i))}return FR.map(FR.filter(t,(function(e){return!e.merged})),(function(e){return FR.pick(e,["vs","i","barycenter","weight"])}))}(FR.filter(n,(function(e){return!e.indegree})))};var HD=function(e,t){var n=KR.partition(e,(function(e){return FR.has(e,"barycenter")})),r=n.lhs,i=FR.sortBy(n.rhs,(function(e){return-e.i})),a=[],o=0,s=0,c=0;r.sort((l=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:l?t.i-e.i:e.i-t.i})),c=VD(a,i,c),FR.forEach(r,(function(e){c+=e.vs.length,a.push(e.vs),o+=e.barycenter*e.weight,s+=e.weight,c=VD(a,i,c)}));var l;var d={vs:FR.flatten(a,!0)};s&&(d.barycenter=o/s,d.weight=s);return d};function VD(e,t,n){for(var r;t.length&&(r=FR.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}var $D=function e(t,n,r,i){var a=t.children(n),o=t.node(n),s=o?o.borderLeft:void 0,c=o?o.borderRight:void 0,l={};s&&(a=FR.filter(a,(function(e){return e!==s&&e!==c})));var d=BD(t,a);FR.forEach(d,(function(n){if(t.children(n.v).length){var a=e(t,n.v,r,i);l[n.v]=a,FR.has(a,"barycenter")&&(o=n,s=a,FR.isUndefined(o.barycenter)?(o.barycenter=s.barycenter,o.weight=s.weight):(o.barycenter=(o.barycenter*o.weight+s.barycenter*s.weight)/(o.weight+s.weight),o.weight+=s.weight))}var o,s}));var u=jD(d,r);!function(e,t){FR.forEach(e,(function(e){e.vs=FR.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}(u,l);var p=HD(u,i);if(s&&(p.vs=FR.flatten([s,p.vs,c],!0),t.predecessors(s).length)){var h=t.node(t.predecessors(s)[0]),f=t.node(t.predecessors(c)[0]);FR.has(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+h.order+f.order)/(p.weight+2),p.weight+=2}return p};var UD=OO.Graph,GD=function(e,t,n){var r=function(e){var t;for(;e.hasNode(t=FR.uniqueId("_root")););return t}(e),i=new UD({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(t){return e.node(t)}));return FR.forEach(e.nodes(),(function(a){var o=e.node(a),s=e.parent(a);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(i.setNode(a),i.setParent(a,s||r),FR.forEach(e[n](a),(function(t){var n=t.v===a?t.w:t.v,r=i.edge(n,a),o=FR.isUndefined(r)?0:r.weight;i.setEdge(n,a,{weight:e.edge(t).weight+o})})),FR.has(o,"minRank")&&i.setNode(a,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))})),i};var qD=function(e,t,n){var r,i={};FR.forEach(n,(function(n){for(var a,o,s=e.parent(n);s;){if((a=e.parent(s))?(o=i[a],i[a]=s):(o=r,r=s),o&&o!==s)return void t.setEdge(o,s);s=a}}))};var XD=OO.Graph,YD=function(e){var t=KR.maxRank(e),n=KD(e,FR.range(1,t+1),"inEdges"),r=KD(e,FR.range(t-1,-1,-1),"outEdges"),i=MD(e);ZD(e,i);for(var a,o=Number.POSITIVE_INFINITY,s=0,c=0;c<4;++s,++c){WD(s%2?n:r,s%4>=2),i=KR.buildLayerMatrix(e);var l=FD(e,i);l<o&&(c=0,a=FR.cloneDeep(i),o=l)}ZD(e,a)};function KD(e,t,n){return FR.map(t,(function(t){return GD(e,t,n)}))}function WD(e,t){var n=new XD;FR.forEach(e,(function(e){var r=e.graph().root,i=$D(e,r,n,t);FR.forEach(i.vs,(function(t,n){e.node(t).order=n})),qD(e,n,i.vs)}))}function ZD(e,t){FR.forEach(t,(function(t){FR.forEach(t,(function(t,n){e.node(t).order=n}))}))}var QD=OO.Graph,JD=function(e){var t,n=KR.buildLayerMatrix(e),r=FR.merge(eP(e,n),tP(e,n)),i={};FR.forEach(["u","d"],(function(a){t="u"===a?n:FR.values(n).reverse(),FR.forEach(["l","r"],(function(n){"r"===n&&(t=FR.map(t,(function(e){return FR.values(e).reverse()})));var o=("u"===a?e.predecessors:e.successors).bind(e),s=iP(e,t,r,o),c=aP(e,t,s.root,s.align,"r"===n);"r"===n&&(c=FR.mapValues(c,(function(e){return-e}))),i[a+n]=c}))}));var a=oP(e,i);return sP(i,a),cP(i,e.graph().align)};function eP(e,t){var n={};return FR.reduce(t,(function(t,r){var i=0,a=0,o=t.length,s=FR.last(r);return FR.forEach(r,(function(t,c){var l=function(e,t){if(e.node(t).dummy)return FR.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),d=l?e.node(l).order:o;(l||t===s)&&(FR.forEach(r.slice(a,c+1),(function(t){FR.forEach(e.predecessors(t),(function(r){var a=e.node(r),o=a.order;!(o<i||d<o)||a.dummy&&e.node(t).dummy||nP(n,r,t)}))})),a=c+1,i=d)})),r})),n}function tP(e,t){var n={};function r(t,r,i,a,o){var s;FR.forEach(FR.range(r,i),(function(r){s=t[r],e.node(s).dummy&&FR.forEach(e.predecessors(s),(function(t){var r=e.node(t);r.dummy&&(r.order<a||r.order>o)&&nP(n,t,s)}))}))}return FR.reduce(t,(function(t,n){var i,a=-1,o=0;return FR.forEach(n,(function(s,c){if("border"===e.node(s).dummy){var l=e.predecessors(s);l.length&&(i=e.node(l[0]).order,r(n,o,c,a,i),o=c,a=i)}r(n,o,n.length,i,t.length)})),n})),n}function nP(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function rP(e,t,n){if(t>n){var r=t;t=n,n=r}return FR.has(e[t],n)}function iP(e,t,n,r){var i={},a={},o={};return FR.forEach(t,(function(e){FR.forEach(e,(function(e,t){i[e]=e,a[e]=e,o[e]=t}))})),FR.forEach(t,(function(e){var t=-1;FR.forEach(e,(function(e){var s=r(e);if(s.length)for(var c=((s=FR.sortBy(s,(function(e){return o[e]}))).length-1)/2,l=Math.floor(c),d=Math.ceil(c);l<=d;++l){var u=s[l];a[e]===e&&t<o[u]&&!rP(n,e,u)&&(a[u]=e,a[e]=i[e]=i[u],t=o[u])}}))})),{root:i,align:a}}function aP(e,t,n,r,i){var a={},o=function(e,t,n,r){var i=new QD,a=e.graph(),o=function(e,t,n){return function(r,i,a){var o,s=r.node(i),c=r.node(a),l=0;if(l+=s.width/2,FR.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":o=-s.width/2;break;case"r":o=s.width/2}if(o&&(l+=n?o:-o),o=0,l+=(s.dummy?t:e)/2,l+=(c.dummy?t:e)/2,l+=c.width/2,FR.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":o=c.width/2;break;case"r":o=-c.width/2}return o&&(l+=n?o:-o),o=0,l}}(a.nodesep,a.edgesep,r);return FR.forEach(t,(function(t){var r;FR.forEach(t,(function(t){var a=n[t];if(i.setNode(a),r){var s=n[r],c=i.edge(s,a);i.setEdge(s,a,Math.max(o(e,t,r),c||0))}r=t}))})),i}(e,t,n,i),s=i?"borderLeft":"borderRight";function c(e,t){for(var n=o.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return c((function(e){a[e]=o.inEdges(e).reduce((function(e,t){return Math.max(e,a[t.v]+o.edge(t))}),0)}),o.predecessors.bind(o)),c((function(t){var n=o.outEdges(t).reduce((function(e,t){return Math.min(e,a[t.w]-o.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(a[t]=Math.max(a[t],n))}),o.successors.bind(o)),FR.forEach(r,(function(e){a[e]=a[n[e]]})),a}function oP(e,t){return FR.minBy(FR.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return FR.forIn(t,(function(t,i){var a=function(e,t){return e.node(t).width}(e,i)/2;n=Math.max(t+a,n),r=Math.min(t-a,r)})),n-r}))}function sP(e,t){var n=FR.values(t),r=FR.min(n),i=FR.max(n);FR.forEach(["u","d"],(function(n){FR.forEach(["l","r"],(function(a){var o,s=n+a,c=e[s];if(c!==t){var l=FR.values(c);(o="l"===a?r-FR.min(l):i-FR.max(l))&&(e[s]=FR.mapValues(c,(function(e){return e+o})))}}))}))}function cP(e,t){return FR.mapValues(e.ul,(function(n,r){if(t)return e[t.toLowerCase()][r];var i=FR.sortBy(FR.map(e,r));return(i[1]+i[2])/2}))}var lP=JD,dP=function(e){(function(e){var t=KR.buildLayerMatrix(e),n=e.graph().ranksep,r=0;FR.forEach(t,(function(t){var i=FR.max(FR.map(t,(function(t){return e.node(t).height})));FR.forEach(t,(function(t){e.node(t).y=r+i/2})),r+=i+n}))})(e=KR.asNonCompoundGraph(e)),FR.forEach(lP(e),(function(t,n){e.node(n).x=t}))};var uP=KR.normalizeRanks,pP=KR.removeEmptyRanks,hP=KR,fP=OO.Graph,mP=function(e,t){var n=t&&t.debugTiming?hP.time:hP.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t=new fP({multigraph:!0,compound:!0}),n=CP(e.graph());return t.setGraph(FR.merge({},vP,EP(n,gP),FR.pick(n,yP))),FR.forEach(e.nodes(),(function(n){var r=CP(e.node(n));t.setNode(n,FR.defaults(EP(r,bP),_P)),t.setParent(n,e.parent(n))})),FR.forEach(e.edges(),(function(n){var r=CP(e.edge(n));t.setEdge(n,FR.merge({},wP,EP(r,xP),FR.pick(r,kP)))})),t}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,FR.forEach(e.edges(),(function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(e)})),t("    removeSelfEdges",(function(){!function(e){FR.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){XR.run(e)})),t("    nestingGraph.run",(function(){AD.run(e)})),t("    rank",(function(){kD(hP.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){FR.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};hP.addDummyNode(e,"edge-proxy",i,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){pP(e)})),t("    nestingGraph.cleanup",(function(){AD.cleanup(e)})),t("    normalizeRanks",(function(){uP(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;FR.forEach(e.nodes(),(function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=FR.max(t,r.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){FR.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){QR.run(e)})),t("    parentDummyChains",(function(){SD(e)})),t("    addBorderSegments",(function(){ID(e)})),t("    order",(function(){YD(e)})),t("    insertSelfEdges",(function(){!function(e){var t=hP.buildLayerMatrix(e);FR.forEach(t,(function(t){var n=0;FR.forEach(t,(function(t,r){var i=e.node(t);i.order=r+n,FR.forEach(i.selfEdges,(function(t){hP.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete i.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){RD.adjust(e)})),t("    position",(function(){dP(e)})),t("    positionSelfEdges",(function(){!function(e){FR.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,a=r.y,o=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*o/3,y:a-s},{x:i+5*o/6,y:a-s},{x:i+o,y:a},{x:i+5*o/6,y:a+s},{x:i+2*o/3,y:a+s}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){FR.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),a=e.node(FR.last(n.borderLeft)),o=e.node(FR.last(n.borderRight));n.width=Math.abs(o.x-a.x),n.height=Math.abs(i.y-r.y),n.x=a.x+n.width/2,n.y=r.y+n.height/2}})),FR.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){QR.undo(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){FR.forEach(e.edges(),(function(t){var n=e.edge(t);if(FR.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){RD.undo(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,a=e.graph(),o=a.marginx||0,s=a.marginy||0;function c(e){var a=e.x,o=e.y,s=e.width,c=e.height;t=Math.min(t,a-s/2),n=Math.max(n,a+s/2),r=Math.min(r,o-c/2),i=Math.max(i,o+c/2)}FR.forEach(e.nodes(),(function(t){c(e.node(t))})),FR.forEach(e.edges(),(function(t){var n=e.edge(t);FR.has(n,"x")&&c(n)})),t-=o,r-=s,FR.forEach(e.nodes(),(function(n){var i=e.node(n);i.x-=t,i.y-=r})),FR.forEach(e.edges(),(function(n){var i=e.edge(n);FR.forEach(i.points,(function(e){e.x-=t,e.y-=r})),FR.has(i,"x")&&(i.x-=t),FR.has(i,"y")&&(i.y-=r)})),a.width=n-t+o,a.height=i-r+s}(e)})),t("    assignNodeIntersects",(function(){!function(e){FR.forEach(e.edges(),(function(t){var n,r,i=e.edge(t),a=e.node(t.v),o=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=o,r=a),i.points.unshift(hP.intersectRect(a,n)),i.points.push(hP.intersectRect(o,r))}))}(e)})),t("    reversePoints",(function(){!function(e){FR.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){XR.undo(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){FR.forEach(e.nodes(),(function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))})),FR.forEach(e.edges(),(function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,FR.has(i,"x")&&(r.x=i.x,r.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))};var gP=["nodesep","edgesep","ranksep","marginx","marginy"],vP={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},yP=["acyclicer","ranker","rankdir","align"],bP=["width","height"],_P={width:0,height:0},xP=["minlen","weight","width","height","labeloffset"],wP={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},kP=["labelpos"];function EP(e,t){return FR.mapValues(FR.pick(e,t),Number)}function CP(e){var t={};return FR.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}var SP=OO.Graph;var AP={graphlib:OO,layout:mP,debug:{debugOrdering:function(e){var t=KR.buildLayerMatrix(e),n=new SP({compound:!0,multigraph:!0}).setGraph({});return FR.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),FR.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),FR.forEach(t,(function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),FR.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}},util:{time:KR.time,notime:KR.notime},version:"0.8.5"},TP=lm((function(e,t){var n;n=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r=n(1),i=function(e){e&&e("layout","dagre",r)};"undefined"!=typeof cytoscape&&i(cytoscape),e.exports=i},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(2),a=n(3),o=n(4);function s(e){this.options=a({},i,e)}s.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,i=function(e,t){return"function"==typeof t?t.apply(e,[e]):t},a=e.boundingBox||{x1:0,y1:0,w:t.width(),h:t.height()};void 0===a.x2&&(a.x2=a.x1+a.w),void 0===a.w&&(a.w=a.x2-a.x1),void 0===a.y2&&(a.y2=a.y1+a.h),void 0===a.h&&(a.h=a.y2-a.y1);var s=new o.graphlib.Graph({multigraph:!0,compound:!0}),c={},l=function(e,t){null!=t&&(c[e]=t)};l("nodesep",e.nodeSep),l("edgesep",e.edgeSep),l("ranksep",e.rankSep),l("rankdir",e.rankDir),l("ranker",e.ranker),s.setGraph(c),s.setDefaultEdgeLabel((function(){return{}})),s.setDefaultNodeLabel((function(){return{}}));for(var d=n.nodes(),u=0;u<d.length;u++){var p=d[u],h=p.layoutDimensions(e);s.setNode(p.id(),{width:h.w,height:h.h,name:p.id()})}for(var f=0;f<d.length;f++){var m=d[f];m.isChild()&&s.setParent(m.id(),m.parent().id())}for(var g=n.edges().stdFilter((function(e){return!e.source().isParent()&&!e.target().isParent()})),v=0;v<g.length;v++){var y=g[v];s.setEdge(y.source().id(),y.target().id(),{minlen:i(y,e.minLen),weight:i(y,e.edgeWeight),name:y.id()},y.id())}o.layout(s);for(var b,_=s.nodes(),x=0;x<_.length;x++){var w=_[x],k=s.node(w);t.getElementById(w).scratch().dagre=k}return e.boundingBox?(b={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},d.forEach((function(e){var t=e.scratch().dagre;b.x1=Math.min(b.x1,t.x),b.x2=Math.max(b.x2,t.x),b.y1=Math.min(b.y1,t.y),b.y2=Math.max(b.y2,t.y)})),b.w=b.x2-b.x1,b.h=b.y2-b.y1):b=a,d.layoutPositions(this,e,(function(t){var n=(t="object"===r(t)?t:this).scratch().dagre;return function(t){if(e.boundingBox){var n=0===b.w?0:(t.x-b.x1)/b.w,r=0===b.h?0:(t.y-b.y1)/b.h;return{x:a.x1+n*a.w,y:a.y1+r*a.h}}return t}({x:n.x,y:n.y})})),this},e.exports=s},function(e,t){var n={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,ranker:void 0,minLen:function(e){return 1},edgeWeight:function(e){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(e,t){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(e,t){return t},ready:function(){},stop:function(){}};e.exports=n},function(e,t){e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach((function(t){Object.keys(t).forEach((function(n){return e[n]=t[n]}))})),e}},function(t,n){t.exports=e}])},e.exports=n(AP)}));CE.use(TP);class IP extends zf{constructor(){super(...arguments),this.nodes=[]}static get styles(){return[Bf,c(Tf||(Tf=Pf`
        :host {
          display: flex;
        }
        #source-chain-graph {
          width: 100%;
          height: 100%;
        }
      `))]}get activeCell(){return Vf(this.activeDna,this.activeAgentPubKey,this.conductors)}firstUpdated(){window.addEventListener("scroll",(()=>{this.cy.resize()})),this.cy=CE({container:this.graph,layout:{name:"dagre"},autoungrabify:!0,userZoomingEnabled:!0,userPanningEnabled:!0,style:"\n        node {\n          width: 30px;\n          height: 30px;\n          font-size: 10px;\n          label: data(label);\n          background-color: grey;\n          text-halign: right;\n          text-valign: center;\n          text-margin-x: 4px;\n        }\n\n        .header {\n          text-margin-x: -5px;\n          text-halign: left;\n          shape: round-rectangle;\n        }\n\n        edge {\n          width: 4;\n          target-arrow-shape: triangle;\n          curve-style: bezier;\n          line-style: dotted;\n        }\n\n        .selected {\n          border-width: 4px;\n          border-color: black;\n          border-style: solid;\n        }\n\n        .Dna {\n          background-color: green;\n        }\n        .AgentValidationPkg {\n          background-color: lime;\n        }\n        .Create {\n          background-color: blue;\n        }\n        .Delete {\n          background-color: red;\n        }\n        .Update {\n          background-color: cyan;\n        }\n        .CreateLink {\n          background-color: purple;\n        }\n        .DeleteLink {\n          background-color: purple;\n        }\n      "}),this.cy.on("tap","node",(e=>{let t=e.target.id();t.includes(":")&&(t=t.split(":")[1]),this.updatePlayground({activeHash:t})}));let e=!1;this.cy.on("render",(()=>{0!==this.cy.width()&&(e||(e=!0,setTimeout((()=>{this.setupGraph()}))))})),this.requestUpdate()}observedCells(){return[this.activeCell]}setupGraph(){this.cy.remove("node"),this.cy.add(this.nodes);const e=this.nodes.slice(0,7);this.cy.fit(e),this.cy.center(e),this.cy.resize(),this.cy.layout({name:"dagre"}).run()}updated(e){super.updated(e);const t=function(e){if(!e)return[];const t=[],n=e.getState(),r=n.sourceChain;for(const e of r){const r=n.CAS[e];if(t.push({data:{id:e,data:r,label:r.header.content.type},classes:["header",r.header.content.type]}),r.header.content.prev_header){const n=r.header.content.prev_header;t.push({data:{id:`${e}->${n}`,source:e,target:n}})}}for(const i of r){const r=i,a=n.CAS[r];if(a.header.content.entry_hash){const i=a.header.content,o=i.entry_hash,s=`${r}:${o}`,c=n.CAS[o],l=_a(e,i.entry_type);t.push({data:{id:s,data:c,label:l},classes:[l]}),t.push({data:{id:`${r}->${s}`,source:r,target:s}})}}return t}(this.activeCell);if(si(t,this.nodes)||(this.nodes=t,this.setupGraph()),e.has("activeHash")){this.cy.filter("node").removeClass("selected");const e=this.cy.nodes();for(const t of e){const e=t.id();(e===this.activeHash||e.includes(`:${this.activeHash}`))&&t.addClass("selected")}}}renderHelp(){return l(If||(If=Pf` <holochain-playground-help-button
      heading="Source-Chain"
      class="block-help"
    >
      <span>
        This graph displays the source chain of the selected cell. On the
        top-left sequence, you can see the hash-chain of headers. On the
        bottom-right sequence, you can see the entries associated with each
        header. Links between headers
        <br />
        <br />
        Dashed relationships are embedded references: the headers contain the
        hash of the last header, and also the entry hash if they have an entry.
      </span>
    </holochain-playground-help-button>`))}render(){return l(Of||(Of=Pf`
      <mwc-card class="block-card">
        <div class="column fill">
          <span class="block-title" style="margin: 16px;">Source chain</span>
          ${0}
          ${0}

          <div
            style=${0}
            class="fill"
            id="source-chain-graph"
          ></div>
        </div>
      </mwc-card>
    `),this.renderHelp(),this.activeCell?l(Rf||(Rf=Pf``)):l(Df||(Df=Pf`
                <div style="flex: 1;" class="center-content placeholder">
                  <span>Select a cell to display its source chain</span>
                </div>
              `)),O({display:this.activeCell?"":"none"}))}static get scopedElements(){return{"mwc-card":il,"holochain-playground-help-button":AE}}}Lf([b("#source-chain-graph"),Nf("design:type",HTMLElement)],IP.prototype,"graph",void 0);let OP,RP=e=>e;customElements.define("holochain-playground-container",Mf),customElements.define("entry-graph",nC),customElements.define("entry-contents",om),customElements.define("call-zome-fns",rm),customElements.define("dht-cells",OE),customElements.define("source-chain",IP);const DP={zomes:[{name:"resources",entry_defs:[{id:"resource",visibility:"Public"}],zome_functions:{create_resource:{call:e=>async({name:t})=>{const{agent_latest_pubkey:n}=await e.agent_info(),r={owner:n,name:t};await e.create_entry({content:r,entry_def_id:"resource"});const i=await e.hash_entry({content:r});return await e.create_link({base:n,target:i,tag:null}),i},arguments:[{name:"name",type:"String"}]},get_my_resources:{call:e=>async()=>{const{agent_latest_pubkey:t}=await e.agent_info(),n=(await e.get_links(t)).map((t=>e.get(t.target)));return(await Promise.all(n)).map((e=>e.entry.content.name))},arguments:[]}}},{name:"chain_of_custody",entry_defs:[{id:"transfer",visibility:"Public"}],zome_functions:{transfer_resource:{call:e=>async({resource_hash:t,last_transfer_header_hash:n,transfer_to:r})=>{const{agent_latest_pubkey:i}=await e.agent_info();if(i===r)throw new Error("You cannot transfer a resource to yourself");if(n){const t=await e.get(n);if(!t.entry.content.resource_hash)throw new Error("Given last_transfer_header_hash does not correspond to a transfer");if(t.signed_header.header.hash!==n)throw new Error("The last_transfer_header_hash must be the header hash, not the entry one");if(t.entry.content.transfer_to!==i)throw new Error("You are not holding this resource")}else{const n=await e.get(t);if(!n)throw new Error("Could not find resource");if(n.entry.content.owner!==i)throw new Error("You are not the owner of this resource, nor are holding it");if((await e.query()).find((e=>!(!e.signed_header.header.content.entry_hash||!e.entry||e.entry.content.resource_hash!==t))))throw new Error("You don't hold this resource anymore")}if((await e.query()).find((e=>!!(e.signed_header.header.content.entry_hash&&e.entry&&e.entry.content.last_transfer_header_hash&&e.entry.content.last_transfer_header_hash===n))))throw new Error("You don't hold this resource anymore");const a={resource_hash:t,last_transfer_header_hash:n,transfer_from:i,transfer_to:r};if(n)await e.update_entry({original_header_address:n,content:a,entry_def_id:"transfer"});else{await e.create_entry({content:a,entry_def_id:"transfer"});const n=await e.hash_entry({content:a});await e.create_link({base:t,target:n,tag:"First transfer"})}},arguments:[{name:"resource_hash",type:"EntryHash"},{name:"last_transfer_header_hash",type:"Option<HeaderHash>"},{name:"transfer_to",type:"AgentPubKey"}]},get_resource_trace:{call:e=>async({resource_hash:t})=>{const n=await e.get_links(t);if(0===n.length)return[];const r=[];let i=n[0].target;for(;i;){let t=await e.get_details(i);if(!t)throw new Error("Couldn't get a transfer in the chain: try again");r.push({transfer:t.content.entry,headers:t.content.headers}),i=void 0,t.content.updates.length>0&&(i=t.content.updates[0].header.content.entry_hash)}return r},arguments:[{name:"resource_hash",type:"EntryHash"}]}}}]},PP=document,LP=[{key:"Exercise",story:()=>l(OP||(OP=RP`
    <holochain-playground-container
      .numberOfSimulatedConductors=${0}
      .simulatedDnaTemplate=${0}
      @ready=${0}
    >
      <div style="display: flex; flex-direction: row">
        <call-zome-fns
          id="call-zome"
          style="height: 420px; margin-bottom: 20px; margin-right: 20px;"
        >
        </call-zome-fns>
        <entry-contents
          style="height: 420px; flex-basis: 4500px; margin-bottom: 20px;"
        >
        </entry-contents>
      </div>
      <div style="display: flex; flex-direction: row">
        <dht-cells
          style="height: 600px; flex: 1; margin-bottom: 20px; margin-right: 20px;"
        >
        </dht-cells>
        <entry-graph
          .showFilter=${0}
          .showEntryContents=${0}
          style="height: 600px; width: 100%; margin-bottom: 20px;"
        ></entry-graph>
      </div>
    </holochain-playground-container>
  `),3,DP,(e=>{const t=e.detail.conductors[0],n=t.getAllCells()[0].cellId;e.target.activeAgentPubKey=n[1],t.callZomeFn({cellId:n,zome:"resources",fnName:"create_resource",payload:{name:"sample resource"},cap:null})}),!1,!1),code:'<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> sampleZome1 <span class="token operator">=</span> <span class="token punctuation">{</span>\n  name<span class="token punctuation">:</span> <span class="token string">"resources"</span><span class="token punctuation">,</span>\n  entry_defs<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">{</span>\n      id<span class="token punctuation">:</span> <span class="token string">"resource"</span><span class="token punctuation">,</span>\n      visibility<span class="token punctuation">:</span> <span class="token string">"Public"</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  zome_functions<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    create_resource<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n      <span class="token function-variable function">call</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">hdk</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n        <span class="token keyword">const</span> <span class="token punctuation">{</span> agent_latest_pubkey <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> hdk<span class="token punctuation">.</span><span class="token method function property-access">agent_info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">const</span> content <span class="token operator">=</span> <span class="token punctuation">{</span>\n          owner<span class="token punctuation">:</span> agent_latest_pubkey<span class="token punctuation">,</span>\n          name<span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">await</span> hdk<span class="token punctuation">.</span><span class="token method function property-access">create_entry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n          content<span class="token punctuation">,</span>\n          entry_def_id<span class="token punctuation">:</span> <span class="token string">"resource"</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">const</span> resourceHash <span class="token operator">=</span> <span class="token keyword">await</span> hdk<span class="token punctuation">.</span><span class="token method function property-access">hash_entry</span><span class="token punctuation">(</span><span class="token punctuation">{</span> content <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">await</span> hdk<span class="token punctuation">.</span><span class="token method function property-access">create_link</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n          base<span class="token punctuation">:</span> agent_latest_pubkey<span class="token punctuation">,</span>\n          target<span class="token punctuation">:</span> resourceHash<span class="token punctuation">,</span>\n          tag<span class="token punctuation">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">return</span> resourceHash<span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      arguments<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"name"</span><span class="token punctuation">,</span> type<span class="token punctuation">:</span> <span class="token string">"String"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    get_my_resources<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n      <span class="token function-variable function">call</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">hdk</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n        <span class="token keyword">const</span> <span class="token punctuation">{</span> agent_latest_pubkey <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> hdk<span class="token punctuation">.</span><span class="token method function property-access">agent_info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">const</span> links <span class="token operator">=</span> <span class="token keyword">await</span> hdk<span class="token punctuation">.</span><span class="token method function property-access">get_links</span><span class="token punctuation">(</span>agent_latest_pubkey<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">const</span> promises <span class="token operator">=</span> links<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">link</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> hdk<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>link<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">const</span> resources <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token known-class-name class-name">Promise</span><span class="token punctuation">.</span><span class="token method function property-access">all</span><span class="token punctuation">(</span>promises<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">return</span> resources<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resource</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> resource<span class="token punctuation">.</span><span class="token property-access">entry</span><span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      arguments<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> custodyZome <span class="token operator">=</span> <span class="token punctuation">{</span>\n  name<span class="token punctuation">:</span> <span class="token string">"chain_of_custody"</span><span class="token punctuation">,</span>\n  entry_defs<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">{</span>\n      id<span class="token punctuation">:</span> <span class="token string">"transfer"</span><span class="token punctuation">,</span>\n      visibility<span class="token punctuation">:</span> <span class="token string">"Public"</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  zome_functions<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    transfer_resource<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n      <span class="token function-variable function">call</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">hdk</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>\n        resource_hash<span class="token punctuation">,</span>\n        last_transfer_header_hash<span class="token punctuation">,</span>\n        transfer_to<span class="token punctuation">,</span>\n      <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n        <span class="token keyword">const</span> <span class="token punctuation">{</span> agent_latest_pubkey <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> hdk<span class="token punctuation">.</span><span class="token method function property-access">agent_info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>agent_latest_pubkey <span class="token operator">===</span> transfer_to<span class="token punctuation">)</span>\n          <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"You cannot transfer a resource to yourself"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>last_transfer_header_hash<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> hdk<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>resource_hash<span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>element<span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Could not find resource"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span><span class="token property-access">entry</span><span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">owner</span> <span class="token operator">!==</span> agent_latest_pubkey<span class="token punctuation">)</span>\n            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>\n              <span class="token string">"You are not the owner of this resource, nor are holding it"</span>\n            <span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n          <span class="token keyword">const</span> elements2 <span class="token operator">=</span> <span class="token keyword">await</span> hdk<span class="token punctuation">.</span><span class="token method function property-access">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n          <span class="token keyword">const</span> previousTransfer <span class="token operator">=</span> elements2<span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span><span class="token property-access">signed_header</span><span class="token punctuation">.</span><span class="token property-access">header</span><span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">entry_hash</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n              <span class="token keyword">if</span> <span class="token punctuation">(</span>\n                element<span class="token punctuation">.</span><span class="token property-access">entry</span> <span class="token operator">&#x26;&#x26;</span>\n                element<span class="token punctuation">.</span><span class="token property-access">entry</span><span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">resource_hash</span> <span class="token operator">===</span> resource_hash\n              <span class="token punctuation">)</span>\n                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n          <span class="token keyword">if</span> <span class="token punctuation">(</span>previousTransfer<span class="token punctuation">)</span>\n            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"You don\'t hold this resource anymore"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n          <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> hdk<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>last_transfer_header_hash<span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>element<span class="token punctuation">.</span><span class="token property-access">entry</span><span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">resource_hash</span><span class="token punctuation">)</span>\n            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>\n              <span class="token string">"Given last_transfer_header_hash does not correspond to a transfer"</span>\n            <span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n          <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span><span class="token property-access">signed_header</span><span class="token punctuation">.</span><span class="token property-access">header</span><span class="token punctuation">.</span><span class="token property-access">hash</span> <span class="token operator">!==</span> last_transfer_header_hash<span class="token punctuation">)</span>\n            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>\n              <span class="token string">"The last_transfer_header_hash must be the header hash, not the entry one"</span>\n            <span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n          <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span><span class="token property-access">entry</span><span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">transfer_to</span> <span class="token operator">!==</span> agent_latest_pubkey<span class="token punctuation">)</span>\n            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"You are not holding this resource"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n\n        <span class="token keyword">const</span> elements <span class="token operator">=</span> <span class="token keyword">await</span> hdk<span class="token punctuation">.</span><span class="token method function property-access">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">const</span> previousTransfer <span class="token operator">=</span> elements<span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n          <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span><span class="token property-access">signed_header</span><span class="token punctuation">.</span><span class="token property-access">header</span><span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">entry_hash</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span>\n              element<span class="token punctuation">.</span><span class="token property-access">entry</span> <span class="token operator">&#x26;&#x26;</span>\n              element<span class="token punctuation">.</span><span class="token property-access">entry</span><span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">last_transfer_header_hash</span> <span class="token operator">&#x26;&#x26;</span>\n              element<span class="token punctuation">.</span><span class="token property-access">entry</span><span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">last_transfer_header_hash</span> <span class="token operator">===</span>\n                last_transfer_header_hash\n            <span class="token punctuation">)</span>\n              <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span>\n          <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>previousTransfer<span class="token punctuation">)</span>\n          <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"You don\'t hold this resource anymore"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">const</span> content <span class="token operator">=</span> <span class="token punctuation">{</span>\n          resource_hash<span class="token punctuation">,</span>\n          last_transfer_header_hash<span class="token punctuation">,</span>\n          transfer_from<span class="token punctuation">:</span> agent_latest_pubkey<span class="token punctuation">,</span>\n          transfer_to<span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>last_transfer_header_hash<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token keyword">await</span> hdk<span class="token punctuation">.</span><span class="token method function property-access">create_entry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n            content<span class="token punctuation">,</span>\n            entry_def_id<span class="token punctuation">:</span> <span class="token string">"transfer"</span><span class="token punctuation">,</span>\n          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n          <span class="token keyword">const</span> transferHash <span class="token operator">=</span> <span class="token keyword">await</span> hdk<span class="token punctuation">.</span><span class="token method function property-access">hash_entry</span><span class="token punctuation">(</span><span class="token punctuation">{</span> content <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n          <span class="token keyword">await</span> hdk<span class="token punctuation">.</span><span class="token method function property-access">create_link</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n            base<span class="token punctuation">:</span> resource_hash<span class="token punctuation">,</span>\n            target<span class="token punctuation">:</span> transferHash<span class="token punctuation">,</span>\n            tag<span class="token punctuation">:</span> <span class="token string">"First transfer"</span><span class="token punctuation">,</span>\n          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n          <span class="token keyword">await</span> hdk<span class="token punctuation">.</span><span class="token method function property-access">update_entry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n            original_header_address<span class="token punctuation">:</span> last_transfer_header_hash<span class="token punctuation">,</span>\n            content<span class="token punctuation">,</span>\n            entry_def_id<span class="token punctuation">:</span> <span class="token string">"transfer"</span><span class="token punctuation">,</span>\n          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      arguments<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n        <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"resource_hash"</span><span class="token punctuation">,</span> type<span class="token punctuation">:</span> <span class="token string">"EntryHash"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"last_transfer_header_hash"</span><span class="token punctuation">,</span> type<span class="token punctuation">:</span> <span class="token string">"Option&#x3C;HeaderHash>"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"transfer_to"</span><span class="token punctuation">,</span> type<span class="token punctuation">:</span> <span class="token string">"AgentPubKey"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    get_resource_trace<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n      <span class="token function-variable function">call</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">hdk</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> resource_hash <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n        <span class="token keyword">const</span> links <span class="token operator">=</span> <span class="token keyword">await</span> hdk<span class="token punctuation">.</span><span class="token method function property-access">get_links</span><span class="token punctuation">(</span>resource_hash<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>links<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">const</span> transfers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token keyword">let</span> nextTransferHash <span class="token operator">=</span> links<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">while</span> <span class="token punctuation">(</span>nextTransferHash<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token keyword">let</span> transferDetails <span class="token operator">=</span> <span class="token keyword">await</span> hdk<span class="token punctuation">.</span><span class="token method function property-access">get_details</span><span class="token punctuation">(</span>nextTransferHash<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>transferDetails<span class="token punctuation">)</span>\n            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Couldn\'t get a transfer in the chain: try again"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n          transfers<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n            transfer<span class="token punctuation">:</span> transferDetails<span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">entry</span><span class="token punctuation">,</span>\n            headers<span class="token punctuation">:</span> transferDetails<span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">headers</span><span class="token punctuation">,</span>\n          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n          nextTransferHash <span class="token operator">=</span> <span class="token keyword nil">undefined</span><span class="token punctuation">;</span>\n\n          <span class="token keyword">if</span> <span class="token punctuation">(</span>transferDetails<span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">updates</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            nextTransferHash <span class="token operator">=</span>\n              transferDetails<span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">updates</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">header</span><span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">entry_hash</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n\n        <span class="token keyword">return</span> transfers<span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      arguments<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"resource_hash"</span><span class="token punctuation">,</span> type<span class="token punctuation">:</span> <span class="token string">"EntryHash"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> simulatedDnaTemplate1 <span class="token operator">=</span> <span class="token punctuation">{</span>\n  zomes<span class="token punctuation">:</span> <span class="token punctuation">[</span>sampleZome1<span class="token punctuation">,</span> custodyZome<span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Exercise</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token html language-html">\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>holochain-playground-container</span>\n      <span class="token attr-name">.numberOfSimulatedConductors</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">3</span><span class="token interpolation-punctuation punctuation">}</span></span></span>\n      <span class="token attr-name">.simulatedDnaTemplate</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>simulatedDnaTemplate1<span class="token interpolation-punctuation punctuation">}</span></span></span>\n      <span class="token attr-name">@ready</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\n        <span class="token keyword">const</span> conductor <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">detail</span><span class="token punctuation">.</span><span class="token property-access">conductors</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">const</span> cellId <span class="token operator">=</span> conductor<span class="token punctuation">.</span><span class="token method function property-access">getAllCells</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">cellId</span><span class="token punctuation">;</span>\n\n        e<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">.</span><span class="token property-access">activeAgentPubKey</span> <span class="token operator">=</span> cellId<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n        conductor<span class="token punctuation">.</span><span class="token method function property-access">callZomeFn</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n          cellId<span class="token punctuation">,</span>\n          zome<span class="token punctuation">:</span> <span class="token string">"resources"</span><span class="token punctuation">,</span>\n          fnName<span class="token punctuation">:</span> <span class="token string">"create_resource"</span><span class="token punctuation">,</span>\n          payload<span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"sample resource"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          cap<span class="token punctuation">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token interpolation-punctuation punctuation">}</span></span>}</span>\n    <span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span> <span class="token property">flex-direction</span><span class="token punctuation">:</span> row</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>call-zome-fns</span>\n          <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>call-zome<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name">\n          <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">420</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token property">margin-right</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token unit">px</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span>\n        <span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>call-zome-fns</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>entry-contents</span><span class="token style-attr language-css"><span class="token attr-name">\n          <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">420</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token property">flex-basis</span><span class="token punctuation">:</span> <span class="token number">4500</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token unit">px</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span>\n        <span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>entry-contents</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span> <span class="token property">flex-direction</span><span class="token punctuation">:</span> row</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>dht-cells</span><span class="token style-attr language-css"><span class="token attr-name">\n          <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">600</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token property">flex</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token property">margin-right</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token unit">px</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span>\n        <span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>dht-cells</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>entry-graph</span>\n          <span class="token attr-name">.showFilter</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token boolean">false</span><span class="token interpolation-punctuation punctuation">}</span></span></span>\n          <span class="token attr-name">.showEntryContents</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token boolean">false</span><span class="token interpolation-punctuation punctuation">}</span></span></span><span class="token style-attr language-css"><span class="token attr-name">\n          <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">600</span><span class="token unit">px</span><span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">;</span> <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token unit">px</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span>\n        <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>entry-graph</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>holochain-playground-container</span><span class="token punctuation">></span></span>\n  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>'}];for(const e of LP){const t=PP.querySelector(`[mdjs-story-name="${e.key}"]`);t.codeHasHtml=!0,t.story=e.story,t.code=e.code}customElements.get("mdjs-preview")||import("./e6ce5ae0.js"),customElements.get("mdjs-story")||import("./5ccecf3a.js");
